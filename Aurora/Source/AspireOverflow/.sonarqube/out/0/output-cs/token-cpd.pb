˙—
mC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Controllers\ArticleController.cs
	namespace		 	
AspireOverflow		
 
.		 
Controllers		 $
;		$ %
[

 
ApiController

 
]

 
[ 
	Authorize 

]
 
[ 
Route 
( 
$str 
) 
]  
public 
class 
ArticleController 
:  
BaseController! /
{ 
private 
ILogger 
< 
ArticleController %
>% &
_logger' .
;. /
private 
IArticleService 
_articleService +
;+ ,
public 

ArticleController 
( 
ILogger $
<$ %
ArticleController% 6
>6 7
logger8 >
,> ?
IArticleService@ O
articleServiceP ^
)^ _
{ 
_logger 
= 
logger 
; 
_articleService 
= 
articleService (
;( )
} 
[ 
HttpPost 
] 
public 

async 
Task 
< 
ActionResult "
>" #
CreateArticle$ 1
(1 2
Article2 9
article: A
)A B
{   
if!! 

(!! 
article!! 
==!! 
null!! 
)!! 
return!! #

BadRequest!!$ .
(!!. /
Message!!/ 6
(!!6 7
$str!!7 T
)!!T U
)!!U V
;!!V W
try"" 
{## 	
article$$ 
.$$ 
	CreatedBy$$ 
=$$ 
GetCurrentUser$$  .
($$. /
)$$/ 0
.$$0 1
UserId$$1 7
;$$7 8
return%% 
_articleService%% "
.%%" #
CreateArticle%%# 0
(%%0 1
article%%1 8
)%%8 9
?%%: ;
await%%< A
Task%%B F
.%%F G

FromResult%%G Q
(%%Q R
Ok%%R T
(%%T U
Message%%U \
(%%\ ]
$str%%] s
)%%s t
)%%t u
)%%u v
:%%w x

BadRequest	%%y É
(
%%É Ñ
Message
%%Ñ ã
(
%%ã å
$"
%%å é
$str
%%é ±
"
%%± ≤
,
%%≤ ≥
article
%%¥ ª
)
%%ª º
)
%%º Ω
;
%%Ω æ
}&& 	
catch'' 
('' 
ValidationException'' "
	exception''# ,
)'', -
{(( 	
_logger** 
.** 
LogError** 
(** 
HelperService** *
.*** +
LoggerMessage**+ 8
(**8 9
$str**9 L
,**L M
$str**N n
,**n o
	exception**p y
,**y z
article	**{ Ç
)
**Ç É
)
**É Ñ
;
**Ñ Ö
return++ 

BadRequest++ 
(++ 
Message++ %
(++% &
	exception++& /
.++/ 0
Message++0 7
,++7 8
article++9 @
)++@ A
)++A B
;++B C
},, 	
catch-- 
(-- 
	Exception-- 
	exception-- "
)--" #
{.. 	
_logger// 
.// 
LogError// 
(// 
HelperService// *
.//* +
LoggerMessage//+ 8
(//8 9
$str//9 L
,//L M
$str//N n
,//n o
	exception//p y
,//y z
article	//{ Ç
)
//Ç É
)
//É Ñ
;
//Ñ Ö
return00 
Problem00 
(00 
$"00 
$str00 A
{00A B
HelperService00B O
.00O P
PropertyList00P \
(00\ ]
article00] d
)00d e
}00e f
"00f g
)00g h
;00h i
}11 	
}22 
[MM 
HttpPostMM 
]MM 
publicOO 

asyncOO 
TaskOO 
<OO 
ActionResultOO "
>OO" # 
CreatePrivateArticleOO$ 8
(OO8 9
PrivateArticleDtoOO9 J
privateArticleDtoOOK \
)OO\ ]
{PP 
ifQQ 

(QQ 
privateArticleDtoQQ 
==QQ  
nullQQ! %
)QQ% &
returnQQ' -

BadRequestQQ. 8
(QQ8 9
MessageQQ9 @
(QQ@ A
$strQQA ^
)QQ^ _
)QQ_ `
;QQ` a
tryRR 
{SS 	
privateArticleDtoTT 
.TT 
articleTT %
.TT% &
	CreatedByTT& /
=TT0 1
GetCurrentUserTT2 @
(TT@ A
)TTA B
.TTB C
UserIdTTC I
;TTI J
returnUU 
_articleServiceUU "
.UU" #
CreateArticleUU# 0
(UU0 1
privateArticleDtoUU1 B
.UUB C
articleUUC J
,UUJ K
privateArticleDtoUUL ]
.UU] ^
SharedUsersIdUU^ k
)UUk l
?UUm n
awaitUUo t
TaskUUu y
.UUy z

FromResult	UUz Ñ
(
UUÑ Ö
Ok
UUÖ á
(
UUá à
Message
UUà è
(
UUè ê
$str
UUê ¶
)
UU¶ ß
)
UUß ®
)
UU® ©
:
UU™ ´

BadRequest
UU¨ ∂
(
UU∂ ∑
Message
UU∑ æ
(
UUæ ø
$"
UUø ¡
$str
UU¡ Ï
"
UUÏ Ì
,
UUÌ Ó
privateArticleDto
UUÔ Ä
)
UUÄ Å
)
UUÅ Ç
;
UUÇ É
}VV 	
catchWW 
(WW 
ValidationExceptionWW "
	exceptionWW# ,
)WW, -
{XX 	
_loggerZZ 
.ZZ 
LogErrorZZ 
(ZZ 
HelperServiceZZ *
.ZZ* +
LoggerMessageZZ+ 8
(ZZ8 9
$strZZ9 L
,ZZL M
$strZZN 
,	ZZ Ä
	exception
ZZÅ ä
,
ZZä ã
privateArticleDto
ZZå ù
)
ZZù û
)
ZZû ü
;
ZZü †
return[[ 

BadRequest[[ 
([[ 
Message[[ %
([[% &
	exception[[& /
.[[/ 0
Message[[0 7
,[[7 8
privateArticleDto[[9 J
)[[J K
)[[K L
;[[L M
}\\ 	
catch]] 
(]] 
	Exception]] 
	exception]] "
)]]" #
{^^ 	
_logger__ 
.__ 
LogError__ 
(__ 
HelperService__ *
.__* +
LoggerMessage__+ 8
(__8 9
$str__9 L
,__L M
$str__N 
,	__ Ä
	exception
__Å ä
,
__ä ã
privateArticleDto
__å ù
)
__ù û
)
__û ü
;
__ü †
return`` 
Problem`` 
(`` 
$"`` 
$str`` G
"``G H
)``H I
;``I J
}aa 	
}bb 
[}} 
HttpPost}} 
]}} 
public~~ 

async~~ 
Task~~ 
<~~ 
ActionResult~~ "
>~~" #
CreateComment~~$ 1
(~~1 2
ArticleComment~~2 @
comment~~A H
)~~H I
{ 
if
ÅÅ 

(
ÅÅ 
comment
ÅÅ 
==
ÅÅ 
null
ÅÅ 
)
ÅÅ 
return
ÅÅ #

BadRequest
ÅÅ$ .
(
ÅÅ. /
Message
ÅÅ/ 6
(
ÅÅ6 7
$str
ÅÅ7 T
)
ÅÅT U
)
ÅÅU V
;
ÅÅV W
try
ÇÇ 
{
ÉÉ 	
comment
ÑÑ 
.
ÑÑ 
UserId
ÑÑ 
=
ÑÑ 
GetCurrentUser
ÑÑ +
(
ÑÑ+ ,
)
ÑÑ, -
.
ÑÑ- .
UserId
ÑÑ. 4
;
ÑÑ4 5
return
ÖÖ 
_articleService
ÖÖ "
.
ÖÖ" #
CreateComment
ÖÖ# 0
(
ÖÖ0 1
comment
ÖÖ1 8
)
ÖÖ8 9
?
ÖÖ: ;
await
ÖÖ< A
Task
ÖÖB F
.
ÖÖF G

FromResult
ÖÖG Q
(
ÖÖQ R
Ok
ÖÖR T
(
ÖÖT U
$strÖÖU Ä
)ÖÖÄ Å
)ÖÖÅ Ç
:ÖÖÉ Ñ

BadRequestÖÖÖ è
(ÖÖè ê
MessageÖÖê ó
(ÖÖó ò
$"ÖÖò ö
$strÖÖö æ
{ÖÖæ ø
HelperServiceÖÖø Ã
.ÖÖÃ Õ
PropertyListÖÖÕ Ÿ
(ÖÖŸ ⁄
commentÖÖ⁄ ·
)ÖÖ· ‚
}ÖÖ‚ „
"ÖÖ„ ‰
)ÖÖ‰ Â
)ÖÖÂ Ê
;ÖÖÊ Á
}
ÜÜ 	
catch
áá 
(
áá !
ValidationException
áá "
	exception
áá# ,
)
áá, -
{
àà 	
_logger
ââ 
.
ââ 
LogError
ââ 
(
ââ 
HelperService
ââ *
.
ââ* +
LoggerMessage
ââ+ 8
(
ââ8 9
$str
ââ9 L
,
ââL M
$str
ââN u
,
ââu v
	exceptionââw Ä
,ââÄ Å
commentââÇ â
)âââ ä
)ââä ã
;ââã å
return
ää 

BadRequest
ää 
(
ää 
Message
ää %
(
ää% &
	exception
ää& /
.
ää/ 0
Message
ää0 7
,
ää7 8
comment
ää9 @
)
ää@ A
)
ääA B
;
ääB C
}
ãã 	
catch
åå 
(
åå 
	Exception
åå 
	exception
åå "
)
åå" #
{
çç 	
_logger
éé 
.
éé 
LogError
éé 
(
éé 
HelperService
éé *
.
éé* +
LoggerMessage
éé+ 8
(
éé8 9
$str
éé9 L
,
ééL M
$str
ééN u
,
ééu v
	exceptionééw Ä
,ééÄ Å
commentééÇ â
)ééâ ä
)ééä ã
;ééã å
return
èè 
Problem
èè 
(
èè 
$"
èè 
$str
èè A
{
èèA B
HelperService
èèB O
.
èèO P
PropertyList
èèP \
(
èè\ ]
comment
èè] d
)
èèd e
}
èèe f
"
èèf g
)
èèg h
;
èèh i
}
êê 	
}
íí 
[
©© 
HttpPost
©© 
]
©© 
public
™™ 

async
™™ 
Task
™™ 
<
™™ 
ActionResult
™™ "
>
™™" #
AddLikeToArticle
™™$ 4
(
™™4 5
ArticleLike
™™5 @
Like
™™A E
)
™™E F
{
´´ 
if
¨¨ 

(
¨¨ 
Like
¨¨ 
==
¨¨ 
null
¨¨ 
)
¨¨ 
return
¨¨  

BadRequest
¨¨! +
(
¨¨+ ,
$str
¨¨, C
)
¨¨C D
;
¨¨D E
if
≠≠ 

(
≠≠ 
Like
≠≠ 
.
≠≠ 
	ArticleId
≠≠ 
<=
≠≠ 
$num
≠≠ 
)
≠≠  
return
≠≠! '

BadRequest
≠≠( 2
(
≠≠2 3
Message
≠≠3 :
(
≠≠: ;
$str
≠≠; ^
)
≠≠^ _
)
≠≠_ `
;
≠≠` a
Like
ÆÆ 
.
ÆÆ 
UserId
ÆÆ 
=
ÆÆ 
GetCurrentUser
ÆÆ $
(
ÆÆ$ %
)
ÆÆ% &
.
ÆÆ& '
UserId
ÆÆ' -
;
ÆÆ- .
try
ØØ 
{
∞∞ 	
if
±± 
(
±± 
!
±± 
_articleService
±±  
.
±±  !
AddLikeToArticle
±±! 1
(
±±1 2
Like
±±2 6
)
±±6 7
)
±±7 8

BadRequest
±±9 C
(
±±C D
Message
±±D K
(
±±K L
$str
±±L y
)
±±y z
)
±±z {
;
±±{ |
var
≤≤ 
Result
≤≤ 
=
≤≤ 
new
≤≤ 
{
≤≤ 
message
≤≤ &
=
≤≤' (
$str
≤≤) M
,
≤≤M N

LikesCount
≤≤O Y
=
≤≤Z [
_articleService
≤≤\ k
.
≤≤k l
GetLikesCount
≤≤l y
(
≤≤y z
Like
≤≤z ~
.
≤≤~ 
	ArticleId≤≤ à
)≤≤à â
}≤≤ä ã
;≤≤ã å
return
≥≥ 
await
≥≥ 
Task
≥≥ 
.
≥≥ 

FromResult
≥≥ (
(
≥≥( )
Ok
≥≥) +
(
≥≥+ ,
Result
≥≥, 2
)
≥≥2 3
)
≥≥3 4
;
≥≥4 5
}
¥¥ 	
catch
µµ 
(
µµ 
ArgumentException
µµ  
	exception
µµ! *
)
µµ* +
{
∂∂ 	
_logger
∑∑ 
.
∑∑ 
LogError
∑∑ 
(
∑∑ 
HelperService
∑∑ *
.
∑∑* +
LoggerMessage
∑∑+ 8
(
∑∑8 9
$str
∑∑9 L
,
∑∑L M
$str
∑∑N o
,
∑∑o p
	exception
∑∑q z
,
∑∑z {
Like∑∑| Ä
)∑∑Ä Å
)∑∑Å Ç
;∑∑Ç É
return
∏∏ 
Problem
∏∏ 
(
∏∏ 
$"
∏∏ 
{
∏∏ 
	exception
∏∏ '
.
∏∏' (
Message
∏∏( /
}
∏∏/ 0
"
∏∏0 1
)
∏∏1 2
;
∏∏2 3
}
ππ 	
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
	exception
∫∫ "
)
∫∫" #
{
ªª 	
_logger
ºº 
.
ºº 
LogError
ºº 
(
ºº 
HelperService
ºº *
.
ºº* +
LoggerMessage
ºº+ 8
(
ºº8 9
$str
ºº9 L
,
ººL M
$str
ººN o
,
ººo p
	exception
ººq z
,
ººz {
Likeºº| Ä
)ººÄ Å
)ººÅ Ç
;ººÇ É
return
ΩΩ 
Problem
ΩΩ 
(
ΩΩ 
$"
ΩΩ 
$str
ΩΩ @
{
ΩΩ@ A
Like
ΩΩA E
}
ΩΩE F
"
ΩΩF G
)
ΩΩG H
;
ΩΩH I
}
ææ 	
}
øø 
[
€€ 
HttpPut
€€ 
]
€€ 
public
›› 

async
›› 
Task
›› 
<
›› 
ActionResult
›› "
>
››" #
UpdateArticle
››$ 1
(
››1 2
Article
››2 9
article
››: A
)
››A B
{
ﬁﬁ 
if
ﬂﬂ 

(
ﬂﬂ 
article
ﬂﬂ 
==
ﬂﬂ 
null
ﬂﬂ 
)
ﬂﬂ 
return
ﬂﬂ #

BadRequest
ﬂﬂ$ .
(
ﬂﬂ. /
Message
ﬂﬂ/ 6
(
ﬂﬂ6 7
$str
ﬂﬂ7 N
)
ﬂﬂN O
)
ﬂﬂO P
;
ﬂﬂP Q
try
‡‡ 
{
·· 	
return
‚‚ 
_articleService
‚‚ "
.
‚‚" #
UpdateArticle
‚‚# 0
(
‚‚0 1
article
‚‚1 8
,
‚‚8 9
GetCurrentUser
‚‚: H
(
‚‚H I
)
‚‚I J
.
‚‚J K
UserId
‚‚K Q
)
‚‚Q R
?
‚‚S T
await
‚‚U Z
Task
‚‚[ _
.
‚‚_ `

FromResult
‚‚` j
(
‚‚j k
Ok
‚‚k m
(
‚‚m n
Message
‚‚n u
(
‚‚u v
$str‚‚v ò
)‚‚ò ô
)‚‚ô ö
)‚‚ö õ
:‚‚ú ù

BadRequest‚‚û ®
(‚‚® ©
Message‚‚© ∞
(‚‚∞ ±
$str‚‚± €
)‚‚€ ‹
)‚‚‹ ›
;‚‚› ﬁ
}
„„ 	
catch
‰‰ 
(
‰‰ !
ValidationException
‰‰ "
	exception
‰‰# ,
)
‰‰, -
{
ÂÂ 	
_logger
ÊÊ 
.
ÊÊ 
LogError
ÊÊ 
(
ÊÊ 
HelperService
ÊÊ *
.
ÊÊ* +
LoggerMessage
ÊÊ+ 8
(
ÊÊ8 9
$str
ÊÊ9 L
,
ÊÊL M
$str
ÊÊN n
,
ÊÊn o
	exception
ÊÊp y
,
ÊÊy z
articleÊÊ{ Ç
)ÊÊÇ É
)ÊÊÉ Ñ
;ÊÊÑ Ö
return
ÁÁ 

BadRequest
ÁÁ 
(
ÁÁ 
Message
ÁÁ %
(
ÁÁ% &
$"
ÁÁ& (
{
ÁÁ( )
	exception
ÁÁ) 2
.
ÁÁ2 3
Message
ÁÁ3 :
}
ÁÁ: ;
"
ÁÁ; <
,
ÁÁ< =
article
ÁÁ> E
)
ÁÁE F
)
ÁÁF G
;
ÁÁG H
}
ËË 	
catch
ÈÈ 
(
ÈÈ 
	Exception
ÈÈ 
	exception
ÈÈ "
)
ÈÈ" #
{
ÍÍ 	
_logger
ÎÎ 
.
ÎÎ 
LogError
ÎÎ 
(
ÎÎ 
HelperService
ÎÎ *
.
ÎÎ* +
LoggerMessage
ÎÎ+ 8
(
ÎÎ8 9
$str
ÎÎ9 L
,
ÎÎL M
$str
ÎÎN n
,
ÎÎn o
	exception
ÎÎp y
,
ÎÎy z
articleÎÎ{ Ç
)ÎÎÇ É
)ÎÎÉ Ñ
;ÎÎÑ Ö
return
ÏÏ 
Problem
ÏÏ 
(
ÏÏ 
$"
ÏÏ 
$str
ÏÏ A
{
ÏÏA B
HelperService
ÏÏB O
.
ÏÏO P
PropertyList
ÏÏP \
(
ÏÏ\ ]
article
ÏÏ] d
)
ÏÏd e
}
ÏÏe f
"
ÏÏf g
)
ÏÏg h
;
ÏÏh i
}
ÌÌ 	
}
ÔÔ 
[
ââ 
	HttpPatch
ââ 
]
ââ 
public
ää 

async
ää 
Task
ää 
<
ää 
ActionResult
ää "
>
ää" #!
ChangeArticleStatus
ää$ 7
(
ää7 8
int
ää8 ;
	ArticleId
ää< E
,
ääE F
int
ääG J
ArticleStatusID
ääK Z
)
ääZ [
{
ãã 
if
åå 

(
åå 
	ArticleId
åå 
<=
åå 
$num
åå 
||
åå 
ArticleStatusID
åå -
<=
åå. 0
$num
åå1 2
||
åå3 5
ArticleStatusID
åå6 E
>
ååF G
$num
ååH I
)
ååI J
return
ååK Q

BadRequest
ååR \
(
åå\ ]
Message
åå] d
(
ååd e
$strååe ”
)åå” ‘
)åå‘ ’
;åå’ ÷
if
çç 

(
çç 
ArticleStatusID
çç 
>=
çç 
$num
çç  
&&
çç! #
!
çç$ %
GetCurrentUser
çç% 3
(
çç3 4
)
çç4 5
.
çç5 6

IsReviewer
çç6 @
)
çç@ A
return
ççB H

BadRequest
ççI S
(
ççS T
Message
ççT [
(
çç[ \
$strçç\ â
)ççâ ä
)ççä ã
;ççã å
try
éé 
{
èè 	
return
ëë 
_articleService
ëë "
.
ëë" #!
ChangeArticleStatus
ëë# 6
(
ëë6 7
	ArticleId
ëë7 @
,
ëë@ A
ArticleStatusID
ëëB Q
,
ëëQ R
GetCurrentUser
ëëS a
(
ëëa b
)
ëëb c
.
ëëc d
UserId
ëëd j
)
ëëj k
?
ëël m
await
ëën s
Task
ëët x
.
ëëx y

FromResultëëy É
(ëëÉ Ñ
OkëëÑ Ü
(ëëÜ á
$"ëëá â
$strëëâ π
{ëëπ ∫
	ArticleIdëë∫ √
}ëë√ ƒ
"ëëƒ ≈
)ëë≈ ∆
)ëë∆ «
:ëë» …

BadRequestëë  ‘
(ëë‘ ’
Messageëë’ ‹
(ëë‹ ›
$"ëë› ﬂ
$strëëﬂ ó
{ëëó ò
	ArticleIdëëò °
}ëë° ¢
"ëë¢ £
)ëë£ §
)ëë§ •
;ëë• ¶
}
íí 	
catch
ìì 
(
ìì #
ItemNotFoundException
ìì $
	exception
ìì% .
)
ìì. /
{
îî 	
_logger
ïï 
.
ïï 
LogError
ïï 
(
ïï 
HelperService
ïï *
.
ïï* +
LoggerMessage
ïï+ 8
(
ïï8 9
$str
ïï9 L
,
ïïL M
$strïïN á
,ïïá à
	exceptionïïâ í
,ïïí ì
	ArticleIdïïî ù
,ïïù û
ArticleStatusIDïïü Æ
)ïïÆ Ø
)ïïØ ∞
;ïï∞ ±
return
ññ 
NotFound
ññ 
(
ññ 
$"
ññ 
{
ññ 
	exception
ññ (
.
ññ( )
Message
ññ) 0
}
ññ0 1
"
ññ1 2
)
ññ2 3
;
ññ3 4
}
óó 	
catch
òò 
(
òò 
	Exception
òò 
	exception
òò "
)
òò" #
{
ôô 	
_logger
öö 
.
öö 
LogError
öö 
(
öö 
HelperService
öö *
.
öö* +
LoggerMessage
öö+ 8
(
öö8 9
$str
öö9 L
,
ööL M
$strööN á
,ööá à
	exceptionööâ í
,ööí ì
	ArticleIdööî ù
,ööù û
ArticleStatusIDööü Æ
)ööÆ Ø
)ööØ ∞
;öö∞ ±
return
õõ 
Problem
õõ 
(
õõ 
$"
õõ 
$str
õõ V
{
õõV W
	ArticleId
õõW `
}
õõ` a
"
õõa b
)
õõb c
;
õõc d
}
úú 	
}
ùù 
[
°° 

HttpDelete
°° 
]
°° 
public
¢¢ 

async
¢¢ 
Task
¢¢ 
<
¢¢ 
ActionResult
¢¢ "
>
¢¢" #&
DeleteArticleByArticleId
¢¢$ <
(
¢¢< =
int
¢¢= @
	ArticleId
¢¢A J
)
¢¢J K
{
££ 
if
§§ 

(
§§ 
	ArticleId
§§ 
<=
§§ 
$num
§§ 
)
§§ 
return
§§ "

BadRequest
§§# -
(
§§- .
Message
§§. 5
(
§§5 6
$str
§§6 Y
)
§§Y Z
)
§§Z [
;
§§[ \
try
•• 
{
¶¶ 	
return
ßß 
_articleService
ßß "
.
ßß" #&
DeleteArticleByArticleId
ßß# ;
(
ßß; <
	ArticleId
ßß< E
)
ßßE F
?
ßßG H
await
ßßI N
Task
ßßO S
.
ßßS T

FromResult
ßßT ^
(
ßß^ _
Ok
ßß_ a
(
ßßa b
$strßßb ä
)ßßä ã
)ßßã å
:ßßç é

BadRequestßßè ô
(ßßô ö
Messageßßö °
(ßß° ¢
$"ßß¢ §
$strßß§ ÿ
{ßßÿ Ÿ
	ArticleIdßßŸ ‚
}ßß‚ „
$strßß„ ‰
"ßß‰ Â
)ßßÂ Ê
)ßßÊ Á
;ßßÁ Ë
}
®® 	
catch
©© 
(
©© 
ArgumentException
©©  
	exception
©©! *
)
©©* +
{
™™ 	
_logger
´´ 
.
´´ 
LogError
´´ 
(
´´ 
HelperService
´´ *
.
´´* +
LoggerMessage
´´+ 8
(
´´8 9
$str
´´9 L
,
´´L M
$str
´´N w
,
´´w x
	exception´´y Ç
,´´Ç É
	ArticleId´´Ñ ç
)´´ç é
)´´é è
;´´è ê
return
¨¨ 
Problem
¨¨ 
(
¨¨ 
$"
¨¨ 
{
¨¨ 
	exception
¨¨ '
.
¨¨' (
Message
¨¨( /
}
¨¨/ 0
"
¨¨0 1
)
¨¨1 2
;
¨¨2 3
}
≠≠ 	
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
	exception
ÆÆ "
)
ÆÆ" #
{
ØØ 	
_logger
∞∞ 
.
∞∞ 
LogError
∞∞ 
(
∞∞ 
HelperService
∞∞ *
.
∞∞* +
LoggerMessage
∞∞+ 8
(
∞∞8 9
$str
∞∞9 L
,
∞∞L M
$str
∞∞N w
,
∞∞w x
	exception∞∞y Ç
,∞∞Ç É
	ArticleId∞∞Ñ ç
)∞∞ç é
)∞∞é è
;∞∞è ê
return
±± 

BadRequest
±± 
(
±± 
Message
±± %
(
±±% &
$"
±±& (
$str
±±( W
{
±±W X
	ArticleId
±±X a
}
±±a b
"
±±b c
)
±±c d
)
±±d e
;
±±e f
}
≤≤ 	
}
≥≥ 
[
…… 
HttpGet
…… 
]
…… 
public
   

async
   
Task
   
<
   
ActionResult
   "
>
  " #
GetLatestArticles
  $ 5
(
  5 6
int
  6 9
Range
  : ?
=
  @ A
$num
  B C
)
  C D
{
ÀÀ 
try
ÃÃ 
{
ÕÕ 	
var
ŒŒ 
Articles
ŒŒ 
=
ŒŒ 
_articleService
ŒŒ *
.
ŒŒ* +
GetLatestArticles
ŒŒ+ <
(
ŒŒ< =
)
ŒŒ= >
.
ŒŒ> ?
ToList
ŒŒ? E
(
ŒŒE F
)
ŒŒF G
;
ŒŒG H
if
–– 
(
–– 
Range
–– 
<=
–– 
Articles
–– !
.
––! "
Count
––" '
(
––' (
)
––( )
)
––) *
{
—— 
Articles
““ 
=
““ 
Range
““  
>
““! "
$num
““# $
?
““% &
Articles
““' /
.
““/ 0
GetRange
““0 8
(
““8 9
$num
““9 :
,
““: ;
Range
““< A
)
““A B
:
““C D
Articles
““E M
;
““M N
return
”” 
await
”” 
Task
”” !
.
””! "

FromResult
””" ,
(
””, -
Ok
””- /
(
””/ 0
Articles
””0 8
)
””8 9
)
””9 :
;
””: ;
}
‘‘ 
else
’’ 
return
’’ 

BadRequest
’’ "
(
’’" #
Message
’’# *
(
’’* +
$str
’’+ A
)
’’A B
)
’’B C
;
’’C D
}
◊◊ 	
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
	exception
ÿÿ "
)
ÿÿ" #
{
ŸŸ 	
_logger
⁄⁄ 
.
⁄⁄ 
LogError
⁄⁄ 
(
⁄⁄ 
HelperService
⁄⁄ *
.
⁄⁄* +
LoggerMessage
⁄⁄+ 8
(
⁄⁄8 9
$str
⁄⁄9 L
,
⁄⁄L M
$str
⁄⁄N m
,
⁄⁄m n
	exception
⁄⁄o x
)
⁄⁄x y
)
⁄⁄y z
;
⁄⁄z {
return
€€ 
Problem
€€ 
(
€€ 
$str
€€ H
)
€€H I
;
€€I J
}
‹‹ 	
}
›› 
[
ÚÚ 
HttpGet
ÚÚ 
]
ÚÚ 
public
ÛÛ 

async
ÛÛ 
Task
ÛÛ 
<
ÛÛ 
ActionResult
ÛÛ "
>
ÛÛ" #!
GetTrendingArticles
ÛÛ$ 7
(
ÛÛ7 8
int
ÛÛ8 ;
Range
ÛÛ< A
=
ÛÛB C
$num
ÛÛD E
)
ÛÛE F
{
ÙÙ 
try
ıı 
{
ˆˆ 	
var
˜˜ 
Articles
˜˜ 
=
˜˜ 
_articleService
˜˜ *
.
˜˜* +!
GetTrendingArticles
˜˜+ >
(
˜˜> ?
)
˜˜? @
.
˜˜@ A
ToList
˜˜A G
(
˜˜G H
)
˜˜H I
;
˜˜I J
if
˘˘ 
(
˘˘ 
Range
˘˘ 
<=
˘˘ 
Articles
˘˘ !
.
˘˘! "
Count
˘˘" '
(
˘˘' (
)
˘˘( )
)
˘˘) *
{
˙˙ 
Articles
˚˚ 
=
˚˚ 
Range
˚˚  
>
˚˚! "
$num
˚˚# $
?
˚˚% &
Articles
˚˚' /
.
˚˚/ 0
GetRange
˚˚0 8
(
˚˚8 9
$num
˚˚9 :
,
˚˚: ;
Range
˚˚< A
)
˚˚A B
:
˚˚C D
Articles
˚˚E M
;
˚˚M N
return
¸¸ 
await
¸¸ 
Task
¸¸ !
.
¸¸! "

FromResult
¸¸" ,
(
¸¸, -
Ok
¸¸- /
(
¸¸/ 0
Articles
¸¸0 8
)
¸¸8 9
)
¸¸9 :
;
¸¸: ;
}
˝˝ 
else
˛˛ 
return
˛˛ 

BadRequest
˛˛ "
(
˛˛" #
Message
˛˛# *
(
˛˛* +
$str
˛˛+ A
)
˛˛A B
)
˛˛B C
;
˛˛C D
}
ˇˇ 	
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
	exception
ÄÄ "
)
ÄÄ" #
{
ÅÅ 	
_logger
ÇÇ 
.
ÇÇ 
LogError
ÇÇ 
(
ÇÇ 
HelperService
ÇÇ *
.
ÇÇ* +
LoggerMessage
ÇÇ+ 8
(
ÇÇ8 9
$str
ÇÇ9 L
,
ÇÇL M
$str
ÇÇN n
,
ÇÇn o
	exception
ÇÇp y
)
ÇÇy z
)
ÇÇz {
;
ÇÇ{ |
return
ÉÉ 
Problem
ÉÉ 
(
ÉÉ 
$str
ÉÉ H
)
ÉÉH I
;
ÉÉI J
}
ÑÑ 	
}
ÖÖ 
[
öö 
HttpGet
öö 
]
öö 
public
õõ 

async
õõ 
Task
õõ 
<
õõ 
ActionResult
õõ "
>
õõ" #
GetArticleById
õõ$ 2
(
õõ2 3
int
õõ3 6
	ArticleId
õõ7 @
)
õõ@ A
{
úú 
if
ùù 

(
ùù 
	ArticleId
ùù 
<=
ùù 
$num
ùù 
)
ùù 
return
ùù "

BadRequest
ùù# -
(
ùù- .
Message
ùù. 5
(
ùù5 6
$str
ùù6 Y
)
ùùY Z
)
ùùZ [
;
ùù[ \
try
ûû 
{
üü 	
return
†† 
await
†† 
Task
†† 
.
†† 

FromResult
†† (
(
††( )
Ok
††) +
(
††+ ,
_articleService
††, ;
.
††; <
GetArticleById
††< J
(
††J K
	ArticleId
††K T
)
††T U
)
††U V
)
††V W
;
††W X
}
°° 	
catch
¢¢ 
(
¢¢ #
ItemNotFoundException
¢¢ $
	exception
¢¢% .
)
¢¢. /
{
££ 	
_logger
§§ 
.
§§ 
LogError
§§ 
(
§§ 
HelperService
§§ *
.
§§* +
LoggerMessage
§§+ 8
(
§§8 9
$str
§§9 L
,
§§L M
$str
§§N m
,
§§m n
	exception
§§o x
,
§§x y
	ArticleId§§z É
)§§É Ñ
)§§Ñ Ö
;§§Ö Ü
return
•• 

BadRequest
•• 
(
•• 
Message
•• %
(
••% &
$"
••& (
{
••( )
	exception
••) 2
.
••2 3
Message
••3 :
}
••: ;
"
••; <
)
••< =
)
••= >
;
••> ?
}
¶¶ 	
catch
ßß 
(
ßß 
	Exception
ßß 
	exception
ßß "
)
ßß" #
{
®® 	
_logger
©© 
.
©© 
LogError
©© 
(
©© 
HelperService
©© *
.
©©* +
LoggerMessage
©©+ 8
(
©©8 9
$str
©©9 L
,
©©L M
$str
©©N m
,
©©m n
	exception
©©o x
,
©©x y
	ArticleId©©z É
)©©É Ñ
)©©Ñ Ö
;©©Ö Ü
return
™™ 
Problem
™™ 
(
™™ 
$"
™™ 
$str
™™ R
{
™™R S
	ArticleId
™™S \
}
™™\ ]
"
™™] ^
)
™™^ _
;
™™_ `
}
´´ 	
}
¨¨ 
[
∫∫ 
HttpGet
∫∫ 
]
∫∫ 
public
ªª 

async
ªª 
Task
ªª 
<
ªª 
ActionResult
ªª "
>
ªª" #
GetAll
ªª$ *
(
ªª* +
)
ªª+ ,
{
ºº 
try
ææ 
{
øø 	
var
¡¡ 
Articles
¡¡ 
=
¡¡ 
_articleService
¡¡ *
.
¡¡* +
GetListOfArticles
¡¡+ <
(
¡¡< =
)
¡¡= >
;
¡¡> ?
return
√√ 
await
√√ 
Task
√√ 
.
√√ 

FromResult
√√ (
(
√√( )
Ok
√√) +
(
√√+ ,
Articles
√√, 4
)
√√4 5
)
√√5 6
;
√√6 7
}
ƒƒ 	
catch
≈≈ 
(
≈≈ 
	Exception
≈≈ 
	exception
≈≈ "
)
≈≈" #
{
∆∆ 	
_logger
«« 
.
«« 
LogError
«« 
(
«« 
HelperService
«« *
.
««* +
LoggerMessage
««+ 8
(
««8 9
$str
««9 L
,
««L M
$str
««N Y
,
««Y Z
	exception
««[ d
)
««d e
)
««e f
;
««f g
return
»» 
Problem
»» 
(
»» 
$str
»» H
)
»»H I
;
»»I J
}
…… 	
}
   
[
◊◊ 
HttpGet
◊◊ 
]
◊◊ 
public
ÿÿ 

async
ÿÿ 
Task
ÿÿ 
<
ÿÿ 
ActionResult
ÿÿ "
>
ÿÿ" #!
GetArticlesByUserId
ÿÿ$ 7
(
ÿÿ7 8
)
ÿÿ8 9
{
ŸŸ 
try
€€ 
{
‹‹ 	
var
›› #
ListOfArticleByUserId
›› %
=
››& '
_articleService
››( 7
.
››7 8!
GetArticlesByUserId
››8 K
(
››K L
GetCurrentUser
››L Z
(
››Z [
)
››[ \
.
››\ ]
UserId
››] c
)
››c d
;
››d e
return
ﬂﬂ 
await
ﬂﬂ 
Task
ﬂﬂ 
.
ﬂﬂ 

FromResult
ﬂﬂ (
(
ﬂﬂ( )
Ok
ﬂﬂ) +
(
ﬂﬂ+ ,#
ListOfArticleByUserId
ﬂﬂ, A
)
ﬂﬂA B
)
ﬂﬂB C
;
ﬂﬂC D
}
‡‡ 	
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
	exception
‚‚ "
)
‚‚" #
{
„„ 	
_logger
‰‰ 
.
‰‰ 
LogError
‰‰ 
(
‰‰ 
HelperService
‰‰ *
.
‰‰* +
LoggerMessage
‰‰+ 8
(
‰‰8 9
$str
‰‰9 L
,
‰‰L M
$str
‰‰N o
,
‰‰o p
	exception
‰‰q z
)
‰‰z {
)
‰‰{ |
;
‰‰| }
return
ÂÂ 
Problem
ÂÂ 
(
ÂÂ 
$"
ÂÂ 
$str
ÂÂ b
"
ÂÂb c
)
ÂÂc d
;
ÂÂd e
}
ÊÊ 	
}
ËË 
[
ˇˇ 
HttpGet
ˇˇ 
]
ˇˇ 
public
ÄÄ 

async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
ActionResult
ÄÄ "
>
ÄÄ" # 
GetPrivateArticles
ÄÄ$ 6
(
ÄÄ6 7
int
ÄÄ7 :
UserId
ÄÄ; A
)
ÄÄA B
{
ÅÅ 
if
ÇÇ 

(
ÇÇ 
UserId
ÇÇ 
<=
ÇÇ 
$num
ÇÇ 
)
ÇÇ 
return
ÇÇ 

BadRequest
ÇÇ  *
(
ÇÇ* +
Message
ÇÇ+ 2
(
ÇÇ2 3
$str
ÇÇ3 R
)
ÇÇR S
)
ÇÇS T
;
ÇÇT U
try
ÉÉ 
{
ÑÑ 	
var
ÖÖ #
ListOfPrivateArticles
ÖÖ %
=
ÖÖ& '
_articleService
ÖÖ( 7
.
ÖÖ7 8 
GetPrivateArticles
ÖÖ8 J
(
ÖÖJ K
UserId
ÖÖK Q
)
ÖÖQ R
;
ÖÖR S
return
áá 
await
áá 
Task
áá 
.
áá 

FromResult
áá (
(
áá( )
Ok
áá) +
(
áá+ ,#
ListOfPrivateArticles
áá, A
)
ááA B
)
ááB C
;
ááC D
}
àà 	
catch
ää 
(
ää 
	Exception
ää 
	exception
ää "
)
ää" #
{
ãã 	
_logger
åå 
.
åå 
LogError
åå 
(
åå 
HelperService
åå *
.
åå* +
LoggerMessage
åå+ 8
(
åå8 9
$str
åå9 L
,
ååL M
$str
ååN o
,
ååo p
	exception
ååq z
,
ååz {
UserIdåå| Ç
)ååÇ É
)ååÉ Ñ
;ååÑ Ö
return
çç 
Problem
çç 
(
çç 
$"
çç 
$str
çç H
"
ççH I
)
ççI J
;
ççJ K
}
éé 	
}
êê 
[
®® 
HttpGet
®® 
]
®® 
public
©© 

async
©© 
Task
©© 
<
©© 
ActionResult
©© "
>
©©" # 
GetArticlesByTitle
©©$ 6
(
©©6 7
string
©©7 =
Title
©©> C
)
©©C D
{
™™ 
if
´´ 

(
´´ 
String
´´ 
.
´´ 
IsNullOrEmpty
´´  
(
´´  !
Title
´´! &
)
´´& '
)
´´' (
return
´´) /

BadRequest
´´0 :
(
´´: ;
Message
´´; B
(
´´B C
$str
´´C X
)
´´X Y
)
´´Y Z
;
´´Z [
try
¨¨ 
{
≠≠ 	
var
ÆÆ #
ListOfArticlesByTitle
ÆÆ %
=
ÆÆ& '
_articleService
ÆÆ( 7
.
ÆÆ7 8 
GetArticlesByTitle
ÆÆ8 J
(
ÆÆJ K
Title
ÆÆK P
)
ÆÆP Q
;
ÆÆQ R
return
∞∞ 
await
∞∞ 
Task
∞∞ 
.
∞∞ 

FromResult
∞∞ (
(
∞∞( )
Ok
∞∞) +
(
∞∞+ ,#
ListOfArticlesByTitle
∞∞, A
)
∞∞A B
)
∞∞B C
;
∞∞C D
}
±± 	
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
	exception
≥≥ "
)
≥≥" #
{
¥¥ 	
_logger
µµ 
.
µµ 
LogError
µµ 
(
µµ 
HelperService
µµ *
.
µµ* +
LoggerMessage
µµ+ 8
(
µµ8 9
$str
µµ9 L
,
µµL M
$str
µµN p
,
µµp q
	exception
µµr {
,
µµ{ |
Titleµµ} Ç
)µµÇ É
)µµÉ Ñ
;µµÑ Ö
return
∂∂ 
Problem
∂∂ 
(
∂∂ 
$"
∂∂ 
$str
∂∂ U
{
∂∂U V
Title
∂∂V [
}
∂∂[ \
"
∂∂\ ]
)
∂∂] ^
;
∂∂^ _
}
∏∏ 	
}
ªª 
[
”” 
HttpGet
”” 
]
”” 
public
‘‘ 

async
‘‘ 
Task
‘‘ 
<
‘‘ 
ActionResult
‘‘ "
>
‘‘" #!
GetArticlesByAuthor
‘‘$ 7
(
‘‘7 8
string
‘‘8 >

AuthorName
‘‘? I
)
‘‘I J
{
’’ 
if
÷÷ 

(
÷÷ 
String
÷÷ 
.
÷÷ 
IsNullOrEmpty
÷÷  
(
÷÷  !

AuthorName
÷÷! +
)
÷÷+ ,
)
÷÷, -
return
÷÷. 4

BadRequest
÷÷5 ?
(
÷÷? @
Message
÷÷@ G
(
÷÷G H
$str
÷÷H c
)
÷÷c d
)
÷÷d e
;
÷÷e f
try
◊◊ 
{
ÿÿ 	
var
ŸŸ $
ListOfArticlesByAuthor
ŸŸ &
=
ŸŸ' (
_articleService
ŸŸ) 8
.
ŸŸ8 9 
GetArticlesByTitle
ŸŸ9 K
(
ŸŸK L

AuthorName
ŸŸL V
)
ŸŸV W
;
ŸŸW X
return
€€ 
await
€€ 
Task
€€ 
.
€€ 

FromResult
€€ (
(
€€( )
Ok
€€) +
(
€€+ ,$
ListOfArticlesByAuthor
€€, B
)
€€B C
)
€€C D
;
€€D E
}
‹‹ 	
catch
ﬁﬁ 
(
ﬁﬁ 
	Exception
ﬁﬁ 
	exception
ﬁﬁ "
)
ﬁﬁ" #
{
ﬂﬂ 	
_logger
‡‡ 
.
‡‡ 
LogError
‡‡ 
(
‡‡ 
HelperService
‡‡ *
.
‡‡* +
LoggerMessage
‡‡+ 8
(
‡‡8 9
$str
‡‡9 L
,
‡‡L M
$str
‡‡N v
,
‡‡v w
	exception‡‡x Å
,‡‡Å Ç

AuthorName‡‡É ç
)‡‡ç é
)‡‡é è
;‡‡è ê
return
·· 
Problem
·· 
(
·· 
$"
·· 
$str
·· U
{
··U V

AuthorName
··V `
}
··` a
"
··a b
)
··b c
;
··c d
}
„„ 	
}
ÂÂ 
[
˚˚ 
HttpGet
˚˚ 
]
˚˚ 
public
¸¸ 

async
¸¸ 
Task
¸¸ 
<
¸¸ 
IActionResult
¸¸ #
>
¸¸# $*
GetArticlesByArticleStatusId
¸¸% A
(
¸¸A B
int
¸¸B E
ArticleStatusID
¸¸F U
)
¸¸U V
{
˝˝ 
if
ˇˇ 

(
ˇˇ 
ArticleStatusID
ˇˇ 
<=
ˇˇ 
$num
ˇˇ  
||
ˇˇ! #
ArticleStatusID
ˇˇ$ 3
>
ˇˇ4 5
$num
ˇˇ6 7
)
ˇˇ7 8
return
ˇˇ9 ?

BadRequest
ˇˇ@ J
(
ˇˇJ K
Message
ˇˇK R
(
ˇˇR S
$"
ˇˇS U
$strˇˇU è
{ˇˇè ê
ArticleStatusIDˇˇê ü
}ˇˇü †
"ˇˇ† °
)ˇˇ° ¢
)ˇˇ¢ £
;ˇˇ£ §
try
ÄÄ 
{
ÅÅ 	
var
ÉÉ 
ListOfArticles
ÉÉ 
=
ÉÉ  
_articleService
ÉÉ! 0
.
ÉÉ0 1*
GetArticlesByArticleStatusId
ÉÉ1 M
(
ÉÉM N
ArticleStatusID
ÉÉN ]
)
ÉÉ] ^
;
ÉÉ^ _
return
ÑÑ 
await
ÑÑ 
Task
ÑÑ 
.
ÑÑ 

FromResult
ÑÑ (
(
ÑÑ( )
Ok
ÑÑ) +
(
ÑÑ+ ,
ListOfArticles
ÑÑ, :
)
ÑÑ: ;
)
ÑÑ; <
;
ÑÑ< =
}
áá 	
catch
àà 
(
àà 
	Exception
àà 
	exception
àà "
)
àà" #
{
ââ 	
_logger
ää 
.
ää 
LogError
ää 
(
ää 
HelperService
ää *
.
ää* +
LoggerMessage
ää+ 8
(
ää8 9
$str
ää9 L
,
ääL M
$strääN Å
,ääÅ Ç
	exceptionääÉ å
)ääå ç
,ääç é
ArticleStatusIDääè û
)ääû ü
;ääü †
return
ãã 
Problem
ãã 
(
ãã 
$str
ãã 9
)
ãã9 :
;
ãã: ;
}
åå 	
}
éé 
[
¶¶ 
HttpGet
¶¶ 
]
¶¶ 
public
ßß 

async
ßß 
Task
ßß 
<
ßß 
ActionResult
ßß "
>
ßß" #
GetComments
ßß$ /
(
ßß/ 0
int
ßß0 3
	ArticleId
ßß4 =
)
ßß= >
{
®® 
if
©© 

(
©© 
	ArticleId
©© 
<=
©© 
$num
©© 
)
©© 
return
©© "

BadRequest
©©# -
(
©©- .
Message
©©. 5
(
©©5 6
$str
©©6 X
)
©©X Y
)
©©Y Z
;
©©Z [
try
™™ 
{
´´ 	
var
¨¨ 
ListOfComments
¨¨ 
=
¨¨  
_articleService
¨¨! 0
.
¨¨0 1
GetComments
¨¨1 <
(
¨¨< =
	ArticleId
¨¨= F
)
¨¨F G
;
¨¨G H
return
ÆÆ 
await
ÆÆ 
Task
ÆÆ 
.
ÆÆ 

FromResult
ÆÆ (
(
ÆÆ( )
Ok
ÆÆ) +
(
ÆÆ+ ,
ListOfComments
ÆÆ, :
)
ÆÆ: ;
)
ÆÆ; <
;
ÆÆ< =
}
ØØ 	
catch
±± 
(
±± 
	Exception
±± 
	exception
±± "
)
±±" #
{
≤≤ 	
_logger
≥≥ 
.
≥≥ 
LogError
≥≥ 
(
≥≥ 
HelperService
≥≥ *
.
≥≥* +
LoggerMessage
≥≥+ 8
(
≥≥8 9
$str
≥≥9 L
,
≥≥L M
nameof
≥≥N T
(
≥≥T U
GetComments
≥≥U `
)
≥≥` a
,
≥≥a b
	exception
≥≥c l
,
≥≥l m
	ArticleId
≥≥n w
)
≥≥w x
)
≥≥x y
;
≥≥y z
return
¥¥ 
Problem
¥¥ 
(
¥¥ 
$"
¥¥ 
$str
¥¥ Y
{
¥¥Y Z
	ArticleId
¥¥Z c
}
¥¥c d
"
¥¥d e
)
¥¥e f
;
¥¥f g
}
∑∑ 	
}
ªª 
}¿¿ Ã
jC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Controllers\BaseController.cs
	namespace 	
AspireOverflow
 
. 
Controllers $
{ 
public

 

class

 
BaseController

 
:

  !
ControllerBase

" 0
{ 
	protected 
object 
Message  
(  !
string! '
message( /
,/ 0
object1 7
?7 8
obj9 <
== >
null? C
)C D
{ 	
if 
( 
Message 
!= 
null 
&&  "
obj# &
==' )
null* .
). /
return0 6
new7 :
{; <
Message= D
=E F
messageG N
}O P
;P Q
else 
if 
( 
Message 
!= 
null  $
&&% '
obj( +
!=, .
null/ 3
)3 4
return5 ;
new< ?
{@ A
MessageB I
=J K
messageL S
,S T

DataPassedU _
=` a
objb e
}f g
;g h
else 
return 
new 
{ 
} 
;  
} 	
	protected 
CurrentUser 
GetCurrentUser ,
(, -
)- .
{ 	
var 
CurrentUser 
= 
new !
CurrentUser" -
(- .
). /
;/ 0
if 
( 
User 
!= 
null 
) 
{ 
CurrentUser 
. 
UserId "
=# $
Convert% ,
., -
ToInt32- 4
(4 5
User5 9
.9 :
	FindFirst: C
(C D
$strD L
)L M
?M N
.N O
ValueO T
)T U
;U V
CurrentUser 
. 
Email !
=" #
User$ (
.( )
	FindFirst) 2
(2 3

ClaimTypes3 =
.= >
Email> C
)C D
?D E
.E F
ValueF K
;K L
CurrentUser 
. 
RoleId "
=# $
Convert% ,
., -
ToInt32- 4
(4 5
User5 9
.9 :
	FindFirst: C
(C D

ClaimTypesD N
.N O
RoleO S
)S T
?T U
.U V
ValueV [
)[ \
;\ ]
CurrentUser 
. 

IsReviewer &
=' (
Convert) 0
.0 1
	ToBoolean1 :
(: ;
User; ?
.? @
	FindFirst@ I
(I J
$strJ V
)V W
?W X
.X Y
ValueY ^
)^ _
;_ `
return 
CurrentUser "
;" #
}   
return!! 
CurrentUser!! 
;!! 
}%% 	
}&& 
}'' ¯@
oC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Controllers\DashboardController.cs
	namespace		 	
AspireOverflow		
 
.		 
Controllers		 $
{

 
[ 
ApiController 
] 
[ 
	Authorize 
] 
[ 
Route 

(
 
$str "
)" #
]# $
public 

class 
DashboardController $
:% &
BaseController' 5
{ 
internal 
ILogger 
< 
DashboardController ,
>, -
_logger. 5
;5 6
private 
IArticleService 
_articleService  /
;/ 0
private 
IQueryService 
_queryService +
;+ ,
private 
IUserService 
_userService )
;) *
public 
DashboardController "
(" #
ILogger# *
<* +
DashboardController+ >
>> ?
logger@ F
,F G
IArticleServiceH W
articleServiceX f
,f g
IQueryServiceh u
queryService	v Ç
,
Ç É
IUserService
Ñ ê
userService
ë ú
)
ú ù
{ 	
_logger 
= 
logger 
; 
_articleService 
= 
articleService ,
;, -
_userService 
= 
userService &
;& '
_queryService 
= 
queryService (
;( )
} 	
[11 	
HttpGet11	 
]11 
public33 
async33 
Task33 
<33 
ActionResult33 &
>33& ' 
GetReviewerDashboard33( <
(33< =
int33= @

ReviewerId33A K
)33K L
{44 	
try55 
{66 
var77  
DashboardInformation77 (
=77) *
new77+ .
{88 !
TotalNumberOfArticles99 )
=99* +
_articleService99, ;
.99; <
GetListOfArticles99< M
(99M N
)99N O
.99O P
Count99P U
(99U V
)99V W
,99W X 
ArticlesTobeReviewed:: (
=::) *
_articleService::+ :
.::: ;(
GetArticlesByArticleStatusId::; W
(::W X
$num::X Y
)::Y Z
.::Z [
Count::[ `
(::` a
)::a b
,::b c
ArticlesReviewed;; $
=;;% &
_articleService;;' 6
.;;6 7#
GetArticlesByReviewerId;;7 N
(;;N O

ReviewerId;;O Y
);;Y Z
.;;Z [
Count;;[ `
(;;` a
);;a b
,;;b c
}== 
;== 
return== 
await== 
Task==  $
.==$ %

FromResult==% /
(==/ 0
Ok==0 2
(==2 3 
DashboardInformation==3 G
)==G H
)==H I
;==I J
}>> 
catch?? 
(?? 
	Exception?? 
	exception?? &
)??& '
{@@ 
_loggerAA 
.AA 
LogErrorAA  
(AA  !
HelperServiceAA! .
.AA. /
LoggerMessageAA/ <
(AA< =
$strAA= R
,AAR S
$strAAT z
,AAz {
	exception	AA| Ö
)
AAÖ Ü
)
AAÜ á
;
AAá à
returnBB 

BadRequestBB !
(BB! "
$strBB" O
)BBO P
;BBP Q
}CC 
}DD 	
[SS 	
HttpGetSS	 
]SS 
publicUU 
asyncUU 
TaskUU 
<UU 
ActionResultUU &
>UU& '
GetAdminDashboardUU( 9
(UU9 :
)UU: ;
{VV 	
tryWW 
{XX 
varYY  
DashboardInformationYY (
=YY) *
newYY+ .
{ZZ !
TotalNumberOfArticles[[ )
=[[* +
_articleService[[, ;
.[[; <
GetAll[[< B
([[B C
)[[C D
.[[D E
Count[[E J
([[J K
)[[K L
,[[L M
TotalNumberOfUsers\\ &
=\\' (
_userService\\) 5
.\\5 6
GetUsers\\6 >
(\\> ?
)\\? @
.\\@ A
Count\\A F
(\\F G
)\\G H
,\\H I!
TotalNumberOfReviwers]] )
=]]* +
_userService]], 8
.]]8 9 
GetUsersByIsReviewer]]9 M
(]]M N
true]]N R
)]]R S
.]]S T
Count]]T Y
(]]Y Z
)]]Z [
,]][ \ 
TotalNumberofQueries^^ (
=^^) *
_queryService^^+ 8
.^^8 9
GetListOfQueries^^9 I
(^^I J
)^^J K
.^^K L
Count^^L Q
(^^Q R
)^^R S
,^^S T%
TotaNumberofSolvedQueries__ -
=__. /
_queryService__0 =
.__= >

GetQueries__> H
(__H I
true__I M
)__M N
.__N O
Count__O T
(__T U
)__U V
,__V W(
TotalNumberOfUnSolvedQueries`` 0
=``1 2
_queryService``3 @
.``@ A

GetQueries``A K
(``K L
false``L Q
)``Q R
.``R S
Count``S X
(``X Y
)``Y Z
,``Z [
}bb 
;bb 
returnbb 
awaitbb 
Taskbb  $
.bb$ %

FromResultbb% /
(bb/ 0
Okbb0 2
(bb2 3 
DashboardInformationbb3 G
)bbG H
)bbH I
;bbI J
}cc 
catchdd 
(dd 
	Exceptiondd 
	exceptiondd &
)dd& '
{ee 
_loggerff 
.ff 
LogErrorff  
(ff  !
HelperServiceff! .
.ff. /
LoggerMessageff/ <
(ff< =
$strff= R
,ffR S
$strffT i
,ffi j
	exceptionffk t
)fft u
)ffu v
;ffv w
returngg 

BadRequestgg !
(gg! "
$strgg" O
)ggO P
;ggP Q
}hh 
}ii 	
[ww 	
HttpGetww	 
]ww 
[ww 
AllowAnonymousww  
]ww  !
publicyy 
asyncyy 
Taskyy 
<yy 
ActionResultyy &
>yy& '
GetHomePageyy( 3
(yy3 4
)yy4 5
{zz 	
try{{ 
{|| 
var}} 
Data}} 
=}} 
new}} 
{~~ 
TrendingArticles $
=% &
_articleService' 6
.6 7
GetTrendingArticles7 J
(J K
)K L
,L M
LatestArticles
ÄÄ "
=
ÄÄ# $
_articleService
ÄÄ% 4
.
ÄÄ4 5
GetLatestArticles
ÄÄ5 F
(
ÄÄF G
)
ÄÄG H
,
ÄÄH I
TrendingQueries
ÅÅ #
=
ÅÅ$ %
_queryService
ÅÅ& 3
.
ÅÅ3 4 
GetTrendingQueries
ÅÅ4 F
(
ÅÅF G
)
ÅÅG H
,
ÅÅH I
LatestQueries
ÇÇ !
=
ÇÇ" #
_queryService
ÇÇ$ 1
.
ÇÇ1 2
GetLatestQueries
ÇÇ2 B
(
ÇÇB C
)
ÇÇC D
,
ÇÇD E
}
ÖÖ 
;
ÖÖ 
return
ÖÖ 
await
ÖÖ 
Task
ÖÖ  $
.
ÖÖ$ %

FromResult
ÖÖ% /
(
ÖÖ/ 0
Ok
ÖÖ0 2
(
ÖÖ2 3
Data
ÖÖ3 7
)
ÖÖ7 8
)
ÖÖ8 9
;
ÖÖ9 :
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
	exception
áá &
)
áá& '
{
àà 
_logger
ââ 
.
ââ 
LogError
ââ  
(
ââ  !
HelperService
ââ! .
.
ââ. /
LoggerMessage
ââ/ <
(
ââ< =
$str
ââ= R
,
ââR S
$str
ââT c
,
ââc d
	exception
ââe n
)
âân o
)
ââo p
;
ââp q
return
ää 

BadRequest
ää !
(
ää! "
$str
ää" O
)
ääO P
;
ääP Q
}
ãã 
}
åå 	
}
êê 
}ëë Ûï
kC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Controllers\QueryController.cs
	namespace 	
AspireOverflow
 
. 
Controllers $
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str "
)" #
]# $
public 

class 
QueryController  
:! "
BaseController# 1
{ 
internal 
ILogger 
< 
QueryController (
>( )
_logger* 1
;1 2
private 
IQueryService 
_queryService +
;+ ,
public 
QueryController 
( 
ILogger &
<& '
QueryController' 6
>6 7
logger8 >
,> ?
IQueryService@ M
queryServiceN Z
)Z [
{ 	
_logger 
= 
logger 
; 
_queryService 
= 
queryService (
;( )
} 	
[88 	
HttpPost88	 
]88 
public:: 
async:: 
Task:: 
<:: 
ActionResult:: &
>::& '
CreateQuery::( 3
(::3 4
Query::4 9
query::: ?
)::? @
{;; 	
if<< 
(<< 
query<< 
==<< 
null<< 
)<< 
return<< %

BadRequest<<& 0
(<<0 1
Message<<1 8
(<<8 9
$str<<9 V
)<<V W
)<<W X
;<<X Y
try== 
{>> 
query?? 
.?? 
	CreatedBy?? 
=?? 
GetCurrentUser?? -
(??- .
)??. /
.??/ 0
UserId??0 6
;??6 7
return@@ 
_queryService@@ $
.@@$ %
CreateQuery@@% 0
(@@0 1
query@@1 6
)@@6 7
?@@8 9
await@@: ?
Task@@@ D
.@@D E

FromResult@@E O
(@@O P
Ok@@P R
(@@R S
Message@@S Z
(@@Z [
$str@@[ q
)@@q r
)@@r s
)@@s t
:@@u v

BadRequest	@@w Å
(
@@Å Ç
Message
@@Ç â
(
@@â ä
$"
@@ä å
$str
@@å Æ
{
@@Æ Ø
HelperService
@@Ø º
.
@@º Ω
PropertyList
@@Ω …
(
@@…  
query
@@  œ
)
@@œ –
}
@@– —
"
@@— “
)
@@“ ”
)
@@” ‘
;
@@‘ ’
}AA 
catchBB 
(BB 
ValidationExceptionBB &
	exceptionBB' 0
)BB0 1
{CC 
_loggerEE 
.EE 
LogErrorEE  
(EE  !
HelperServiceEE! .
.EE. /
LoggerMessageEE/ <
(EE< =
$strEE= N
,EEN O
$strEEP j
,EEj k
	exceptionEEl u
,EEu v
queryEEw |
)EE| }
)EE} ~
;EE~ 
returnFF 

BadRequestFF !
(FF! "
MessageFF" )
(FF) *
$"FF* ,
{FF, -
	exceptionFF- 6
.FF6 7
MessageFF7 >
}FF> ?
"FF? @
,FF@ A
queryFFA F
)FFF G
)FFG H
;FFH I
}GG 
catchHH 
(HH 
	ExceptionHH 
	exceptionHH &
)HH& '
{II 
_loggerJJ 
.JJ 
LogErrorJJ  
(JJ  !
HelperServiceJJ! .
.JJ. /
LoggerMessageJJ/ <
(JJ< =
$strJJ= N
,JJN O
$strJJP j
,JJj k
	exceptionJJl u
,JJu v
queryJJw |
)JJ| }
)JJ} ~
;JJ~ 
returnKK 
ProblemKK 
(KK 
$"KK !
$strKK! C
{KKC D
HelperServiceKKD Q
.KKQ R
PropertyListKKR ^
(KK^ _
queryKK_ d
)KKd e
}KKe f
"KKf g
)KKg h
;KKh i
}LL 
}MM 	
[ff 	

HttpDeleteff	 
]ff 
publicgg 
asyncgg 
Taskgg 
<gg 
ActionResultgg &
>gg& ' 
RemoveQueryByQueryIdgg( <
(gg< =
intgg= @
QueryIdggA H
)ggH I
{hh 	
ifii 
(ii 
QueryIdii 
<=ii 
$numii 
)ii 
returnii $

BadRequestii% /
(ii/ 0
Messageii0 7
(ii7 8
$strii8 Y
)iiY Z
)iiZ [
;ii[ \
tryjj 
{kk 
returnll 
_queryServicell $
.ll$ % 
RemoveQueryByQueryIdll% 9
(ll9 :
QueryIdll: A
)llA B
?llC D
awaitllE J
TaskllK O
.llO P

FromResultllP Z
(llZ [
Okll[ ]
(ll] ^
$"ll^ `
$str	ll` é
{
llé è
QueryId
llè ñ
}
llñ ó
"
lló ò
)
llò ô
)
llô ö
:
llõ ú

BadRequest
llù ß
(
llß ®
Message
ll® Ø
(
llØ ∞
$"
ll∞ ≤
$str
ll≤ ‰
{
ll‰ Â
QueryId
llÂ Ï
}
llÏ Ì
"
llÌ Ó
)
llÓ Ô
)
llÔ 
;
ll Ò
}mm 
catchoo 
(oo !
ItemNotFoundExceptionoo (
	exceptionoo) 2
)oo2 3
{pp 
_loggerqq 
.qq 
LogErrorqq  
(qq  !
HelperServiceqq! .
.qq. /
LoggerMessageqq/ <
(qq< =
$strqq= N
,qqN O
$strqqP s
,qqs t
	exceptionqqu ~
,qq~ 
QueryId
qqÄ á
)
qqá à
)
qqà â
;
qqâ ä
returnrr 
NotFoundrr 
(rr  
$"rr  "
{rr" #
	exceptionrr# ,
.rr, -
Messagerr- 4
}rr4 5
"rr5 6
)rr6 7
;rr7 8
}ss 
catchtt 
(tt 
	Exceptiontt 
	exceptiontt &
)tt& '
{uu 
_loggervv 
.vv 
LogErrorvv  
(vv  !
HelperServicevv! .
.vv. /
LoggerMessagevv/ <
(vv< =
$strvv= N
,vvN O
$strvvP s
,vvs t
	exceptionvvu ~
,vv~ 
QueryId
vvÄ á
)
vvá à
)
vvà â
;
vvâ ä
returnww 
Problemww 
(ww 
$"ww !
$strww! S
{wwS T
QueryIdwwT [
}ww[ \
"ww\ ]
)ww] ^
;ww^ _
}xx 
}yy 	
[|| 	
	HttpPatch||	 
]|| 
public}} 
async}} 
Task}} 
<}} 
ActionResult}} &
>}}& '
MarkQueryAsSolved}}( 9
(}}9 :
int}}: =
QueryId}}> E
)}}E F
{~~ 	
if 
( 
QueryId 
<= 
$num 
) 
return $

BadRequest% /
(/ 0
Message0 7
(7 8
$str8 Y
)Y Z
)Z [
;[ \
try
ÄÄ 
{
ÅÅ 
return
ÇÇ 
_queryService
ÇÇ $
.
ÇÇ$ %
MarkQueryAsSolved
ÇÇ% 6
(
ÇÇ6 7
QueryId
ÇÇ7 >
)
ÇÇ> ?
?
ÇÇ@ A
await
ÇÇB G
Task
ÇÇH L
.
ÇÇL M

FromResult
ÇÇM W
(
ÇÇW X
Ok
ÇÇX Z
(
ÇÇZ [
$"
ÇÇ[ ]
$strÇÇ] ù
{ÇÇù û
QueryIdÇÇû •
}ÇÇ• ¶
"ÇÇ¶ ß
)ÇÇß ®
)ÇÇ® ©
:ÇÇ™ ´

BadRequestÇÇ¨ ∂
(ÇÇ∂ ∑
MessageÇÇ∑ æ
(ÇÇæ ø
$"ÇÇø ¡
$strÇÇ¡ ¸
{ÇÇ¸ ˝
QueryIdÇÇ˝ Ñ
}ÇÇÑ Ö
"ÇÇÖ Ü
)ÇÇÜ á
)ÇÇá à
;ÇÇà â
}
ÉÉ 
catch
ÖÖ 
(
ÖÖ #
ItemNotFoundException
ÖÖ (
	exception
ÖÖ) 2
)
ÖÖ2 3
{
ÜÜ 
_logger
áá 
.
áá 
LogError
áá  
(
áá  !
HelperService
áá! .
.
áá. /
LoggerMessage
áá/ <
(
áá< =
$str
áá= N
,
ááN O
$str
ááP p
,
ááp q
	exception
áár {
,
áá{ |
QueryIdáá} Ñ
)ááÑ Ö
)ááÖ Ü
;ááÜ á
return
àà 
NotFound
àà 
(
àà  
$"
àà  "
{
àà" #
	exception
àà# ,
.
àà, -
Message
àà- 4
}
àà4 5
"
àà5 6
)
àà6 7
;
àà7 8
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
	exception
ää &
)
ää& '
{
ãã 
_logger
åå 
.
åå 
LogError
åå  
(
åå  !
HelperService
åå! .
.
åå. /
LoggerMessage
åå/ <
(
åå< =
$str
åå= N
,
ååN O
$str
ååP p
,
ååp q
	exception
åår {
,
åå{ |
QueryIdåå} Ñ
)ååÑ Ö
)ååÖ Ü
;ååÜ á
return
çç 
Problem
çç 
(
çç 
$"
çç !
$str
çç! \
{
çç\ ]
QueryId
çç] d
}
ççd e
"
ççe f
)
ççf g
;
ççg h
}
éé 
}
èè 	
[
ûû 	
HttpGet
ûû	 
]
ûû 
public
üü 
async
üü 
Task
üü 
<
üü 
ActionResult
üü &
>
üü& '
GetQuery
üü( 0
(
üü0 1
int
üü1 4
QueryId
üü5 <
)
üü< =
{
†† 	
if
°° 
(
°° 
QueryId
°° 
<=
°° 
$num
°° 
)
°° 
return
°° $

BadRequest
°°% /
(
°°/ 0
Message
°°0 7
(
°°7 8
$str
°°8 Y
)
°°Y Z
)
°°Z [
;
°°[ \
try
¢¢ 
{
££ 
var
§§ 
Query
§§ 
=
§§ 
_queryService
§§ )
.
§§) *
GetQuery
§§* 2
(
§§2 3
QueryId
§§3 :
)
§§: ;
;
§§; <
return
¶¶ 
await
¶¶ 
Task
¶¶ !
.
¶¶! "

FromResult
¶¶" ,
(
¶¶, -
Ok
¶¶- /
(
¶¶/ 0
Query
¶¶0 5
)
¶¶5 6
)
¶¶6 7
;
¶¶7 8
}
®® 
catch
©© 
(
©© #
ItemNotFoundException
©© (
	exception
©©) 2
)
©©2 3
{
™™ 
_logger
´´ 
.
´´ 
LogError
´´  
(
´´  !
HelperService
´´! .
.
´´. /
LoggerMessage
´´/ <
(
´´< =
$str
´´= N
,
´´N O
$str
´´P g
,
´´g h
	exception
´´i r
,
´´r s
QueryId
´´t {
)
´´{ |
)
´´| }
;
´´} ~
return
¨¨ 
Problem
¨¨ 
(
¨¨ 
$"
¨¨ !
{
¨¨! "
	exception
¨¨" +
.
¨¨+ ,
Message
¨¨, 3
}
¨¨3 4
$str
¨¨4 B
{
¨¨B C
QueryId
¨¨C J
}
¨¨J K
"
¨¨K L
)
¨¨L M
;
¨¨M N
}
≠≠ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
	exception
ÆÆ &
)
ÆÆ& '
{
ØØ 
_logger
∞∞ 
.
∞∞ 
LogError
∞∞  
(
∞∞  !
HelperService
∞∞! .
.
∞∞. /
LoggerMessage
∞∞/ <
(
∞∞< =
$str
∞∞= N
,
∞∞N O
$str
∞∞P g
,
∞∞g h
	exception
∞∞i r
,
∞∞r s
QueryId
∞∞t {
)
∞∞{ |
)
∞∞| }
;
∞∞} ~
return
±± 

BadRequest
±± !
(
±±! "
Message
±±" )
(
±±) *
$"
±±* ,
$str
±±, ]
{
±±] ^
QueryId
±±^ e
}
±±e f
"
±±f g
)
±±g h
)
±±h i
;
±±i j
}
≤≤ 
}
≥≥ 	
[
¡¡ 	
HttpGet
¡¡	 
]
¡¡ 
public
¬¬ 
async
¬¬ 
Task
¬¬ 
<
¬¬ 
ActionResult
¬¬ &
>
¬¬& '
GetAll
¬¬( .
(
¬¬. /
)
¬¬/ 0
{
√√ 	
try
ƒƒ 
{
≈≈ 
var
∆∆ 
Queries
∆∆ 
=
∆∆ 
_queryService
∆∆ +
.
∆∆+ ,
GetListOfQueries
∆∆, <
(
∆∆< =
)
∆∆= >
;
∆∆> ?
return
«« 
await
«« 
Task
«« !
.
««! "

FromResult
««" ,
(
««, -
Ok
««- /
(
««/ 0
Queries
««0 7
)
««7 8
)
««8 9
;
««9 :
}
»» 
catch
…… 
(
…… 
	Exception
…… 
	exception
…… &
)
……& '
{
   
_logger
ÀÀ 
.
ÀÀ 
LogError
ÀÀ  
(
ÀÀ  !
HelperService
ÀÀ! .
.
ÀÀ. /
LoggerMessage
ÀÀ/ <
(
ÀÀ< =
$str
ÀÀ= N
,
ÀÀN O
$str
ÀÀP Z
,
ÀÀZ [
	exception
ÀÀ\ e
)
ÀÀe f
)
ÀÀf g
;
ÀÀg h
return
ÃÃ 
Problem
ÃÃ 
(
ÃÃ 
$str
ÃÃ L
)
ÃÃL M
;
ÃÃM N
}
ÕÕ 
}
ŒŒ 	
[
‰‰ 	
HttpGet
‰‰	 
]
‰‰ 
public
ÂÂ 
async
ÂÂ 
Task
ÂÂ 
<
ÂÂ 
ActionResult
ÂÂ &
>
ÂÂ& '
GetLatestQueries
ÂÂ( 8
(
ÂÂ8 9
int
ÂÂ9 <
Range
ÂÂ= B
=
ÂÂC D
$num
ÂÂE F
)
ÂÂF G
{
ÊÊ 	
try
ÁÁ 
{
ËË 
var
ÈÈ 
Queries
ÈÈ 
=
ÈÈ 
_queryService
ÈÈ +
.
ÈÈ+ ,
GetLatestQueries
ÈÈ, <
(
ÈÈ< =
)
ÈÈ= >
.
ÈÈ> ?
ToList
ÈÈ? E
(
ÈÈE F
)
ÈÈF G
;
ÈÈG H
if
ÎÎ 
(
ÎÎ 
Range
ÎÎ 
<=
ÎÎ 
Queries
ÎÎ $
.
ÎÎ$ %
Count
ÎÎ% *
(
ÎÎ* +
)
ÎÎ+ ,
)
ÎÎ, -
{
ÏÏ 
Queries
ÌÌ 
=
ÌÌ 
Range
ÌÌ #
>
ÌÌ$ %
$num
ÌÌ& '
?
ÌÌ( )
Queries
ÌÌ* 1
.
ÌÌ1 2
GetRange
ÌÌ2 :
(
ÌÌ: ;
$num
ÌÌ; <
,
ÌÌ< =
Range
ÌÌ> C
)
ÌÌC D
:
ÌÌE F
Queries
ÌÌG N
;
ÌÌN O
return
ÓÓ 
await
ÓÓ  
Task
ÓÓ! %
.
ÓÓ% &

FromResult
ÓÓ& 0
(
ÓÓ0 1
Ok
ÓÓ1 3
(
ÓÓ3 4
Queries
ÓÓ4 ;
)
ÓÓ; <
)
ÓÓ< =
;
ÓÓ= >
}
ÔÔ 
else
 
return
 

BadRequest
 &
(
& '
Message
' .
(
. /
$str
/ E
)
E F
)
F G
;
G H
}
ÚÚ 
catch
ÛÛ 
(
ÛÛ 
	Exception
ÛÛ 
	exception
ÛÛ &
)
ÛÛ& '
{
ÙÙ 
_logger
ıı 
.
ıı 
LogError
ıı  
(
ıı  !
HelperService
ıı! .
.
ıı. /
LoggerMessage
ıı/ <
(
ıı< =
$str
ıı= N
,
ııN O
$str
ııP o
,
ııo p
	exception
ııq z
)
ıız {
)
ıı{ |
;
ıı| }
return
ˆˆ 
Problem
ˆˆ 
(
ˆˆ 
$str
ˆˆ L
)
ˆˆL M
;
ˆˆM N
}
˜˜ 
}
¯¯ 	
[
ãã 	
HttpGet
ãã	 
]
ãã 
public
åå 
async
åå 
Task
åå 
<
åå 
ActionResult
åå &
>
åå& ' 
GetTrendingQueries
åå( :
(
åå: ;
int
åå; >
Range
åå? D
=
ååE F
$num
ååG H
)
ååH I
{
çç 	
try
éé 
{
èè 
var
êê 
Queries
êê 
=
êê 
_queryService
êê +
.
êê+ , 
GetTrendingQueries
êê, >
(
êê> ?
)
êê? @
.
êê@ A
ToList
êêA G
(
êêG H
)
êêH I
;
êêI J
if
íí 
(
íí 
Range
íí 
<=
íí 
Queries
íí $
.
íí$ %
Count
íí% *
(
íí* +
)
íí+ ,
)
íí, -
{
ìì 
Queries
îî 
=
îî 
Range
îî #
>
îî$ %
$num
îî& '
?
îî( )
Queries
îî* 1
.
îî1 2
GetRange
îî2 :
(
îî: ;
$num
îî; <
,
îî< =
Range
îî> C
)
îîC D
:
îîE F
Queries
îîG N
;
îîN O
return
ïï 
await
ïï  
Task
ïï! %
.
ïï% &

FromResult
ïï& 0
(
ïï0 1
Ok
ïï1 3
(
ïï3 4
Queries
ïï4 ;
)
ïï; <
)
ïï< =
;
ïï= >
}
ññ 
else
óó 
return
óó 

BadRequest
óó &
(
óó& '
Message
óó' .
(
óó. /
$str
óó/ E
)
óóE F
)
óóF G
;
óóG H
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
	exception
ôô &
)
ôô& '
{
öö 
_logger
õõ 
.
õõ 
LogError
õõ  
(
õõ  !
HelperService
õõ! .
.
õõ. /
LoggerMessage
õõ/ <
(
õõ< =
$str
õõ= N
,
õõN O
$str
õõP q
,
õõq r
	exception
õõs |
)
õõ| }
)
õõ} ~
;
õõ~ 
return
úú 
Problem
úú 
(
úú 
$str
úú L
)
úúL M
;
úúM N
}
ùù 
}
ûû 	
[
¢¢ 	
HttpGet
¢¢	 
]
¢¢ 
public
££ 
async
££ 
Task
££ 
<
££ 
ActionResult
££ &
>
££& ' 
GetQueriesByUserId
££( :
(
££: ;
)
££; <
{
§§ 	
int
•• 
UserId
•• 
=
•• 
GetCurrentUser
•• %
(
••% &
)
••& '
.
••' (
UserId
••( .
;
••. /
try
¶¶ 
{
ßß 
var
®® #
ListOfQueriesByUserId
®® )
=
®®* +
_queryService
®®, 9
.
®®9 : 
GetQueriesByUserId
®®: L
(
®®L M
UserId
®®M S
)
®®S T
;
®®T U
return
™™ 
await
™™ 
Task
™™ !
.
™™! "

FromResult
™™" ,
(
™™, -
Ok
™™- /
(
™™/ 0#
ListOfQueriesByUserId
™™0 E
)
™™E F
)
™™F G
;
™™G H
}
´´ 
catch
≠≠ 
(
≠≠ 
	Exception
≠≠ 
	exception
≠≠ &
)
≠≠& '
{
ÆÆ 
_logger
ØØ 
.
ØØ 
LogError
ØØ  
(
ØØ  !
HelperService
ØØ! .
.
ØØ. /
LoggerMessage
ØØ/ <
(
ØØ< =
$str
ØØ= N
,
ØØN O
$str
ØØP p
,
ØØp q
	exception
ØØr {
,
ØØ{ |
UserIdØØ} É
)ØØÉ Ñ
)ØØÑ Ö
;ØØÖ Ü
return
∞∞ 
Problem
∞∞ 
(
∞∞ 
$"
∞∞ !
$str
∞∞! Z
{
∞∞Z [
UserId
∞∞[ a
}
∞∞a b
"
∞∞b c
)
∞∞c d
;
∞∞d e
}
±± 
}
≥≥ 	
[
∂∂ 	
HttpGet
∂∂	 
]
∂∂ 
public
∑∑ 
async
∑∑ 
Task
∑∑ 
<
∑∑ 
ActionResult
∑∑ &
>
∑∑& '
GetQueriesByTitle
∑∑( 9
(
∑∑9 :
string
∑∑: @
Title
∑∑A F
)
∑∑F G
{
∏∏ 	
if
ππ 
(
ππ 
String
ππ 
.
ππ 
IsNullOrEmpty
ππ $
(
ππ$ %
Title
ππ% *
)
ππ* +
)
ππ+ ,
return
ππ- 3

BadRequest
ππ4 >
(
ππ> ?
Message
ππ? F
(
ππF G
$str
ππG \
)
ππ\ ]
)
ππ] ^
;
ππ^ _
try
∫∫ 
{
ªª 
var
ºº "
ListOfQueriesByTitle
ºº (
=
ºº) *
_queryService
ºº+ 8
.
ºº8 9
GetQueriesByTitle
ºº9 J
(
ººJ K
Title
ººK P
)
ººP Q
;
ººQ R
return
ΩΩ 
await
ΩΩ 
Task
ΩΩ !
.
ΩΩ! "

FromResult
ΩΩ" ,
(
ΩΩ, -
Ok
ΩΩ- /
(
ΩΩ/ 0"
ListOfQueriesByTitle
ΩΩ0 D
)
ΩΩD E
)
ΩΩE F
;
ΩΩF G
}
ææ 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
	exception
¿¿ &
)
¿¿& '
{
¡¡ 
_logger
¬¬ 
.
¬¬ 
LogError
¬¬  
(
¬¬  !
HelperService
¬¬! .
.
¬¬. /
LoggerMessage
¬¬/ <
(
¬¬< =
$str
¬¬= N
,
¬¬N O
$str
¬¬P q
,
¬¬q r
	exception
¬¬s |
,
¬¬| }
Title¬¬~ É
)¬¬É Ñ
)¬¬Ñ Ö
;¬¬Ö Ü
return
√√ 
Problem
√√ 
(
√√ 
$"
√√ !
$str
√√! Y
{
√√Y Z
Title
√√Z _
}
√√_ `
"
√√` a
)
√√a b
;
√√b c
}
≈≈ 
}
»» 	
[
ﬁﬁ 	
HttpGet
ﬁﬁ	 
]
ﬁﬁ 
public
ﬂﬂ 
async
ﬂﬂ 
Task
ﬂﬂ 
<
ﬂﬂ 
ActionResult
ﬂﬂ &
>
ﬂﬂ& '"
GetQueriesByIsSolved
ﬂﬂ( <
(
ﬂﬂ< =
bool
ﬂﬂ= A
IsSolved
ﬂﬂB J
)
ﬂﬂJ K
{
‡‡ 	
try
‚‚ 
{
„„ 
var
‰‰ %
ListOfQueriesByIsSolved
‰‰ +
=
‰‰, -
_queryService
‰‰. ;
.
‰‰; <

GetQueries
‰‰< F
(
‰‰F G
IsSolved
‰‰G O
)
‰‰O P
;
‰‰P Q
return
ÂÂ 
await
ÂÂ 
Task
ÂÂ !
.
ÂÂ! "

FromResult
ÂÂ" ,
(
ÂÂ, -
Ok
ÂÂ- /
(
ÂÂ/ 0%
ListOfQueriesByIsSolved
ÂÂ0 G
)
ÂÂG H
)
ÂÂH I
;
ÂÂI J
}
ÊÊ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ 
	exception
ÁÁ &
)
ÁÁ& '
{
ËË 
_logger
ÈÈ 
.
ÈÈ 
LogError
ÈÈ  
(
ÈÈ  !
HelperService
ÈÈ! .
.
ÈÈ. /
LoggerMessage
ÈÈ/ <
(
ÈÈ< =
$str
ÈÈ= N
,
ÈÈN O
$str
ÈÈP u
,
ÈÈu v
	exceptionÈÈw Ä
,ÈÈÄ Å
IsSolvedÈÈÇ ä
)ÈÈä ã
)ÈÈã å
;ÈÈå ç
return
ÍÍ 
Problem
ÍÍ 
(
ÍÍ 
$"
ÍÍ !
$str
ÍÍ! \
{
ÍÍ\ ]
IsSolved
ÍÍ] e
}
ÍÍe f
"
ÍÍf g
)
ÍÍg h
;
ÍÍh i
}
ÏÏ 
}
ÓÓ 	
[
ää 	
HttpPost
ää	 
]
ää 
public
ãã 
async
ãã 
Task
ãã 
<
ãã 
ActionResult
ãã &
>
ãã& '
CreateComment
ãã( 5
(
ãã5 6
QueryComment
ãã6 B
comment
ããC J
)
ããJ K
{
åå 	
if
éé 
(
éé 
comment
éé 
==
éé 
null
éé 
)
éé  
return
éé! '

BadRequest
éé( 2
(
éé2 3
Message
éé3 :
(
éé: ;
$str
éé; X
)
ééX Y
)
ééY Z
;
ééZ [
try
èè 
{
êê 
comment
ëë 
.
ëë 
	CreatedBy
ëë !
=
ëë! "
GetCurrentUser
ëë" 0
(
ëë0 1
)
ëë1 2
.
ëë2 3
UserId
ëë3 9
;
ëë9 :
return
íí 
_queryService
íí $
.
íí$ %
CreateComment
íí% 2
(
íí2 3
comment
íí3 :
)
íí: ;
?
íí< =
await
íí> C
Task
ííD H
.
ííH I

FromResult
ííI S
(
ííS T
Ok
ííT V
(
ííV W
$strííW Ä
)ííÄ Å
)ííÅ Ç
:ííÉ Ñ

BadRequestííÖ è
(ííè ê
Messageííê ó
(ííó ò
$"ííò ö
$strííö æ
{ííæ ø
HelperServiceííø Ã
.ííÃ Õ
PropertyListííÕ Ÿ
(ííŸ ⁄
commentíí⁄ ·
)íí· ‚
}íí‚ „
"íí„ ‰
)íí‰ Â
)ííÂ Ê
;ííÊ Á
}
ìì 
catch
îî 
(
îî !
ValidationException
îî &
	exception
îî' 0
)
îî0 1
{
ïï 
_logger
ññ 
.
ññ 
LogError
ññ  
(
ññ  !
HelperService
ññ! .
.
ññ. /
LoggerMessage
ññ/ <
(
ññ< =
$str
ññ= N
,
ññN O
$str
ññP v
,
ññv w
	exceptionññx Å
,ññÅ Ç
commentññÉ ä
)ññä ã
)ññã å
;ññå ç
return
óó 

BadRequest
óó !
(
óó! "
Message
óó" )
(
óó) *
$"
óó* ,
{
óó, -
	exception
óó- 6
.
óó6 7
Message
óó7 >
}
óó> ?
"
óó? @
,
óó@ A
comment
óóA H
)
óóH I
)
óóI J
;
óóJ K
}
òò 
catch
öö 
(
öö 
	Exception
öö 
	exception
öö &
)
öö& '
{
õõ 
_logger
úú 
.
úú 
LogError
úú  
(
úú  !
HelperService
úú! .
.
úú. /
LoggerMessage
úú/ <
(
úú< =
$str
úú= N
,
úúN O
$str
úúP v
,
úúv w
	exceptionúúx Å
,úúÅ Ç
commentúúÉ ä
)úúä ã
)úúã å
;úúå ç
return
ùù 
Problem
ùù 
(
ùù 
$"
ùù !
$str
ùù! E
{
ùùE F
HelperService
ùùF S
.
ùùS T
PropertyList
ùùT `
(
ùù` a
comment
ùùa h
)
ùùh i
}
ùùi j
"
ùùj k
)
ùùk l
;
ùùl m
}
ûû 
}
†† 	
[
∑∑ 	
HttpGet
∑∑	 
]
∑∑ 
public
∏∏ 
async
∏∏ 
Task
∏∏ 
<
∏∏ 
ActionResult
∏∏ &
>
∏∏& '
GetComments
∏∏( 3
(
∏∏3 4
int
∏∏4 7
QueryId
∏∏8 ?
)
∏∏? @
{
ππ 	
if
∫∫ 
(
∫∫ 
QueryId
∫∫ 
<=
∫∫ 
$num
∫∫ 
)
∫∫ 
return
∫∫ $

BadRequest
∫∫% /
(
∫∫/ 0
Message
∫∫0 7
(
∫∫7 8
$str
∫∫8 X
)
∫∫X Y
)
∫∫Y Z
;
∫∫Z [
try
ªª 
{
ºº 
var
ΩΩ 
ListOfComments
ΩΩ "
=
ΩΩ# $
_queryService
ΩΩ% 2
.
ΩΩ2 3
GetComments
ΩΩ3 >
(
ΩΩ> ?
QueryId
ΩΩ? F
)
ΩΩF G
;
ΩΩG H
return
ææ 
await
ææ 
Task
ææ !
.
ææ! "

FromResult
ææ" ,
(
ææ, -
Ok
ææ- /
(
ææ/ 0
ListOfComments
ææ0 >
)
ææ> ?
)
ææ? @
;
ææ@ A
}
øø 
catch
¡¡ 
(
¡¡ 
	Exception
¡¡ 
	exception
¡¡ &
)
¡¡& '
{
¬¬ 
_logger
√√ 
.
√√ 
LogError
√√  
(
√√  !
HelperService
√√! .
.
√√. /
LoggerMessage
√√/ <
(
√√< =
$str
√√= N
,
√√N O
$str
√√P k
,
√√k l
	exception
√√m v
,
√√v w
QueryId
√√x 
)√√ Ä
)√√Ä Å
;√√Å Ç
return
ƒƒ 
Problem
ƒƒ 
(
ƒƒ 
$"
ƒƒ !
$str
ƒƒ! [
{
ƒƒ[ \
QueryId
ƒƒ\ c
}
ƒƒc d
"
ƒƒd e
)
ƒƒe f
;
ƒƒf g
}
«« 
}
…… 	
[
„„ 	
HttpPost
„„	 
]
„„ 
public
‰‰ 
async
‰‰ 
Task
‰‰ 
<
‰‰ 
ActionResult
‰‰ &
>
‰‰& '
AddSpam
‰‰( /
(
‰‰/ 0
Spam
‰‰0 4
spam
‰‰5 9
)
‰‰9 :
{
ÂÂ 	
if
ÊÊ 
(
ÊÊ 
spam
ÊÊ 
==
ÊÊ 
null
ÊÊ 
)
ÊÊ 
return
ÊÊ %

BadRequest
ÊÊ& 0
(
ÊÊ0 1
Message
ÊÊ1 8
(
ÊÊ8 9
$str
ÊÊ9 U
)
ÊÊU V
)
ÊÊV W
;
ÊÊW X
try
ËË 
{
ÈÈ 
spam
ÍÍ 
.
ÍÍ 
UserId
ÍÍ 
=
ÍÍ 
GetCurrentUser
ÍÍ *
(
ÍÍ* +
)
ÍÍ+ ,
.
ÍÍ, -
UserId
ÍÍ- 3
;
ÍÍ3 4
return
ÎÎ 
_queryService
ÎÎ $
.
ÎÎ$ %
AddSpam
ÎÎ% ,
(
ÎÎ, -
spam
ÎÎ. 2
)
ÎÎ2 3
?
ÎÎ4 5
await
ÎÎ6 ;
Task
ÎÎ< @
.
ÎÎ@ A

FromResult
ÎÎA K
(
ÎÎK L
Ok
ÎÎL N
(
ÎÎN O
Message
ÎÎO V
(
ÎÎV W
$str
ÎÎW ~
)
ÎÎ~ 
)ÎÎ Ä
)ÎÎÄ Å
:ÎÎÇ É

BadRequestÎÎÑ é
(ÎÎé è
MessageÎÎè ñ
(ÎÎñ ó
$strÎÎó ∆
)ÎÎ∆ «
)ÎÎ« »
;ÎÎ» …
}
ÏÏ 
catch
ÌÌ 
(
ÌÌ !
ValidationException
ÌÌ &
	exception
ÌÌ' 0
)
ÌÌ0 1
{
ÓÓ 
_logger
ÔÔ 
.
ÔÔ 
LogError
ÔÔ  
(
ÔÔ  !
HelperService
ÔÔ! .
.
ÔÔ. /
LoggerMessage
ÔÔ/ <
(
ÔÔ< =
$str
ÔÔ= N
,
ÔÔN O
$str
ÔÔP f
,
ÔÔf g
	exception
ÔÔh q
,
ÔÔq r
spam
ÔÔs w
)
ÔÔw x
)
ÔÔx y
;
ÔÔy z
return
 
Problem
 
(
 
$"
 !
{
! "
	exception
" +
.
+ ,
Message
, 3
}
3 4
"
4 5
)
5 6
;
6 7
}
ÒÒ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
	exception
ÚÚ &
)
ÚÚ& '
{
ÛÛ 
_logger
ÙÙ 
.
ÙÙ 
LogError
ÙÙ  
(
ÙÙ  !
HelperService
ÙÙ! .
.
ÙÙ. /
LoggerMessage
ÙÙ/ <
(
ÙÙ< =
$str
ÙÙ= N
,
ÙÙN O
$str
ÙÙP d
,
ÙÙd e
	exception
ÙÙf o
,
ÙÙo p
spam
ÙÙq u
)
ÙÙu v
)
ÙÙv w
;
ÙÙw x
return
ıı 

BadRequest
ıı !
(
ıı! "
Message
ıı" )
(
ıı) *
$str
ıı* [
,
ıı[ \
spam
ıı\ `
)
ıı` a
)
ııa b
;
ııb c
}
ˆˆ 
}
˜˜ 	
[
ÖÖ 	
HttpGet
ÖÖ	 
]
ÖÖ 
public
ÜÜ 
async
ÜÜ 
Task
ÜÜ 
<
ÜÜ 
ActionResult
ÜÜ &
>
ÜÜ& '
GetListOfSpams
ÜÜ( 6
(
ÜÜ6 7
)
ÜÜ7 8
{
áá 	
try
àà 
{
ââ 
var
ää 
ListOfSpams
ää 
=
ää  !
_queryService
ää" /
.
ää/ 0
GetSpams
ää0 8
(
ää8 9
$num
ää9 :
)
ää: ;
;
ää; <
return
ãã 
await
ãã 
Task
ãã !
.
ãã! "

FromResult
ãã" ,
(
ãã, -
Ok
ãã- /
(
ãã/ 0
ListOfSpams
ãã0 ;
)
ãã; <
)
ãã< =
;
ãã= >
}
åå 
catch
çç 
(
çç 
	Exception
çç 
	exception
çç &
)
çç& '
{
éé 
_logger
èè 
.
èè 
LogError
èè  
(
èè  !
HelperService
èè! .
.
èè. /
LoggerMessage
èè/ <
(
èè< =
$str
èè= N
,
èèN O
$str
èèP b
,
èèb c
	exception
èèd m
)
èèm n
)
èèn o
;
èèo p
return
êê 
Problem
êê 
(
êê 
$str
êê L
)
êêL M
;
êêM N
}
ëë 
}
íí 	
[
´´ 
	HttpPatch
´´ 
]
´´ 
public
¨¨ 

ActionResult
¨¨ 
UpdateSpamStatus
¨¨ (
(
¨¨( )
int
¨¨) ,
QueryId
¨¨- 4
,
¨¨4 5
int
¨¨6 9
VerifyStatusID
¨¨: H
)
¨¨H I
{
≠≠ 
if
ÆÆ 

(
ÆÆ 
QueryId
ÆÆ 
<=
ÆÆ 
$num
ÆÆ 
)
ÆÆ 
return
ÆÆ  

BadRequest
ÆÆ! +
(
ÆÆ+ ,
Message
ÆÆ, 3
(
ÆÆ3 4
$"
ÆÆ4 6
$str
ÆÆ6 g
{
ÆÆg h
QueryId
ÆÆh o
}
ÆÆo p
"
ÆÆp q
)
ÆÆq r
)
ÆÆr s
;
ÆÆs t
if
ØØ 

(
ØØ 
VerifyStatusID
ØØ 
<=
ØØ 
$num
ØØ 
||
ØØ  "
VerifyStatusID
ØØ# 1
>
ØØ2 3
$num
ØØ4 5
)
ØØ5 6
return
ØØ7 =

BadRequest
ØØ> H
(
ØØH I
Message
ØØI P
(
ØØP Q
$"
ØØQ S
$strØØS ü
{ØØü †
VerifyStatusIDØØ† Æ
}ØØÆ Ø
"ØØØ ∞
)ØØ∞ ±
)ØØ± ≤
;ØØ≤ ≥
try
∞∞ 
{
±± 	
return
≤≤ 
_queryService
≤≤  
.
≤≤  !
ChangeSpamStatus
≤≤! 1
(
≤≤1 2
QueryId
≤≤2 9
,
≤≤9 :
VerifyStatusID
≤≤; I
)
≤≤I J
?
≤≤J K
Ok
≤≤L N
(
≤≤N O
Message
≤≤O V
(
≤≤V W
$str
≤≤W m
)
≤≤m n
)
≤≤n o
:
≤≤o p

BadRequest
≤≤q {
(
≤≤{ |
Message≤≤| É
(≤≤É Ñ
$"≤≤Ñ Ü
$str≤≤Ü ø
{≤≤ø ¿
QueryId≤≤¿ «
}≤≤« »
$str≤≤» ‹
{≤≤‹ ›
VerifyStatusID≤≤› Î
}≤≤Î Ï
"≤≤Ï Ì
)≤≤Ì Ó
)≤≤Ó Ô
;≤≤Ô 
}
≥≥ 	
catch
¥¥ 
(
¥¥ 
	Exception
¥¥ 
	exception
¥¥ "
)
¥¥" #
{
µµ 	
_logger
∂∂ 
.
∂∂ 
LogError
∂∂ 
(
∂∂ 
HelperService
∂∂ *
.
∂∂* +
LoggerMessage
∂∂+ 8
(
∂∂8 9
$"
∂∂9 ;
$str
∂∂; G
"
∂∂G H
,
∂∂H I
$str
∂∂J }
,
∂∂} ~
	exception∂∂ à
,∂∂à â
QueryId∂∂ä ë
,∂∂ë í
VerifyStatusID∂∂ì °
)∂∂° ¢
)∂∂¢ £
;∂∂£ §
return
∑∑ 
Problem
∑∑ 
(
∑∑ 
$"
∑∑ 
$str
∑∑ V
{
∑∑V W
QueryId
∑∑W ^
}
∑∑^ _
$str
∑∑_ s
{
∑∑s t
VerifyStatusID∑∑t Ç
}∑∑Ç É
"∑∑É Ñ
)∑∑Ñ Ö
;∑∑Ö Ü
}
∏∏ 	
}
ππ 
}
ΩΩ 
}ææ Û
kC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Controllers\TokenController.cs
	namespace		 	
AspireOverflow		
 
.		 
Controllers		 $
{

 
[ 
ApiController 
] 
[ 
Route 

(
 
$str "
)" #
]# $
public 

class 
TokenController  
:! "
BaseController# 1
{ 
private 
ITokenService 
_tokenService +
;+ ,
private 
ILogger 
< 
TokenController '
>' (
_logger) 0
;0 1
public 
TokenController 
( 
ITokenService ,
tokenService- 9
,9 :
ILogger; B
<B C
TokenControllerC R
>R S
loggerT Z
)Z [
{ 	
_tokenService 
= 
tokenService (
;( )
_logger 
= 
logger 
; 
} 	
[-- 	
HttpPost--	 
]-- 
public.. 
IActionResult.. 
	AuthToken.. &
(..& '
Login..' ,
Crendentials..- 9
)..9 :
{// 	
try00
 
{11 
if22 
(22 
Crendentials22 !
==22" $
null22% )
||22* ,
!22- .

Validation22. 8
.228 9#
ValidateUserCredentials229 P
(22P Q
Crendentials22Q ]
.22] ^
Email22^ c
,22c d
Crendentials22e q
.22q r
Password22r z
)22z {
)22{ |
return	22} É

BadRequest
22Ñ é
(
22é è
$str
22è ±
)
22± ≤
;
22≤ ≥
var33 
Result33 
=33 
_tokenService33 *
.33* +
GenerateToken33+ 8
(338 9
Crendentials339 E
)33E F
;33F G
return44 
Ok44 
(44 
Result44  
)44  !
;44! "
}66 
catch77 
(77 
ValidationException77 &
	exception77' 0
)770 1
{88 
_logger99 
.99 
LogError99  
(99  !
HelperService99! .
.99. /
LoggerMessage99/ <
(99< =
$str99= N
,99N O
$str99P z
,99z {
	exception	99| Ö
,
99Ö Ü
Crendentials
99á ì
.
99ì î
Email
99î ô
)
99ô ö
)
99ö õ
;
99õ ú
return:: 

BadRequest:: !
(::! "
	exception::" +
.::+ ,
Message::, 3
)::3 4
;::4 5
}<< 
catch== 
(== 
	Exception== 
	exception== &
)==& '
{>> 
_logger?? 
.?? 
LogError??  
(??  !
HelperService??! .
.??. /
LoggerMessage??/ <
(??< =
$str??= N
,??N O
$str??P z
,??z {
	exception	??| Ö
,
??Ö Ü
Crendentials
??á ì
.
??ì î
Email
??î ô
)
??ô ö
)
??ö õ
;
??õ ú
return@@ 

BadRequest@@ !
(@@! "
Message@@" )
(@@) *
$str@@* \
)@@\ ]
)@@] ^
;@@^ _
}AA 
}CC 	
}FF 
}II áæ
jC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Controllers\UserController.cs
	namespace 	
AspireOverflow
 
. 
Controllers $
;$ %
[ 
ApiController 
] 
[ 
	Authorize 
] 
[ 
Route 
( 
$str 
) 
]  
public 
class 
UserController 
: 
BaseController ,
{ 
internal 
ILogger 
< 
UserController #
># $
_logger% ,
;, -
private 
IUserService 
_UserService %
;% &
public 

UserController 
( 
ILogger !
<! "
UserController" 0
>0 1
logger2 8
,8 9
IUserService: F
UserServiceG R
)R S
{ 
_logger 
= 
logger 
; 
_UserService 
= 
UserService "
;" #
} 
[55 
HttpPost55 
]55 
[55 
AllowAnonymous55 
]55 
public66 

async66 
Task66 
<66 
ActionResult66 "
>66" #

CreateUser66$ .
(66. /
User66/ 3
User664 8
)668 9
{77 
if99 

(99 
User99 
==99 
null99 
)99 
return99  

BadRequest99! +
(99+ ,
Message99, 3
(993 4
$str994 Q
)99Q R
)99R S
;99S T
try:: 
{;; 	
return== 
_UserService== 
.==  

CreateUser==  *
(==* +
User==+ /
)==/ 0
?==1 2
await==3 8
Task==9 =
.=== >

FromResult==> H
(==H I
Ok==I K
(==K L
$str==L b
)==b c
)==c d
:==e f

BadRequest==g q
(==q r
Message==r y
(==y z
$"==z |
$str	==| ù
{
==ù û
HelperService
==û ´
.
==´ ¨
PropertyList
==¨ ∏
(
==∏ π
User
==π Ω
)
==Ω æ
}
==æ ø
"
==ø ¿
)
==¿ ¡
)
==¡ ¬
;
==¬ √
}>> 	
catch?? 
(?? 
ValidationException?? "
	exception??# ,
)??, -
{@@ 	
_loggerBB 
.BB 
LogErrorBB 
(BB 
HelperServiceBB *
.BB* +
LoggerMessageBB+ 8
(BB8 9
$strBB9 I
,BBI J
$strBBK c
,BBc d
	exceptionBBe n
,BBn o
UserBBp t
)BBt u
)BBu v
;BBv w
returnCC 

BadRequestCC 
(CC 
MessageCC %
(CC% &
$"CC& (
{CC( )
	exceptionCC) 2
.CC2 3
MessageCC3 :
}CC: ;
"CC; <
,CC< =
UserCC= A
)CCA B
)CCB C
;CCC D
}DD 	
catchEE 
(EE 
	ExceptionEE 
	exceptionEE "
)EE" #
{FF 	
_loggerGG 
.GG 
LogErrorGG 
(GG 
HelperServiceGG *
.GG* +
LoggerMessageGG+ 8
(GG8 9
$strGG9 I
,GGI J
$strGGK c
,GGc d
	exceptionGGe n
,GGn o
UserGGp t
)GGt u
)GGu v
;GGv w
returnHH 
ProblemHH 
(HH 
$"HH 
$strHH >
{HH> ?
HelperServiceHH? L
.HHL M
PropertyListHHM Y
(HHY Z
UserHHZ ^
)HH^ _
}HH_ `
"HH` a
)HHa b
;HHb c
}II 	
}JJ 
[aa 
	HttpPatchaa 
]aa 
publicbb 

asyncbb 
Taskbb 
<bb 
ActionResultbb "
>bb" #"
ChangeUserVerifyStatusbb$ :
(bb: ;
intbb; >
UserIdbb? E
,bbE F
boolbbG K

IsVerifiedbbL V
)bbV W
{cc 
ifdd 

(dd 
UserIddd 
<=dd 
$numdd 
)dd 
returndd 

BadRequestdd  *
(dd* +
Messagedd+ 2
(dd2 3
$strdd3 S
)ddS T
)ddT U
;ddU V
tryee 
{ff 	
ifgg 
(gg 

IsVerifiedgg 
)gg 
returngg "
_UserServicegg# /
.gg/ 0(
ChangeUserVerificationStatusgg0 L
(ggL M
UserIdggM S
,ggS T
$numggU V
)ggV W
?ggX Y
awaitggZ _
Taskgg` d
.ggd e

FromResultgge o
(ggo p
Okggp r
(ggr s
$"ggs u
$str	ggu µ
{
ggµ ∂
UserId
gg∂ º
}
ggº Ω
"
ggΩ æ
)
ggæ ø
)
ggø ¿
:
gg¡ ¬

BadRequest
gg√ Õ
(
ggÕ Œ
Message
ggŒ ’
(
gg’ ÷
$"
gg÷ ÿ
$str
ggÿ ì
{
ggì î
UserId
ggî ö
}
ggö õ
"
ggõ ú
)
ggú ù
)
ggù û
;
ggû ü
elsehh 
returnhh 
_UserServicehh $
.hh$ %(
ChangeUserVerificationStatushh% A
(hhA B
UserIdhhB H
,hhH I
$numhhJ K
)hhK L
?hhM N
awaithhO T
TaskhhU Y
.hhY Z

FromResulthhZ d
(hhd e
Okhhe g
(hhg h
$"hhh j
$str	hhj ¨
{
hh¨ ≠
UserId
hh≠ ≥
}
hh≥ ¥
"
hh¥ µ
)
hhµ ∂
)
hh∂ ∑
:
hh∏ π

BadRequest
hh∫ ƒ
(
hhƒ ≈
Message
hh≈ Ã
(
hhÃ Õ
$"
hhÕ œ
$str
hhœ å
{
hhå ç
UserId
hhç ì
}
hhì î
"
hhî ï
)
hhï ñ
)
hhñ ó
;
hhó ò
}ii 	
catchjj 
(jj !
ItemNotFoundExceptionjj $
	exceptionjj% .
)jj. /
{kk 	
_loggerll 
.ll 
LogErrorll 
(ll 
HelperServicell *
.ll* +
LoggerMessagell+ 8
(ll8 9
$strll9 I
,llI J
$str	llK Å
,
llÅ Ç
	exception
llÉ å
,
llå ç
UserId
llé î
)
llî ï
)
llï ñ
;
llñ ó
returnmm 
NotFoundmm 
(mm 
$"mm 
{mm 
	exceptionmm (
.mm( )
Messagemm) 0
}mm0 1
"mm1 2
)mm2 3
;mm3 4
}nn 	
catchoo 
(oo 
	Exceptionoo 
	exceptionoo "
)oo" #
{pp 	
_loggerqq 
.qq 
LogErrorqq 
(qq 
HelperServiceqq *
.qq* +
LoggerMessageqq+ 8
(qq8 9
$strqq9 I
,qqI J
$str	qqK Å
,
qqÅ Ç
	exception
qqÉ å
,
qqå ç
UserId
qqé î
)
qqî ï
)
qqï ñ
;
qqñ ó
returnrr 
Problemrr 
(rr 
$"rr 
$strrr `
{rr` a
UserIdrra g
}rrg h
"rrh i
)rri j
;rrj k
}ss 	
}tt 
[
ãã 
	HttpPatch
ãã 
]
ãã 
public
åå 

async
åå 
Task
åå 
<
åå 
ActionResult
åå "
>
åå" #$
UpdateUserByIsReviewer
åå$ :
(
åå: ;
int
åå; >
UserId
åå? E
,
ååE F
bool
ååG K

IsReviewer
ååL V
)
ååV W
{
çç 
if
éé 

(
éé 
UserId
éé 
<=
éé 
$num
éé 
)
éé 
return
éé 

BadRequest
éé  *
(
éé* +
Message
éé+ 2
(
éé2 3
$str
éé3 S
)
ééS T
)
ééT U
;
ééU V
try
èè 
{
êê 	
return
ëë 
_UserService
ëë 
.
ëë $
UpdateUserByIsReviewer
ëë 5
(
ëë5 6
UserId
ëë6 <
,
ëë< =

IsReviewer
ëë> H
)
ëëH I
?
ëëJ K
await
ëëL Q
Task
ëëR V
.
ëëV W

FromResult
ëëW a
(
ëëa b
Ok
ëëc e
(
ëëe f
$"
ëëf h
$strëëh û
{ëëû ü
UserIdëëü •
}ëë• ¶
"ëë¶ ß
)ëëß ®
)ëë® ©
:ëë™ ´

BadRequestëë¨ ∂
(ëë∂ ∑
Messageëë∑ æ
(ëëæ ø
$"ëëø ¡
$strëë¡ Ä
{ëëÄ Å
UserIdëëÅ á
}ëëá à
"ëëà â
)ëëâ ä
)ëëä ã
;ëëã å
}
ìì 	
catch
îî 
(
îî #
ItemNotFoundException
îî $
	exception
îî% .
)
îî. /
{
ïï 	
_logger
ññ 
.
ññ 
LogError
ññ 
(
ññ 
HelperService
ññ *
.
ññ* +
LoggerMessage
ññ+ 8
(
ññ8 9
$str
ññ9 I
,
ññI J
$strññK Ç
,ññÇ É
	exceptionññÑ ç
,ññç é
UserIdññè ï
)ññï ñ
)ñññ ó
;ññó ò
return
óó 
NotFound
óó 
(
óó 
$"
óó 
{
óó 
	exception
óó (
.
óó( )
Message
óó) 0
}
óó0 1
"
óó1 2
)
óó2 3
;
óó3 4
}
òò 	
catch
ôô 
(
ôô 
	Exception
ôô 
	exception
ôô "
)
ôô" #
{
öö 	
_logger
õõ 
.
õõ 
LogError
õõ 
(
õõ 
HelperService
õõ *
.
õõ* +
LoggerMessage
õõ+ 8
(
õõ8 9
$str
õõ9 I
,
õõI J
$strõõK Ä
,õõÄ Å
	exceptionõõÇ ã
,õõã å
UserIdõõç ì
)õõì î
)õõî ï
;õõï ñ
return
úú 
Problem
úú 
(
úú 
$"
úú 
$str
úú ]
{
úú] ^
UserId
úú^ d
}
úúd e
"
úúe f
)
úúf g
;
úúg h
}
ùù 	
}
ûû 
[
ππ 

HttpDelete
ππ 
]
ππ 
public
∫∫ 

async
∫∫ 
Task
∫∫ 
<
∫∫ 
ActionResult
∫∫ "
>
∫∫" #

RemoveUser
∫∫$ .
(
∫∫. /
int
∫∫/ 2
UserId
∫∫3 9
)
∫∫9 :
{
ªª 
if
ºº 

(
ºº 
UserId
ºº 
<=
ºº 
$num
ºº 
)
ºº 
return
ºº 

BadRequest
ºº  *
(
ºº* +
Message
ºº+ 2
(
ºº2 3
$str
ºº3 S
)
ººS T
)
ººT U
;
ººU V
try
ΩΩ 
{
ææ 	
return
øø 
_UserService
øø 
.
øø  

RemoveUser
øø  *
(
øø* +
UserId
øø+ 1
)
øø1 2
?
øø3 4
await
øø5 :
Task
øø; ?
.
øø? @

FromResult
øø@ J
(
øøJ K
Ok
øøK M
(
øøM N
$str
øøN }
)
øø} ~
)
øø~ 
:øøÄ Å

BadRequestøøÇ å
(øøå ç
Messageøøç î
(øøî ï
$"øøï ó
$strøøó æ
{øøæ ø
UserIdøøø ≈
}øø≈ ∆
"øø∆ «
)øø« »
)øø» …
;øø…  
}
¿¿ 	
catch
¡¡ 
(
¡¡ #
ItemNotFoundException
¡¡ $
	exception
¡¡% .
)
¡¡. /
{
¬¬ 	
_logger
√√ 
.
√√ 
LogError
√√ 
(
√√ 
HelperService
√√ *
.
√√* +
LoggerMessage
√√+ 8
(
√√8 9
$str
√√9 I
,
√√I J
$str
√√K c
,
√√c d
	exception
√√e n
,
√√n o
UserId
√√p v
)
√√v w
)
√√w x
;
√√x y
return
ƒƒ 

BadRequest
ƒƒ 
(
ƒƒ 
Message
ƒƒ %
(
ƒƒ% &
$"
ƒƒ& (
{
ƒƒ( )
	exception
ƒƒ) 2
.
ƒƒ2 3
Message
ƒƒ3 :
}
ƒƒ: ;
"
ƒƒ; <
)
ƒƒ< =
)
ƒƒ= >
;
ƒƒ> ?
}
≈≈ 	
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
	exception
∆∆ "
)
∆∆" #
{
«« 	
_logger
»» 
.
»» 
LogError
»» 
(
»» 
HelperService
»» *
.
»»* +
LoggerMessage
»»+ 8
(
»»8 9
$str
»»9 I
,
»»I J
$str
»»K c
,
»»c d
	exception
»»e n
,
»»n o
UserId
»»p v
)
»»v w
)
»»w x
;
»»x y
return
…… 
Problem
…… 
(
…… 
$"
…… 
$str
…… M
{
……M N
UserId
……N T
}
……T U
"
……U V
)
……V W
;
……W X
}
   	
}
ÀÀ 
[
⁄⁄ 
HttpGet
⁄⁄ 
]
⁄⁄ 
public
€€ 

async
€€ 
Task
€€ 
<
€€ 
ActionResult
€€ "
>
€€" #
GetUser
€€$ +
(
€€+ ,
)
€€, -
{
‹‹ 
int
›› 
UserId
›› 
=
›› 
GetCurrentUser
›› !
(
››! "
)
››" #
.
››# $
UserId
››$ *
;
››* +
try
ﬁﬁ 
{
ﬂﬂ 	
return
‡‡ 
await
‡‡ 
Task
‡‡ 
.
‡‡ 

FromResult
‡‡ (
(
‡‡( )
Ok
‡‡) +
(
‡‡+ ,
_UserService
‡‡- 9
.
‡‡9 :
GetUserByID
‡‡: E
(
‡‡E F
UserId
‡‡F L
)
‡‡L M
)
‡‡M N
)
‡‡N O
;
‡‡O P
}
‚‚ 	
catch
„„ 
(
„„ 
	Exception
„„ 
	exception
„„ "
)
„„" #
{
‰‰ 	
_logger
ÂÂ 
.
ÂÂ 
LogError
ÂÂ 
(
ÂÂ 
HelperService
ÂÂ *
.
ÂÂ* +
LoggerMessage
ÂÂ+ 8
(
ÂÂ8 9
$str
ÂÂ9 I
,
ÂÂI J
$str
ÂÂK V
,
ÂÂV W
	exception
ÂÂX a
,
ÂÂa b
UserId
ÂÂc i
)
ÂÂi j
)
ÂÂj k
;
ÂÂk l
return
ÊÊ 
Problem
ÊÊ 
(
ÊÊ 
$"
ÊÊ 
$str
ÊÊ L
{
ÊÊL M
UserId
ÊÊM S
}
ÊÊS T
"
ÊÊT U
)
ÊÊU V
;
ÊÊV W
}
ÁÁ 	
}
ËË 
[
ÄÄ 
HttpGet
ÄÄ 
]
ÄÄ 
public
ÅÅ 

async
ÅÅ 
Task
ÅÅ 
<
ÅÅ 
ActionResult
ÅÅ "
>
ÅÅ" #&
GetUsersByVerifyStatusId
ÅÅ$ <
(
ÅÅ< =
int
ÅÅ= @
VerifyStatusID
ÅÅA O
)
ÅÅO P
{
ÇÇ 
if
ÉÉ 

(
ÉÉ 
VerifyStatusID
ÉÉ 
<=
ÉÉ 
$num
ÉÉ 
||
ÉÉ  "
VerifyStatusID
ÉÉ# 1
>
ÉÉ2 3
$num
ÉÉ4 5
)
ÉÉ5 6
return
ÉÉ7 =

BadRequest
ÉÉ> H
(
ÉÉH I
Message
ÉÉI P
(
ÉÉP Q
$"
ÉÉQ S
$strÉÉS ö
{ÉÉö õ
VerifyStatusIDÉÉõ ©
}ÉÉ© ™
"ÉÉ™ ´
)ÉÉ´ ¨
)ÉÉ¨ ≠
;ÉÉ≠ Æ
try
ÑÑ 
{
ÖÖ 	
var
ÜÜ 
ListOfUsers
ÜÜ 
=
ÜÜ 
_UserService
ÜÜ *
.
ÜÜ* +$
GetUsersByVerifyStatus
ÜÜ+ A
(
ÜÜA B
VerifyStatusID
ÜÜB P
)
ÜÜP Q
;
ÜÜQ R
return
áá 
await
áá 
Task
áá 
.
áá 

FromResult
áá (
(
áá( )
Ok
áá) +
(
áá+ ,
ListOfUsers
áá, 7
)
áá7 8
)
áá8 9
;
áá9 :
}
àà 	
catch
ââ 
(
ââ 
	Exception
ââ 
	exception
ââ "
)
ââ" #
{
ää 	
_logger
ãã 
.
ãã 
LogError
ãã 
(
ãã 
HelperService
ãã *
.
ãã* +
LoggerMessage
ãã+ 8
(
ãã8 9
$str
ãã9 I
,
ããI J
$str
ããK y
,
ããy z
	exceptionãã{ Ñ
)ããÑ Ö
)ããÖ Ü
;ããÜ á
return
åå 
Problem
åå 
(
åå 
$"
åå 
$str
åå ]
{
åå] ^
VerifyStatusID
åå^ l
}
åål m
"
ååm n
)
åån o
;
ååo p
}
çç 	
}
éé 
[
•• 
HttpGet
•• 
]
•• 
public
¶¶ 

async
¶¶ 
Task
¶¶ 
<
¶¶ 
ActionResult
¶¶ "
>
¶¶" #"
GetUsersByUserRoleId
¶¶$ 8
(
¶¶8 9
int
¶¶9 <
RoleId
¶¶= C
)
¶¶C D
{
ßß 
if
®® 

(
®® 
RoleId
®® 
<=
®® 
$num
®® 
||
®® 
RoleId
®® !
>
®®" #
$num
®®$ %
)
®®% &
return
®®' -

BadRequest
®®. 8
(
®®8 9
Message
®®9 @
(
®®@ A
$"
®®A C
$str
®®C z
{
®®z {
RoleId®®{ Å
}®®Å Ç
"®®Ç É
)®®É Ñ
)®®Ñ Ö
;®®Ö Ü
try
©© 
{
™™ 	
var
´´ 
ListOfUsers
´´ 
=
´´ 
_UserService
´´ *
.
´´* +"
GetUsersByUserRoleID
´´+ ?
(
´´? @
RoleId
´´@ F
)
´´F G
;
´´G H
return
¨¨ 
await
¨¨ 
Task
¨¨ 
.
¨¨ 

FromResult
¨¨ (
(
¨¨( )
Ok
¨¨) +
(
¨¨+ ,
ListOfUsers
¨¨, 7
)
¨¨7 8
)
¨¨8 9
;
¨¨9 :
}
≠≠ 	
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
	exception
ÆÆ "
)
ÆÆ" #
{
ØØ 	
_logger
∞∞ 
.
∞∞ 
LogError
∞∞ 
(
∞∞ 
HelperService
∞∞ *
.
∞∞* +
LoggerMessage
∞∞+ 8
(
∞∞8 9
$str
∞∞9 I
,
∞∞I J
$str
∞∞K m
,
∞∞m n
	exception
∞∞o x
)
∞∞x y
)
∞∞y z
;
∞∞z {
return
±± 
Problem
±± 
(
±± 
$"
±± 
$str
±± U
{
±±U V
RoleId
±±V \
}
±±\ ]
"
±±] ^
)
±±^ _
;
±±_ `
}
≤≤ 	
}
≥≥ 
[
   
HttpGet
   
]
   
public
ÀÀ 

async
ÀÀ 
Task
ÀÀ 
<
ÀÀ 
ActionResult
ÀÀ "
>
ÀÀ" #"
GetUsersByIsReviewer
ÀÀ$ 8
(
ÀÀ8 9
bool
ÀÀ9 =

IsReviewer
ÀÀ> H
)
ÀÀH I
{
ÃÃ 
try
ŒŒ 
{
œœ 	
var
–– 
ListOfUsers
–– 
=
–– 
_UserService
–– *
.
––* +"
GetUsersByIsReviewer
––+ ?
(
––? @

IsReviewer
––@ J
)
––J K
;
––K L
return
—— 
await
—— 
Task
—— 
.
—— 

FromResult
—— (
(
——( )
Ok
——) +
(
——+ ,
ListOfUsers
——, 7
)
——7 8
)
——8 9
;
——9 :
}
““ 	
catch
”” 
(
”” 
	Exception
”” 
	exception
”” "
)
””" #
{
‘‘ 	
_logger
’’ 
.
’’ 
LogError
’’ 
(
’’ 
HelperService
’’ *
.
’’* +
LoggerMessage
’’+ 8
(
’’8 9
$str
’’9 I
,
’’I J
$str
’’K s
,
’’s t
	exception
’’u ~
)
’’~ 
)’’ Ä
;’’Ä Å
return
÷÷ 
Problem
÷÷ 
(
÷÷ 
$"
÷÷ 
$str
÷÷ Y
{
÷÷Y Z

IsReviewer
÷÷Z d
}
÷÷d e
"
÷÷e f
)
÷÷f g
;
÷÷g h
}
◊◊ 	
}
ÿÿ 
[
€€ 
HttpGet
€€ 
]
€€ 
[
€€ 
AllowAnonymous
€€ 
]
€€ 
public
‹‹ 

async
‹‹ 
Task
‹‹ 
<
‹‹ 
IActionResult
‹‹ #
>
‹‹# $

GetGenders
‹‹% /
(
‹‹/ 0
)
‹‹0 1
{
›› 
try
ﬁﬁ 
{
ﬂﬂ 	
return
‡‡ 
await
‡‡ 
Task
‡‡ 
.
‡‡ 

FromResult
‡‡ (
(
‡‡( )
Ok
‡‡) +
(
‡‡+ ,
_UserService
‡‡, 8
.
‡‡8 9

GetGenders
‡‡9 C
(
‡‡C D
)
‡‡D E
)
‡‡E F
)
‡‡F G
;
‡‡G H
}
·· 	
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
	exception
‚‚ "
)
‚‚" #
{
„„ 	
_logger
‰‰ 
.
‰‰ 
LogError
‰‰ 
(
‰‰ 
HelperService
‰‰ *
.
‰‰* +
LoggerMessage
‰‰+ 8
(
‰‰8 9
$str
‰‰9 I
,
‰‰I J
$str
‰‰K Z
,
‰‰Z [
	exception
‰‰\ e
)
‰‰e f
)
‰‰f g
;
‰‰g h
return
ÂÂ 
Problem
ÂÂ 
(
ÂÂ 
$str
ÂÂ @
)
ÂÂ@ A
;
ÂÂA B
}
ÊÊ 	
}
ÁÁ 
[
ÎÎ 
HttpGet
ÎÎ 
]
ÎÎ 
[
ÎÎ 
AllowAnonymous
ÎÎ 
]
ÎÎ 
public
ÏÏ 

async
ÏÏ 
Task
ÏÏ 
<
ÏÏ 
IActionResult
ÏÏ #
>
ÏÏ# $
GetDesignations
ÏÏ% 4
(
ÏÏ4 5
)
ÏÏ5 6
{
ÌÌ 
try
ÓÓ 
{
ÔÔ 	
return
 
await
 
Task
 
.
 

FromResult
 (
(
( )
Ok
) +
(
+ ,
_UserService
, 8
.
8 9
GetDesignations
9 H
(
H I
)
I J
)
J K
)
K L
;
L M
}
ÛÛ 	
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
	exception
ÙÙ "
)
ÙÙ" #
{
ıı 	
_logger
ˆˆ 
.
ˆˆ 
LogError
ˆˆ 
(
ˆˆ 
HelperService
ˆˆ *
.
ˆˆ* +
LoggerMessage
ˆˆ+ 8
(
ˆˆ8 9
$str
ˆˆ9 I
,
ˆˆI J
$str
ˆˆK _
,
ˆˆ_ `
	exception
ˆˆa j
)
ˆˆj k
)
ˆˆk l
;
ˆˆl m
return
˜˜ 
Problem
˜˜ 
(
˜˜ 
$str
˜˜ >
)
˜˜> ?
;
˜˜? @
}
¯¯ 	
}
˘˘ 
[
áá 
HttpGet
áá 
]
áá 
[
áá 
AllowAnonymous
áá 
]
áá 
public
àà 

async
àà 
Task
àà 
<
àà 
IActionResult
àà #
>
àà# $
GetDepartments
àà% 3
(
àà3 4
)
àà4 5
{
ââ 
try
ää 
{
ãã 	
return
åå 
await
åå 
Task
åå 
.
åå 

FromResult
åå (
(
åå( )
Ok
åå) +
(
åå+ ,
_UserService
åå, 8
.
åå8 9
GetDepartments
åå9 G
(
ååG H
)
ååH I
)
ååI J
)
ååJ K
;
ååK L
}
çç 	
catch
éé 
(
éé 
	Exception
éé 
	exception
éé "
)
éé" #
{
èè 	
_logger
êê
 
.
êê 
LogError
êê 
(
êê 
HelperService
êê (
.
êê( )
LoggerMessage
êê) 6
(
êê6 7
$str
êê7 G
,
êêG H
$str
êêI \
,
êê\ ]
	exception
êê^ g
)
êêg h
)
êêh i
;
êêi j
return
ëë
 
Problem
ëë 
(
ëë 
$str
ëë >
)
ëë> ?
;
ëë? @
}
íí 	
}
ìì 
}óó è	
vC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\CustomExceptions\ItemNotFoundException.cs
	namespace 	
AspireOverflow
 
. 
CustomExceptions )
{ 
public 

class !
ItemNotFoundException &
:' (
	Exception) 2
{ 
public !
ItemNotFoundException $
($ %
)% &
:' (
base) -
(- .
$str. >
)> ?
{@ A
}B C
public !
ItemNotFoundException $
($ %
string% +
message, 3
)3 4
:5 6
base7 ;
(; <
message< C
)C D
{E F
}G H
public

 !
ItemNotFoundException

 $
(

$ %
string

% +
message

, 3
,

3 4
	Exception

5 >
innerException

? M
)

M N
:

O P
base

Q U
(

U V
message

V ]
,

] ^
innerException

_ m
)

m n
{

o p
}

q r
} 
} ‚B
}C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Context\AspireOverflowContext.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
{ 
public 

class !
AspireOverflowContext &
:' (
	DbContext) 2
{ 
public

 !
AspireOverflowContext

 $
(

$ %
DbContextOptions

% 5
<

5 6!
AspireOverflowContext

6 K
>

K L
options

M T
)

T U
:

V W
base

X \
(

\ ]
options

] d
)

d e
{ 	
} 	
public 
virtual 
DbSet 
< 
User !
>! "
Users# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
null9 =
!= >
;> ?
public 
virtual 
DbSet 
< 
UserRole %
>% &
	UserRoles' 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
nullA E
!E F
;F G
public 
DbSet 
< 
Query 
> 
Queries #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
null4 8
!8 9
;9 :
public 
DbSet 
< 
QueryComment !
>! "
QueryComments# 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
nullA E
!E F
;F G
public 
virtual 
DbSet 
< 

Department '
>' (
Departments) 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
=C D
nullE I
!I J
;J K
public 
virtual 
DbSet 
< 
Designation (
>( )
Designations* 6
{7 8
get9 <
;< =
set> A
;A B
}C D
=E F
nullG K
!K L
;L M
public 
virtual 
DbSet 
< 
Gender #
># $
Genders% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
=; <
null= A
!A B
;B C
public 
virtual 
DbSet 
< 
Spam 
> 
Spams  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
null6 :
!: ;
;; <
public 
virtual 
DbSet 
< 
PrivateArticle +
>+ ,
PrivateArticles- <
{= >
get? B
;B C
setD G
;G H
}I J
=K L
nullM Q
!Q R
;R S
public 
virtual 
DbSet 
< 
ArticleLike (
>( )
ArticleLikes* 6
{7 8
get9 <
;< =
set> A
;A B
}C D
=E F
nullG K
!K L
;L M
public 	
DbSet
 
< 
Article 
> 
Articles !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
null2 6
!6 7
;7 8
public 
DbSet 
< 
ArticleComment #
># $
ArticleComments% 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
=C D
nullE I
!I J
;J K
	protected   
override   
void   
OnModelCreating    /
(  / 0
ModelBuilder  0 <
modelBuilder  = I
)  I J
{!! 	
modelBuilder## 
.## 
Entity## 
<## 
Gender## "
>##" #
(### $
entity##$ *
=>##+ -
{$$ 
entity%%  
.%%  !
HasData%%! (
(%%( )
new%%) ,
Gender%%- 3
{%%4 5
GenderId%%6 >
=%%? @
$num%%A B
,%%B C
Name%%D H
=%%I J
$str%%K Q
}%%R S
)%%S T
;%%T U
entity&&  
.&&  !
HasData&&! (
(&&( )
new&&) ,
Gender&&- 3
{&&4 5
GenderId&&6 >
=&&? @
$num&&A B
,&&B C
Name&&D H
=&&I J
$str&&K S
}&&T U
)&&U V
;&&V W
}'' 
)'' 
;'' 
modelBuilder)) 
.)) 
Entity)) 
<))  
VerifyStatus))  ,
>)), -
())- .
entity)). 4
=>))5 7
{** 
entity++ 
.++ 
HasData++ 
(++ 
new++ "
VerifyStatus++# /
{++0 1
VerifyStatusID++2 @
=++A B
$num++C D
,++D E
Name++F J
=++K L
$str++M W
}++X Y
)++Y Z
;++Z [
entity,, 
.,, 
HasData,, 
(,, 
new,, "
VerifyStatus,,# /
{,,0 1
VerifyStatusID,,2 @
=,,A B
$num,,C D
,,,D E
Name,,F J
=,,K L
$str,,M W
},,X Y
),,Y Z
;,,Z [
entity-- 
.-- 
HasData-- 
(-- 
new-- "
VerifyStatus--# /
{--0 1
VerifyStatusID--2 @
=--A B
$num--C D
,--D E
Name--F J
=--K L
$str--M Z
}--[ \
)--\ ]
;--] ^
}.. 
).. 
;.. 
modelBuilder00 
.00 
Entity00 
<00  
UserRole00  (
>00( )
(00) *
entity00* 0
=>001 3
{11 
entity22 
.22 
HasData22 
(22 
new22 !
UserRole22" *
{22+ ,

UserRoleId22- 7
=228 9
$num22: ;
,22; <
RoleName22= E
=22F G
$str22H O
}22P Q
)22Q R
;22R S
entity33 
.33 
HasData33 
(33 
new33 !
UserRole33" *
{33+ ,

UserRoleId33- 7
=338 9
$num33: ;
,33; <
RoleName33= E
=33F G
$str33H N
}33O P
)33P Q
;33Q R
}55 
)55 
;55 
modelBuilder66 
.66 
Entity66  
<66  !
ArticleStatus66! .
>66. /
(66/ 0
entity660 6
=>667 9
{77 
entity88 
.88 
HasData88 
(88 
new88 "
ArticleStatus88# 0
{881 2
ArticleStatusID883 B
=88C D
$num88E F
,88F G
Status88H N
=88O P
$str88Q Z
}88[ \
)88\ ]
;88] ^
entity99 
.99 
HasData99 
(99 
new99 "
ArticleStatus99# 0
{991 2
ArticleStatusID993 B
=99C D
$num99E F
,99F G
Status99H N
=99O P
$str99Q a
}99b c
)99c d
;99d e
entity:: 
.:: 
HasData:: 
(:: 
new:: "
ArticleStatus::# 0
{::1 2
ArticleStatusID::3 B
=::C D
$num::E F
,::F G
Status::H N
=::O P
$str::Q _
}::` a
)::a b
;::b c
entity;; 
.;; 
HasData;; 
(;;  
new;;  #
ArticleStatus;;$ 1
{;;2 3
ArticleStatusID;;4 C
=;;D E
$num;;F G
,;;G H
Status;;I O
=;;P Q
$str;;R ]
};;^ _
);;_ `
;;;` a
}<< 
)<< 
;<< 
}>> 	
}?? 
}@@ Ç
ÑC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Factory\AspireOverflowContextFactory.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
{ 
public 

class (
AspireOverflowContextFactory -
{

 
private 
static !
AspireOverflowContext ,"
_aspireOverflowContext- C
;C D
public 
static !
AspireOverflowContext +*
GetAspireOverflowContextObject, J
(J K
)K L
{ 	
var 
optionsBuilder 
=  
new! $#
DbContextOptionsBuilder% <
<< =!
AspireOverflowContext= R
>R S
(S T
)T U
;U V
try 
{ 
IConfigurationRoot "
configuration# 0
=1 2
new3 6 
ConfigurationBuilder7 K
(K L
)L M
. 
SetBasePath 
( 
	AppDomain &
.& '
CurrentDomain' 4
.4 5
BaseDirectory5 B
)B C
. 
AddJsonFile 
( 
$str /
)/ 0
. 
Build 
( 
) 
; 
var 
connectionString $
=% &
configuration' 4
.4 5
GetConnectionString5 H
(H I
$strI R
)R S
;S T
optionsBuilder 
. 
UseSqlServer +
(+ ,
connectionString, <
??) +
throw, 1
new2 5"
NullReferenceException6 L
(L M
$"- /
$str/ S
{S T
nameofT Z
(Z [
connectionString[ k
)k l
}l m
"m n
)n o
)o p
;p q"
_aspireOverflowContext (
=) *
new, /!
AspireOverflowContext0 E
(E F
optionsBuilderF T
.T U
OptionsU \
)\ ]
;] ^
return "
_aspireOverflowContext /
;/ 0
} 
catch   
(   
	Exception   
	exception   &
)  & '
{!! 
Console"" 
."" 
	WriteLine"" !
(""! "
	exception""" +
.""+ ,
Message"", 3
)""3 4
;""4 5
throw## 
	exception## 
;##  
}$$ 
})) 	
}++ 
}-- {
yC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Factory\RepositoryFactory.cs’
}C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\IArticleRepository.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{ 
public 

	interface 
IArticleRepository '
:( )
IArticleComment* 9
,9 :
IArticleLike; G
{ 
bool 

AddArticle 
( 
Article 
article  '
)' (
;( )
public		
 
bool		 
AddPrivateArticle		 '
(		' (
Article		( /
article		0 7
,		7 8
List		9 =
<		= >
int		> A
>		A B
SharedUsersId		C P
)		P Q
;		Q R
bool

 
UpdateArticle

 
(

 
int

 
	ArticleId

 (
,

( )
int

* -
ArticleStatusID

. =
,

= >
int

> A
UpdatedByUserId

B Q
)

Q R
;

R S
bool 
UpdateArticle 
( 
Article "
article# *
)* +
;+ ,
Article 
GetArticleByID 
( 
int "
	ArticleId# ,
), -
;- .
bool 
DeleteArticle 
( 
int 
	ArticleId #
)# $
;$ %
IEnumerable 
< 
Article 
> 
GetArticles (
(( )
)) *
;* +
public
 
IEnumerable 
< 
PrivateArticle +
>+ ,
GetPrivateArticles- ?
(? @
)@ A
;A B
} 
public 

	interface 
IArticleComment $
{ 
IEnumerable 
< 
ArticleComment "
>" #
GetComments$ /
(/ 0
)0 1
;1 2
bool 

AddComment 
( 
ArticleComment &
comment' .
). /
;/ 0
} 
public 

	interface 
IArticleLike !
{ 
public 
bool 
AddLike 
( 
ArticleLike '
like( ,
), -
;- .
public 
IEnumerable 
< 
ArticleLike &
>& '
GetLikes( 0
(0 1
)1 2
;2 3
}   
}!! ›
zC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\IArticleService.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{ 
public 

	interface 
IArticleService $
:% &"
IArticleCommentService' =
,= >
IArticleLikeService? R
{ 
bool		 
CreateArticle		 
(		 
Article		 "
article		# *
,		* +
List		, 0
<		0 1
int		1 4
>		4 5
SharedUsersId		6 C
=		D E
default		F M
!		M N
)		N O
;		O P
bool

 $
DeleteArticleByArticleId

 %
(

% &
int

& )
	ArticleId

* 3
)

3 4
;

4 5
bool 
ChangeArticleStatus  
(  !
int! $
	ArticleID% .
,. /
int0 3
ArticleStatusID4 C
,C D
intE H
UserIdI O
)O P
;P Q
bool 
UpdateArticle 
( 
Article "
article# *
,* +
int, /
_currentUserId0 >
)> ?
;? @
Object 
GetArticleById 
( 
int !
	ArticleId" +
)+ ,
;, -
IEnumerable 
< 
Object 
> 
GetTrendingArticles /
(/ 0
)0 1
;1 2
IEnumerable 
< 
Object 
> 
GetLatestArticles -
(- .
). /
;/ 0
IEnumerable 
< 
Object 
> 
GetListOfArticles -
(- .
). /
;/ 0
IEnumerable 
< 
Object 
> 
GetPrivateArticles .
(. /
int/ 2
UserId3 9
)9 :
;: ;
IEnumerable 
< 
Object 
> 
GetArticlesByTitle .
(. /
string/ 5
Title6 ;
); <
;< =
IEnumerable 
< 
Object 
> 
GetArticlesByAuthor /
(/ 0
string0 6

AuthorName7 A
)A B
;B C
IEnumerable 
< 
Object 
> 
GetArticlesByUserId /
(/ 0
int0 3
UserId4 :
): ;
;; <
IEnumerable 
< 
Article 
> 
GetAll #
(# $
)$ %
;% &
IEnumerable 
< 
Object 
> #
GetArticlesByReviewerId 3
(3 4
int4 7

ReviewerId8 B
)B C
;C D
IEnumerable 
< 
object 
> (
GetArticlesByArticleStatusId 8
(8 9
int9 <
ArticleStatusID= L
)L M
;M N
} 
public   

	interface   "
IArticleCommentService   +
{!! 
bool"" 
CreateComment"" 
("" 
ArticleComment"" )
comment""* 1
)""1 2
;""2 3
IEnumerable## 
<## 
object## 
>## 
GetComments## '
(##' (
int##( +
	ArticleID##, 5
)##5 6
;##6 7
}%% 
public'' 

	interface'' 
IArticleLikeService'' (
{(( 
bool)) 
AddLikeToArticle)) 
()) 
ArticleLike)) )
Like))* .
))). /
;))/ 0
int** 
GetLikesCount** 
(** 
int** 
	ArticleID** '
)**' (
;**( )
},, 
}-- á
xC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\IEmailService.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{3 4
public 

	interface 
IEmailService "
{ 
Task 
SendEmailAsync	 
( 
MailRequest #
mailRequest$ /
)/ 0
;0 1
} 
} ’
{C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\IQueryRepository.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{ 
public 

	interface 
IQueryRepository %
:& '#
IQueryCommentRepository( ?
,? @!
ISpamReportRepository@ U
{ 
bool	 
AddQuery 
( 
Query 
query "
)" #
;# $
bool	 
UpdateQuery 
( 
int 
QueryId %
,% &
bool' +
IsSolved, 4
=5 6
false7 <
,< =
bool> B
IsDeleteC K
=L M
falseN S
)S T
;T U
Query	 
GetQueryByID 
( 
int 
QueryId  '
)' (
;( )
IEnumerable	 
< 
Query 
> 

GetQueries &
(& '
)' (
;( )
} 
public 

	interface #
IQueryCommentRepository ,
{ 
IEnumerable	 
< 
QueryComment !
>! "
GetComments# .
(. /
)/ 0
;0 1
bool	 

AddComment 
( 
QueryComment %
comment& -
)- .
;. /
} 
public 
	interface !
ISpamReportRepository +
{ 
IEnumerable	 
< 
Spam 
> 
GetSpams #
(# $
)$ %
;% &
bool  	 
AddSpam   
(   
Spam   
spam   
)    
;    !
bool""	 

UpdateSpam"" 
("" 
int"" 
SpamId"" #
,""# $
int""% (
VerifyStatusID"") 7
)""7 8
;""8 9
}$$ 
}%% ›
xC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\IQueryService.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{ 
public 

	interface 
IQueryService "
:# $ 
IQueryCommentService% 9
,9 :
IQuerySpamService; L
{ 
bool 
CreateQuery 
( 
Query 
query $
)$ %
;% &
bool		  
RemoveQueryByQueryId		 !
(		! "
int		" %
QueryId		& -
)		- .
;		. /
bool

 
MarkQueryAsSolved

 
(

 
int

 "
QueryId

# *
)

* +
;

+ ,
Object 
GetQuery 
( 
int 
QueryID #
)# $
;$ %
IEnumerable 
< 
Object 
> 
GetListOfQueries ,
(, -
)- .
;. /
IEnumerable 
< 
Object 
> 
GetTrendingQueries .
(. /
)/ 0
;0 1
IEnumerable 
< 
Object 
> 
GetLatestQueries ,
(, -
)- .
;. /
IEnumerable 
< 
Object 
> 
GetQueriesByUserId .
(. /
int/ 2
UserId3 9
)9 :
;: ;
IEnumerable 
< 
Object 
> 
GetQueriesByTitle -
(- .
String. 4
Title5 :
): ;
;; <
IEnumerable 
< 
Object 
> 

GetQueries &
(& '
bool' +
IsSolved, 4
)4 5
;5 6
} 
public 

	interface  
IQueryCommentService )
{ 
bool 
CreateComment 
( 
QueryComment '
comment( /
)/ 0
;0 1
IEnumerable 
< 
Object 
> 
GetComments '
(' (
int( +
QueryId, 3
)3 4
;4 5
} 
public!! 

	interface!! 
IQuerySpamService!! &
{"" 
bool## 
AddSpam## 
(## 
Spam## 
spam## 
)## 
;##  
IEnumerable$$ 
<$$ 
object$$ 
>$$ 
GetSpams$$ $
($$$ %
int$$% (
VerifyStatusID$$) 7
)$$7 8
;$$8 9
bool%% 
ChangeSpamStatus%% 
(%% 
int%% !
QueryId%%" )
,%%) *
int%%+ .
VerifyStatusID%%/ =
)%%= >
;%%> ?
}'' 
})) ö
xC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\ITokenService.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{3 4
public 
	interface 
ITokenService 
{ 
public 
object 
GenerateToken "
(" #
Login# (
Credentials) 4
)4 5
;5 6
} 
}

 ˚
zC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\IUserRepository.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{ 
public 

	interface 
IUserRepository $
{ 
public 
bool 

CreateUser 
( 
User #
User$ (
)( )
;) *
public 
User 
GetUserByID 
(  
int  #
UserId$ *
)* +
;+ ,
public 
IEnumerable 
< 
User 
>  
GetUsers! )
() *
)* +
;+ ,
public 
bool $
UpdateUserByVerifyStatus ,
(, -
int- 0
UserId1 7
,7 8
int9 <
VerifyStatusID= K
)K L
;L M
public 
bool  
UpdateUserByReviewer (
(( )
int) ,
UserId- 3
,3 4
bool5 9

IsReviewer: D
)D E
;E F
public 
bool 

RemoveUser 
( 
int "
UserId# )
)) *
;* +
public 
IEnumerable 
< 

Department %
>% &
GetDepartments' 5
(5 6
)6 7
;7 8
public 
IEnumerable 
< 
Gender !
>! "

GetGenders# -
(- .
). /
;/ 0
public	 
IEnumerable 
< 
Designation '
>' (
GetDesignations) 8
(8 9
)9 :
;: ;
} 
} ⁄
wC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Interfaces\IUserService.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
.( )

Interfaces) 3
{ 
public 

	interface 
IUserService !
:" #
IDesignations$ 1
,1 2
IGenders3 ;
{ 
public 
bool 

CreateUser 
( 
User #
user$ (
)( )
;) *
public 
bool 

RemoveUser 
( 
int "
UserId# )
)) *
;* +
public		 
bool		 "
UpdateUserByIsReviewer		 *
(		* +
int		+ .
UserId		/ 5
,		5 6
bool		7 ;

IsReviewer		< F
)		F G
;		G H
public

 
User

 
GetUser

 
(

 
string

 "
Email

# (
,

( )
string

* 0
Password

1 9
)

9 :
;

: ;
public 
IEnumerable 
< 
User 
>  
GetUsers! )
() *
)* +
;+ ,
public 
IEnumerable 
< 
Object !
>! ""
GetUsersByVerifyStatus# 9
(9 :
int: =
VerifyStatusID> L
)L M
;M N
public 
object 
GetUserByID !
(! "
int" %
UserID& ,
), -
;- .
public 
IEnumerable 
< 
Object !
>! " 
GetUsersByUserRoleID# 7
(7 8
int8 ;

UserRoleID< F
)F G
;G H
public 
bool (
ChangeUserVerificationStatus 0
(0 1
int1 4
UserID5 ;
,; <
int= @
VerifyStatusIDA O
)O P
;P Q
public 
IEnumerable 
< 
Object !
>! " 
GetUsersByIsReviewer# 7
(7 8
bool8 <

IsReviewer= G
)G H
;H I
} 
public 

	interface 
IDesignations "
{ 
public 
IEnumerable 
< 
Object !
>! "
GetDesignations# 2
(2 3
)3 4
;4 5
public 
IEnumerable 
< 
Object !
>! "
GetDepartments# 1
(1 2
)2 3
;3 4
} 
public 

	interface 
IGenders 
{ 
public 
IEnumerable 
< 
Object !
>! "

GetGenders# -
(- .
). /
;/ 0
} 
} ≈ü
|C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Repository\ArticleRepository.cs
	namespace 	
AspireOverflow
 
. 
DataAccessLayer (
{		 
public

 

class

 
ArticleRepository

 "
:

# $
IArticleRepository

% 7
{ 
private !
AspireOverflowContext %
_context& .
;. /
private 
ILogger 
< 
ArticleRepository )
>) *
_logger+ 2
;2 3
public 
ArticleRepository  
(  !!
AspireOverflowContext! 6
context7 >
,> ?
ILogger@ G
<G H
ArticleRepositoryH Y
>Y Z
logger[ a
)a b
{ 	
_context 
= 
context 
; 
_logger 
= 
logger 
; 
} 	
public 
bool 

AddArticle 
( 
Article &
article' .
). /
{ 	

Validation 
. 
ValidateArticle &
(& '
article' .
). /
;/ 0
try 
{ 
_context 
. 
Articles !
.! "
Add" %
(% &
article& -
)- .
;. /
_context 
. 
SaveChanges $
($ %
)% &
;& '
return 
true 
; 
}   
catch!! 
(!! 
	Exception!! 
	exception!! &
)!!& '
{"" 
_logger## 
.## 
LogError##  
(##  !
HelperService##! .
.##. /
LoggerMessage##/ <
(##< =
$str##= P
,##P Q
$str##R o
,##o p
	exception##q z
,##z {
article	##| É
)
##É Ñ
)
##Ñ Ö
;
##Ö Ü
return%% 
false%% 
;%% 
}(( 
})) 	
public++ 
bool++ 
AddPrivateArticle++ %
(++% &
Article++& -
article++. 5
,++5 6
List++7 ;
<++; <
int++< ?
>++? @
SharedUsersId++A N
)++N O
{,, 	

Validation-- 
.-- 
ValidateArticle-- &
(--& '
article--' .
)--. /
;--/ 0
try.. 
{// 
var00 
entry00 
=00 
_context00 $
.00$ %
Articles00% -
.00- .
Add00. 1
(001 2
article002 9
)009 :
;00: ;
_context11 
.11 
SaveChanges11 $
(11$ %
)11% &
;11& '
if22 
(22 
article22 
.22 
	IsPrivate22 %
&&22& (
SharedUsersId22) 6
!=227 9
null22: >
&&22? A
SharedUsersId22B O
.22O P
Count22P U
(22U V
)22V W
>22X Y
$num22Z [
)22[ \
{33 
SharedUsersId44 !
.44! "
ForEach44" )
(44) *
item44* .
=>44/ 1
_context442 :
.44: ;
PrivateArticles44; J
.44J K
AddAsync44K S
(44S T
new44T W
PrivateArticle44X f
(44f g
entry44g l
.44l m
Entity44m s
.44s t
ArtileId44t |
,44| }
item	44~ Ç
)
44Ç É
)
44É Ñ
)
44Ñ Ö
;
44Ö Ü
_context55 
.55 
SaveChanges55 (
(55( )
)55) *
;55* +
}66 
return88 
true88 
;88 
}99 
catch:: 
(:: 
	Exception:: 
	exception:: &
)::& '
{;; 
_logger<< 
.<< 
LogError<<  
(<<  !
HelperService<<! .
.<<. /
LoggerMessage<</ <
(<<< =
$str<<= P
,<<P Q
$str	<<R è
,
<<è ê
	exception
<<ë ö
,
<<ö õ
article
<<ú £
)
<<£ §
)
<<§ •
;
<<• ¶
return>> 
false>> 
;>> 
}@@ 
}AA 	
publicCC 
boolCC 
UpdateArticleCC !
(CC! "
ArticleCC" )
articleCC* 1
)CC1 2
{DD 	

ValidationEE 
.EE 
ValidateArticleEE &
(EE& '
articleEE' .
)EE. /
;EE/ 0
tryFF 
{GG 
_contextHH 
.HH 
ArticlesHH !
.HH! "
UpdateHH" (
(HH( )
articleHH) 0
)HH0 1
;HH1 2
_contextII 
.II 
SaveChangesII $
(II$ %
)II% &
;II& '
returnJJ 
trueJJ 
;JJ 
}KK 
catchLL 
(LL 
	ExceptionLL 
	exceptionLL &
)LL& '
{MM 
_loggerNN 
.NN 
LogErrorNN  
(NN  !
HelperServiceNN! .
.NN. /
LoggerMessageNN/ <
(NN< =
$strNN= P
,NNP Q
$strNNR r
,NNr s
	exceptionNNt }
,NN} ~
article	NN Ü
)
NNÜ á
)
NNá à
;
NNà â
returnPP 
falsePP 
;PP 
}SS 
}TT 	
publicVV 
boolVV 
UpdateArticleVV !
(VV! "
intVV" %
	ArticleIdVV& /
,VV/ 0
intVV1 4
ArticleStatusIDVV5 D
,VVD E
intVVF I
UpdatedByUserIdVVJ Y
)VVY Z
{WW 	
ifYY 
(YY 
	ArticleIdYY 
<=YY 
$numYY 
)YY 
throwYY  %
newYY& )
ArgumentExceptionYY* ;
(YY; <
$"YY< >
$strYY> p
{YYp q
	ArticleIdYYq z
}YYz {
"YY{ |
)YY| }
;YY} ~
ifZZ 
(ZZ 
ArticleStatusIDZZ 
<=ZZ  "
$numZZ# $
||ZZ% '
ArticleStatusIDZZ( 7
>ZZ8 9
$numZZ: ;
)ZZ; <
throwZZ= B
newZZC F
ArgumentExceptionZZG X
(ZZX Y
$"ZZY [
$str	ZZ[ ï
{
ZZï ñ
ArticleStatusID
ZZñ •
}
ZZ• ¶
"
ZZ¶ ß
)
ZZß ®
;
ZZ® ©
try[[ 
{\\ 
var]] 
ExistingArticle]] #
=]]$ %
GetArticleByID]]& 4
(]]4 5
	ArticleId]]5 >
)]]> ?
;]]? @
ExistingArticle^^ 
.^^  
ArticleStatusID^^  /
=^^0 1
ArticleStatusID^^2 A
;^^A B
ExistingArticle__ 
.__  
	UpdatedOn__  )
=__* +
DateTime__, 4
.__4 5
Now__5 8
;__8 9
ExistingArticle`` 
.``  
	UpdatedBy``  )
=``* +
UpdatedByUserId``, ;
;``; <
_contextdd 
.dd 
Articlesdd !
.dd! "
Updatedd" (
(dd( )
ExistingArticledd) 8
)dd8 9
;dd9 :
_contextee 
.ee 
SaveChangesee $
(ee$ %
)ee% &
;ee& '
returnff 
trueff 
;ff 
}gg 
catchhh 
(hh 
	Exceptionhh 
	exceptionhh &
)hh& '
{ii 
_loggerjj 
.jj 
LogErrorjj  
(jj  !
HelperServicejj! .
.jj. /
LoggerMessagejj/ <
(jj< =
$strjj= P
,jjP Q
$str	jjR ö
,
jjö õ
	exception
jjú •
)
jj• ¶
)
jj¶ ß
;
jjß ®
returnkk 
falsekk 
;kk 
}mm 
}nn 	
publicpp 
boolpp 
DeleteArticlepp !
(pp! "
intpp" %
	ArticleIdpp& /
)pp/ 0
{qq 	
ifrr 
(rr 
	ArticleIdrr 
<=rr 
$numrr 
)rr 
throwrr  %
newrr& )
ArgumentExceptionrr* ;
(rr; <
$"rr< >
$strrr> p
{rrp q
	ArticleIdrrq z
}rrz {
"rr{ |
)rr| }
;rr} ~
tryss 
{tt 
varuu  
ExistingDraftArticleuu (
=uu) *
GetArticlesuu+ 6
(uu6 7
)uu7 8
.uu8 9
ToListuu9 ?
(uu? @
)uu@ A
.uuA B
FinduuB F
(uuF G
itemuuG K
=>uuL N
itemuuO S
.uuS T
ArtileIduuT \
==uu] _
	ArticleIduu` i
&&uuj l
itemuum q
.uuq r
ArticleStatusID	uur Å
==
uuÇ Ñ
$num
uuÖ Ü
)
uuÜ á
;
uuá à
ifvv 
(vv  
ExistingDraftArticlevv (
==vv) +
nullvv, 0
)vv0 1
throwvv2 7
newvv8 ;!
ItemNotFoundExceptionvv< Q
(vvQ R
$"vvR T
$strvvT z
{vvz {
	ArticleId	vv{ Ñ
}
vvÑ Ö
"
vvÖ Ü
)
vvÜ á
;
vvá à
_contextxx 
.xx 
Articlesxx !
.xx! "
Removexx" (
(xx( ) 
ExistingDraftArticlexx) =
)xx= >
;xx> ?
_contextyy 
.yy 
SaveChangesyy $
(yy$ %
)yy% &
;yy& '
returnzz 
truezz 
;zz 
}|| 
catch}} 
(}} 
	Exception}} 
	exception}} &
)}}& '
{~~ 
_logger 
. 
LogError  
(  !
HelperService! .
.. /
LoggerMessage/ <
(< =
$str= P
,P Q
$strR p
,p q
	exceptionr {
,{ |
	ArticleId	} Ü
)
Ü á
)
á à
;
à â
return
ÄÄ 
false
ÄÄ 
;
ÄÄ 
}
ÇÇ 
}
ÉÉ 	
public
ÑÑ 
Article
ÑÑ 
GetArticleByID
ÑÑ %
(
ÑÑ% &
int
ÑÑ& )
	ArticleId
ÑÑ* 3
)
ÑÑ3 4
{
ÖÖ 	
if
ÜÜ 
(
ÜÜ 
	ArticleId
ÜÜ 
<=
ÜÜ 
$num
ÜÜ 
)
ÜÜ 
throw
ÜÜ  %
new
ÜÜ& )
ArgumentException
ÜÜ* ;
(
ÜÜ; <
$"
ÜÜ< >
$str
ÜÜ> p
{
ÜÜp q
	ArticleId
ÜÜq z
}
ÜÜz {
"
ÜÜ{ |
)
ÜÜ| }
;
ÜÜ} ~
Article
áá 
?
áá 
ExistingArticle
áá $
;
áá$ %
try
àà 
{
ââ 
ExistingArticle
ää 
=
ää  !
GetArticles
ää" -
(
ää- .
)
ää. /
.
ää/ 0
ToList
ää0 6
(
ää6 7
)
ää7 8
.
ää8 9
Find
ää9 =
(
ää= >
item
ää> B
=>
ääC E
item
ääF J
.
ääJ K
ArtileId
ääK S
==
ääT V
	ArticleId
ääW `
)
ää` a
;
ääa b
return
ãã 
ExistingArticle
ãã &
!=
ãã' )
null
ãã* .
?
ãã/ 0
ExistingArticle
ãã1 @
:
ããA B
throw
ããC H
new
ããI L#
ItemNotFoundException
ããM b
(
ããb c
$"
ããc e
$strããe ó
{ããó ò
	ArticleIdããò °
}ãã° ¢
"ãã¢ £
)ãã£ §
;ãã§ •
}
åå 
catch
çç 
(
çç 
	Exception
çç 
	exception
çç &
)
çç& '
{
éé 
_logger
èè 
.
èè 
LogError
èè  
(
èè  !
HelperService
èè! .
.
èè. /
LoggerMessage
èè/ <
(
èè< =
$str
èè= P
,
èèP Q
$str
èèR q
,
èèq r
	exception
èès |
,
èè| }
	ArticleIdèè~ á
)èèá à
)èèà â
;èèâ ä
throw
êê 
	exception
êê 
;
êê  
}
ëë 
}
íí 	
public
îî 
IEnumerable
îî 
<
îî 
Article
îî "
>
îî" #
GetArticles
îî$ /
(
îî/ 0
)
îî0 1
{
ïï 	
try
ññ 
{
óó 
var
òò 
ListOfArticle
òò !
=
òò" #
_context
òò$ ,
.
òò, -
Articles
òò- 5
.
òò5 6
Include
òò6 =
(
òò= >
$str
òò> M
)
òòM N
.
òòN O
Include
òòO V
(
òòV W
$str
òòW ]
)
òò] ^
.
òò^ _
ToList
òò_ e
(
òòe f
)
òòf g
;
òòg h
return
ôô 
ListOfArticle
ôô $
;
ôô$ %
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
	exception
úú &
)
úú& '
{
ùù 
_logger
ûû 
.
ûû 
LogError
ûû  
(
ûû  !
HelperService
ûû! .
.
ûû. /
LoggerMessage
ûû/ <
(
ûû< =
$str
ûû= P
,
ûûP Q
$str
ûûR a
,
ûûa b
	exception
ûûc l
)
ûûl m
)
ûûm n
;
ûûn o
throw
†† 
	exception
†† 
;
††  
}
°° 
}
§§ 	
public
¶¶ 
IEnumerable
¶¶ 
<
¶¶ 
PrivateArticle
¶¶ )
>
¶¶) * 
GetPrivateArticles
¶¶+ =
(
¶¶= >
)
¶¶> ?
{
ßß 	
try
®® 
{
©© 
var
™™ #
ListofPrivateArticles
™™ )
=
™™* +
_context
™™, 4
.
™™4 5
PrivateArticles
™™5 D
.
™™D E
ToList
™™E K
(
™™K L
)
™™L M
;
™™M N
return
´´ #
ListofPrivateArticles
´´ ,
;
´´, -
}
≠≠ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
	exception
ÆÆ &
)
ÆÆ& '
{
ØØ 
_logger
∞∞ 
.
∞∞ 
LogError
∞∞  
(
∞∞  !
HelperService
∞∞! .
.
∞∞. /
LoggerMessage
∞∞/ <
(
∞∞< =
$str
∞∞= P
,
∞∞P Q
$str
∞∞R h
,
∞∞h i
	exception
∞∞j s
)
∞∞s t
)
∞∞t u
;
∞∞u v
throw
≤≤ 
	exception
≤≤ 
;
≤≤  
}
≥≥ 
}
∂∂ 	
public
∏∏ 
bool
∏∏ 

AddComment
∏∏ 
(
∏∏ 
ArticleComment
∏∏ -
comment
∏∏. 5
)
∏∏5 6
{
ππ 	

Validation
∫∫ 
.
∫∫ $
ValidateArticleComment
∫∫ -
(
∫∫- .
comment
∫∫. 5
)
∫∫5 6
;
∫∫6 7
try
ªª 
{
ºº 
_context
ΩΩ 
.
ΩΩ 
ArticleComments
ΩΩ (
.
ΩΩ( )
Add
ΩΩ) ,
(
ΩΩ, -
comment
ΩΩ- 4
)
ΩΩ4 5
;
ΩΩ5 6
_context
ææ 
.
ææ 
SaveChanges
ææ $
(
ææ$ %
)
ææ% &
;
ææ& '
return
¿¿ 
true
¿¿ 
;
¿¿ 
}
¡¡ 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ 
	exception
¬¬ &
)
¬¬& '
{
√√ 
_logger
ƒƒ 
.
ƒƒ 
LogError
ƒƒ  
(
ƒƒ  !
HelperService
ƒƒ! .
.
ƒƒ. /
LoggerMessage
ƒƒ/ <
(
ƒƒ< =
$str
ƒƒ= P
,
ƒƒP Q
$str
ƒƒR v
,
ƒƒv w
	exceptionƒƒx Å
,ƒƒÅ Ç
commentƒƒÉ ä
)ƒƒä ã
)ƒƒã å
;ƒƒå ç
return
∆∆ 
false
∆∆ 
;
∆∆ 
}
…… 
}
   	
public
ŒŒ 
IEnumerable
ŒŒ 
<
ŒŒ 
ArticleComment
ŒŒ )
>
ŒŒ) *
GetComments
ŒŒ+ 6
(
ŒŒ6 7
)
ŒŒ7 8
{
œœ 	
try
—— 
{
““ 
var
”” 
ListOfComments
”” "
=
””# $
_context
””% -
.
””- .
ArticleComments
””. =
.
””= >
ToList
””> D
(
””D E
)
””E F
;
””F G
return
‘‘ 
ListOfComments
‘‘ %
;
‘‘% &
}
÷÷ 
catch
◊◊ 
(
◊◊ 
	Exception
◊◊ 
	exception
◊◊ &
)
◊◊& '
{
ÿÿ 
_logger
ŸŸ 
.
ŸŸ 
LogError
ŸŸ  
(
ŸŸ  !
HelperService
ŸŸ! .
.
ŸŸ. /
LoggerMessage
ŸŸ/ <
(
ŸŸ< =
$str
ŸŸ= P
,
ŸŸP Q
$str
ŸŸR a
,
ŸŸa b
	exception
ŸŸc l
)
ŸŸl m
)
ŸŸm n
;
ŸŸn o
throw
€€ 
	exception
€€ 
;
€€  
}
‹‹ 
}
›› 	
public
‡‡ 
bool
‡‡ 
AddLike
‡‡ 
(
‡‡ 
ArticleLike
‡‡ '
like
‡‡( ,
)
‡‡, -
{
·· 	
if
‚‚ 
(
‚‚ 
like
‚‚ 
.
‚‚ 
	ArticleId
‚‚ 
<=
‚‚ !
$num
‚‚" #
)
‚‚# $
throw
‚‚% *
new
‚‚+ .
ArgumentException
‚‚/ @
(
‚‚@ A
$"
‚‚A C
$str
‚‚C u
{
‚‚u v
like
‚‚v z
.
‚‚z {
	ArticleId‚‚{ Ñ
}‚‚Ñ Ö
"‚‚Ö Ü
)‚‚Ü á
;‚‚á à
if
„„ 
(
„„ 
like
„„ 
.
„„ 
UserId
„„ 
<=
„„ 
$num
„„  
)
„„  !
throw
„„" '
new
„„( +
ArgumentException
„„, =
(
„„= >
$"
„„> @
$str
„„@ l
{
„„l m
like
„„m q
.
„„q r
UserId
„„r x
}
„„x y
"
„„y z
)
„„z {
;
„„{ |
try
‰‰ 
{
ÂÂ 
_context
ÊÊ 
.
ÊÊ 
ArticleLikes
ÊÊ %
.
ÊÊ% &
Add
ÊÊ& )
(
ÊÊ) *
like
ÊÊ* .
)
ÊÊ. /
;
ÊÊ/ 0
_context
ÁÁ 
.
ÁÁ 
SaveChanges
ÁÁ $
(
ÁÁ$ %
)
ÁÁ% &
;
ÁÁ& '
return
ËË 
true
ËË 
;
ËË 
}
ÈÈ 
catch
ÍÍ 
(
ÍÍ 
	Exception
ÍÍ 
	exception
ÍÍ &
)
ÍÍ& '
{
ÎÎ 
_logger
ÏÏ 
.
ÏÏ 
LogError
ÏÏ  
(
ÏÏ  !
HelperService
ÏÏ! .
.
ÏÏ. /
LoggerMessage
ÏÏ/ <
(
ÏÏ< =
$str
ÏÏ= P
,
ÏÏP Q
$str
ÏÏR m
,
ÏÏm n
	exception
ÏÏo x
,
ÏÏx y
like
ÏÏz ~
)
ÏÏ~ 
)ÏÏ Ä
;ÏÏÄ Å
return
ÓÓ 
false
ÓÓ 
;
ÓÓ 
}
 
}
ÒÒ 	
public
ÙÙ 
IEnumerable
ÙÙ 
<
ÙÙ 
ArticleLike
ÙÙ &
>
ÙÙ& '
GetLikes
ÙÙ( 0
(
ÙÙ0 1
)
ÙÙ1 2
{
ıı 	
try
˜˜ 
{
¯¯ 
var
˘˘  
ListOfArticleLikes
˘˘ &
=
˘˘' (
_context
˘˘) 1
.
˘˘1 2
ArticleLikes
˘˘2 >
.
˘˘> ?
Include
˘˘? F
(
˘˘F G
$str
˘˘G P
)
˘˘P Q
.
˘˘Q R
ToList
˘˘R X
(
˘˘X Y
)
˘˘Y Z
;
˘˘Z [
return
˙˙  
ListOfArticleLikes
˙˙ )
;
˙˙) *
}
¸¸ 
catch
˝˝ 
(
˝˝ 
	Exception
˝˝ 
	exception
˝˝ &
)
˝˝& '
{
˛˛ 
_logger
ˇˇ 
.
ˇˇ 
LogError
ˇˇ  
(
ˇˇ  !
HelperService
ˇˇ! .
.
ˇˇ. /
LoggerMessage
ˇˇ/ <
(
ˇˇ< =
$str
ˇˇ= P
,
ˇˇP Q
$str
ˇˇR ^
,
ˇˇ^ _
	exception
ˇˇ` i
)
ˇˇi j
)
ˇˇj k
;
ˇˇk l
throw
ÅÅ 
	exception
ÅÅ 
;
ÅÅ  
}
ÇÇ 
}
ÉÉ 	
}
ÑÑ 
}ÖÖ ìÄ
zC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Repository\QueryRepository.cs
	namespace

 	
AspireOverflow


 
.

 
DataAccessLayer

 (
{ 
public 

class 
QueryRepository  
:! "
IQueryRepository# 3
{ 
private !
AspireOverflowContext %
_context& .
;. /
private 
ILogger 
< 
QueryRepository '
>' (
_logger) 0
;0 1
public 
QueryRepository 
( !
AspireOverflowContext 4
context5 <
,< =
ILogger> E
<E F
QueryRepositoryF U
>U V
loggerW ]
)] ^
{ 	
_context 
= 
context 
; 
_logger 
= 
logger 
; 
} 	
public 
bool 
AddQuery 
( 
Query "
query# (
)( )
{ 	

Validation 
. 
ValidateQuery $
($ %
query% *
)* +
;+ ,
try 
{ 
_context!! 
.!! 
Queries!!  
.!!  !
Add!!! $
(!!$ %
query!!% *
)!!* +
;!!+ ,
_context"" 
."" 
SaveChanges"" $
(""$ %
)""% &
;""& '
return$$ 
true$$ 
;$$ 
}%% 
catch&& 
(&& 
	Exception&& 
	exception&& &
)&&& '
{'' 
_logger(( 
.(( 
LogError((  
(((  !
HelperService((! .
.((. /
LoggerMessage((/ <
(((< =
$str((= N
,((N O
$str((P g
,((g h
	exception((i r
,((r s
query((t y
)((y z
)((z {
;(({ |
return** 
false** 
;** 
}-- 
}// 	
public33 
bool33 

AddComment33 
(33 
QueryComment33 +
comment33, 3
)333 4
{44 	

Validation55 
.55 
ValidateComment55 &
(55& '
comment55' .
)55. /
;55/ 0
try66 
{77 
_context88 
.88 
QueryComments88 &
.88& '
Add88' *
(88* +
comment88+ 2
)882 3
;883 4
_context99 
.99 
SaveChanges99 $
(99$ %
)99% &
;99& '
return:: 
true:: 
;:: 
}<< 
catch== 
(== 
	Exception== 
	exception== &
)==& '
{>> 
_logger?? 
.?? 
LogError??  
(??  !
HelperService??! .
.??. /
LoggerMessage??/ <
(??< =
$str??= N
,??N O
$str??P r
,??r s
	exception??t }
,??} ~
comment	?? Ü
)
??Ü á
)
??á à
;
??à â
return@@ 
false@@ 
;@@ 
}BB 
}CC 	
publicGG 
boolGG 
UpdateQueryGG 
(GG  
intGG  #
QueryIdGG$ +
,GG+ ,
boolGG- 1
IsSolvedGG2 :
,GG: ;
boolGG< @
IsDeleteGGA I
)GGI J
{HH 	
ifJJ 
(JJ 
QueryIdJJ 
<=JJ 
$numJJ 
)JJ 
throwJJ #
newJJ$ '
ArgumentExceptionJJ( 9
(JJ9 :
$"JJ: <
$strJJ< j
{JJj k
QueryIdJJk r
}JJr s
"JJs t
)JJt u
;JJu v
ifLL 
(LL 
IsSolvedLL 
==LL 
IsDeleteLL $
)LL$ %
throwLL& +
newLL, /
ArgumentExceptionLL0 A
(LLA B
$strLLB x
)LLx y
;LLy z
tryMM 
{NN 
varOO 
ExistingQueryOO !
=OO" #
GetQueryByIDOO$ 0
(OO0 1
QueryIdOO1 8
)OO8 9
;OO9 :
ifQQ 
(QQ 
IsSolvedQQ 
)QQ 
ExistingQueryQQ +
.QQ+ ,
IsSolvedQQ, 4
=QQ5 6
IsSolvedQQ7 ?
;QQ? @
ifRR 
(RR 
IsDeleteRR 
)RR 
ExistingQueryRR +
.RR+ ,
IsActiveRR, 4
=RR5 6
falseRR7 <
;RR< =
_contextTT 
.TT 
QueriesTT  
.TT  !
UpdateTT! '
(TT' (
ExistingQueryTT( 5
)TT5 6
;TT6 7
_contextUU 
.UU 
SaveChangesUU $
(UU$ %
)UU% &
;UU& '
returnVV 
trueVV 
;VV 
}WW 
catchXX 
(XX 
	ExceptionXX 
	exceptionXX &
)XX& '
{YY 
_loggerZZ 
.ZZ 
LogErrorZZ  
(ZZ  !
HelperServiceZZ! .
.ZZ. /
LoggerMessageZZ/ <
(ZZ< =
$strZZ= N
,ZZN O
$str	ZZP à
,
ZZà â
	exception
ZZä ì
,
ZZì î
IsSolved
ZZï ù
?
ZZû ü
IsSolved
ZZ† ®
:
ZZ© ™
IsDelete
ZZ´ ≥
)
ZZ≥ ¥
)
ZZ¥ µ
;
ZZµ ∂
return[[ 
false[[ 
;[[ 
}]] 
}^^ 	
publicaa 
Queryaa 
GetQueryByIDaa !
(aa! "
intaa" %
QueryIdaa& -
)aa- .
{bb 	
ifcc 
(cc 
QueryIdcc 
<=cc 
$numcc 
)cc 
throwcc $
newcc% (
ArgumentExceptioncc) :
(cc: ;
$"cc; =
$strcc= k
{cck l
QueryIdccl s
}ccs t
"cct u
)ccu v
;ccv w
Querydd 
?dd 
ExistingQuerydd  
;dd  !
tryee 
{ff 
ExistingQuerygg 
=gg 

GetQueriesgg  *
(gg* +
)gg+ ,
.gg, -
ToListgg- 3
(gg3 4
)gg4 5
.gg5 6
Findgg6 :
(gg: ;
querygg; @
=>ggA C
queryggC H
.ggH I
QueryIdggI P
==ggP R
QueryIdggR Y
)ggY Z
;ggZ [
returnhh 
ExistingQueryhh $
!=hh% '
nullhh( ,
?hh- .
ExistingQueryhh/ <
:hh= >
throwhh? D
newhhE H!
ItemNotFoundExceptionhhI ^
(hh^ _
$"hh_ a
$str	hha è
{
hhè ê
QueryId
hhê ó
}
hhó ò
"
hhò ô
)
hhô ö
;
hhö õ
}ii 
catchjj 
(jj 
	Exceptionjj 
	exceptionjj &
)jj& '
{kk 
_loggerll 
.ll 
LogErrorll  
(ll  !
HelperServicell! .
.ll. /
LoggerMessagell/ <
(ll< =
$strll= N
,llN O
$strllP k
,llk l
	exceptionllm v
,llv w
QueryIdllx 
)	ll Ä
)
llÄ Å
;
llÅ Ç
throwmm 
	exceptionmm 
;mm  
}nn 
}oo 	
publicqq 
IEnumerableqq 
<qq 
Queryqq  
>qq  !

GetQueriesqq" ,
(qq, -
)qq- .
{rr 	
tryss 
{tt 
varuu 
ListOfQueriesuu !
=uu" #
_contextuu$ ,
.uu, -
Queriesuu- 4
.uu4 5
Whereuu5 :
(uu: ;
itemuu; ?
=>uu@ B
itemuuC G
.uuG H
IsActiveuuH P
==uuQ S
trueuuT X
)uuX Y
.uuY Z
IncludeuuZ a
(uua b
$struub h
)uuh i
.uui j
ToListuuj p
(uup q
)uuq r
;uur s
returnvv 
ListOfQueriesvv $
;vv$ %
}xx 
catchyy 
(yy 
	Exceptionyy 
	exceptionyy &
)yy& '
{zz 
_logger{{ 
.{{ 
LogError{{  
({{  !
HelperService{{! .
.{{. /
LoggerMessage{{/ <
({{< =
$str{{= N
,{{N O
$str{{P ^
,{{^ _
	exception{{` i
){{i j
){{j k
;{{k l
throw}} 
	exception}} 
;}}  
}~~ 
}
ÅÅ 	
public
ÑÑ 
IEnumerable
ÑÑ 
<
ÑÑ 
QueryComment
ÑÑ '
>
ÑÑ' (
GetComments
ÑÑ) 4
(
ÑÑ4 5
)
ÑÑ5 6
{
ÖÖ 	
try
ÜÜ 
{
áá 
var
àà 
ListOfComments
àà "
=
àà# $
_context
àà% -
.
àà- .
QueryComments
àà. ;
.
àà; <
Include
àà< C
(
ààC D
$str
ààD K
)
ààK L
.
ààL M
Include
ààM T
(
ààT U
$str
ààU [
)
àà[ \
.
àà\ ]
ToList
àà] c
(
ààc d
)
ààd e
;
ààe f
return
ââ 
ListOfComments
ââ %
;
ââ% &
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
	exception
åå &
)
åå& '
{
çç 
_logger
éé 
.
éé 
LogError
éé  
(
éé  !
HelperService
éé! .
.
éé. /
LoggerMessage
éé/ <
(
éé< =
$str
éé= N
,
ééN O
$str
ééP _
,
éé_ `
	exception
ééa j
)
ééj k
)
éék l
;
éél m
throw
êê 
	exception
êê 
;
êê  
}
ëë 
}
íí 	
public
îî 
bool
îî 
AddSpam
îî 
(
îî 
Spam
îî  
spam
îî! %
)
îî% &
{
ïï 	

Validation
ññ 
.
ññ 
ValidateSpam
ññ "
(
ññ" #
spam
ññ# '
)
ññ' (
;
ññ( )
try
óó 
{
òò 
if
ôô 
(
ôô 
GetSpams
ôô 
(
ôô 
)
ôô 
.
ôô 
ToList
ôô $
(
ôô$ %
)
ôô% &
.
ôô& '
Any
ôô' *
(
ôô* +
item
ôô+ /
=>
ôô0 2
item
ôô3 7
.
ôô7 8
UserId
ôô8 >
==
ôô? A
spam
ôôB F
.
ôôF G
UserId
ôôG M
&&
ôôN P
item
ôôQ U
.
ôôU V
QueryId
ôôV ]
==
ôô^ `
spam
ôôa e
.
ôôe f
QueryId
ôôf m
)
ôôm n
)
ôôn o
throw
ôôp u
new
ôôv y 
ArgumentExceptionôôz ã
(ôôã å
$strôôå ¬
)ôô¬ √
;ôô√ ƒ
_context
õõ 
.
õõ 
Spams
õõ 
.
õõ 
AddRange
õõ '
(
õõ' (
spam
õõ( ,
)
õõ, -
;
õõ- .
_context
úú 
.
úú 
SaveChanges
úú $
(
úú$ %
)
úú% &
;
úú& '
return
ùù 
true
ùù 
;
ùù 
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
	exception
üü &
)
üü& '
{
†† 
_logger
°° 
.
°° 
LogError
°°  
(
°°  !
HelperService
°°! .
.
°°. /
LoggerMessage
°°/ <
(
°°< =
$str
°°= N
,
°°N O
$str
°°P d
,
°°d e
	exception
°°f o
,
°°o p
spam
°°q u
)
°°u v
)
°°v w
;
°°w x
return
££ 
false
££ 
;
££ 
}
•• 
}
¶¶ 	
public
©© 
IEnumerable
©© 
<
©© 
Spam
©© 
>
©©  
GetSpams
©©! )
(
©©) *
)
©©* +
{
™™ 	
try
´´ 
{
¨¨ 
var
≠≠ 
ListOfSpams
≠≠ 
=
≠≠  !
_context
≠≠" *
.
≠≠* +
Spams
≠≠+ 0
.
≠≠0 1
Include
≠≠1 8
(
≠≠8 9
$str
≠≠9 @
)
≠≠@ A
.
≠≠A B
Include
≠≠B I
(
≠≠I J
$str
≠≠J P
)
≠≠P Q
.
≠≠Q R
ToList
≠≠R X
(
≠≠X Y
)
≠≠Y Z
;
≠≠Z [
return
ÆÆ 
ListOfSpams
ÆÆ "
;
ÆÆ" #
}
∞∞ 
catch
±± 
(
±± 
	Exception
±± 
	exception
±± &
)
±±& '
{
≤≤ 
_logger
≥≥ 
.
≥≥ 
LogError
≥≥  
(
≥≥  !
HelperService
≥≥! .
.
≥≥. /
LoggerMessage
≥≥/ <
(
≥≥< =
$str
≥≥= N
,
≥≥N O
$str
≥≥P \
,
≥≥\ ]
	exception
≥≥^ g
)
≥≥g h
)
≥≥h i
;
≥≥i j
throw
¥¥ 
	exception
¥¥ 
;
¥¥  
}
µµ 
}
∂∂ 	
public
∫∫ 
bool
∫∫ 

UpdateSpam
∫∫ 
(
∫∫ 
int
∫∫ "
QueryId
∫∫# *
,
∫∫* +
int
∫∫, /
VerifyStatusID
∫∫0 >
)
∫∫> ?
{
ªª 	
if
ΩΩ 
(
ΩΩ 
QueryId
ΩΩ 
<=
ΩΩ 
$num
ΩΩ 
)
ΩΩ 
throw
ΩΩ #
new
ΩΩ$ '
ArgumentException
ΩΩ( 9
(
ΩΩ9 :
$"
ΩΩ: <
$str
ΩΩ< j
{
ΩΩj k
QueryId
ΩΩk r
}
ΩΩr s
"
ΩΩs t
)
ΩΩt u
;
ΩΩu v
if
ææ 
(
ææ 
VerifyStatusID
ææ 
<=
ææ !
$num
ææ" #
||
ææ$ &
VerifyStatusID
ææ' 5
>
ææ6 7
$num
ææ8 9
)
ææ9 :
throw
ææ; @
new
ææA D
ArgumentException
ææE V
(
ææV W
$"
ææW Y
$strææY ñ
{ææñ ó
VerifyStatusIDææó •
}ææ• ¶
"ææ¶ ß
)ææß ®
;ææ® ©
try
¿¿ 
{
¡¡ 
var
¬¬ 
ExistingSpam
¬¬ 
=
¬¬  
GetSpams
¬¬! )
(
¬¬) *
)
¬¬* +
.
¬¬+ ,
Where
¬¬, 1
(
¬¬1 2
item
¬¬2 6
=>
¬¬6 8
item
¬¬8 <
.
¬¬< =
QueryId
¬¬= D
==
¬¬D F
QueryId
¬¬F M
)
¬¬M N
.
¬¬N O
ToList
¬¬O U
(
¬¬U V
)
¬¬V W
;
¬¬W X
if
√√ 
(
√√ 
ExistingSpam
√√ 
==
√√ !
null
√√" &
)
√√& '
throw
√√( -
new
√√. 1#
ItemNotFoundException
√√2 G
(
√√G H
$"
√√H J
$str
√√J w
{
√√w x
QueryId
√√x 
}√√ Ä
"√√Ä Å
)√√Å Ç
;√√Ç É
ExistingSpam
ƒƒ 
.
ƒƒ 
ForEach
ƒƒ %
(
ƒƒ% &
Item
ƒƒ& *
=>
ƒƒ+ -
Item
ƒƒ- 1
.
ƒƒ1 2
VerifyStatusID
ƒƒ2 @
=
ƒƒ@ A
VerifyStatusID
ƒƒA O
)
ƒƒO P
;
ƒƒP Q
_context
≈≈ 
.
≈≈ 
Spams
≈≈ 
.
≈≈ 
UpdateRange
≈≈ *
(
≈≈* +
ExistingSpam
≈≈+ 7
)
≈≈7 8
;
≈≈8 9
_context
∆∆ 
.
∆∆ 
SaveChanges
∆∆ $
(
∆∆$ %
)
∆∆% &
;
∆∆& '
return
«« 
true
«« 
;
«« 
}
»» 
catch
…… 
(
…… 
	Exception
…… 
	exception
…… &
)
……& '
{
   
_logger
ÀÀ 
.
ÀÀ 
LogError
ÀÀ  
(
ÀÀ  !
HelperService
ÀÀ! .
.
ÀÀ. /
LoggerMessage
ÀÀ/ <
(
ÀÀ< =
$str
ÀÀ= N
,
ÀÀN O
$str
ÀÀP }
,
ÀÀ} ~
	exceptionÀÀ à
,ÀÀà â
VerifyStatusIDÀÀä ò
)ÀÀò ô
)ÀÀô ö
;ÀÀö õ
return
ÃÃ 
false
ÃÃ 
;
ÃÃ 
}
ŒŒ 
}
œœ 	
}
‘‘ 
}÷÷ ‚z
yC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\DataAccessLayer\Repository\UserRepository.cs
	namespace

 	
AspireOverflow


 
.

 
DataAccessLayer

 (
{ 
public 

class 
UserRepository 
:  !
IUserRepository" 1
{ 
private !
AspireOverflowContext %
_context& .
;. /
private 
ILogger 
< 
UserRepository &
>& '
_logger( /
;/ 0
public 
UserRepository 
( !
AspireOverflowContext 3
context4 ;
,; <
ILogger= D
<D E
UserRepositoryE S
>S T
loggerU [
)[ \
{ 	
_context 
= 
context 
; 
_logger 
= 
logger 
; 
} 	
public 
bool 

CreateUser 
( 
User #
user$ (
)( )
{ 	

Validation 
. 
ValidateUser #
(# $
user$ (
)( )
;) *
try 
{ 
var 
ExistingUsers !
=" #
_context$ ,
., -
Users- 2
.2 3
ToList3 9
(9 :
): ;
;; <
if   
(   
ExistingUsers   !
.  ! "
Any  " %
(  % &
Item  & *
=>  + -
Item  . 2
.  2 3
	AceNumber  3 <
==  = ?
user  @ D
.  D E
	AceNumber  E N
)  N O
)  O P
throw  Q V
new  W Z
ValidationException  [ n
(  n o
$str	  o ä
)
  ä ã
;
  ã å
if!! 
(!! 
ExistingUsers!! !
.!!! "
Any!!" %
(!!% &
Item!!& *
=>!!+ -
Item!!. 2
.!!2 3
EmailAddress!!3 ?
==!!@ B
user!!C G
.!!G H
EmailAddress!!H T
)!!T U
)!!U V
throw!!W \
new!!] `
ValidationException!!a t
(!!t u
$str	!!u ì
)
!!ì î
;
!!î ï
_context"" 
."" 
Users"" 
."" 
Add"" "
(""" #
user""# '
)""' (
;""( )
_context## 
.## 
SaveChanges## $
(##$ %
)##% &
;##& '
return$$ 
true$$ 
;$$ 
}%% 
catch&& 
(&& 
ValidationException&& &
	exception&&' 0
)&&0 1
{'' 
_logger(( 
.(( 
LogError((  
(((  !
HelperService((! .
.((. /
LoggerMessage((/ <
(((< =
$str((= M
,((M N
$str((O f
,((f g
	exception((h q
,((q r
user((s w
)((w x
)((x y
;((y z
throw)) 
	exception)) 
;))  
}** 
catch++ 
(++ 
	Exception++ 
	exception++ &
)++& '
{,, 
_logger-- 
.-- 
LogError--  
(--  !
HelperService--! .
.--. /
LoggerMessage--/ <
(--< =
$str--= M
,--M N
$str--O f
,--f g
	exception--h q
,--q r
user--s w
)--w x
)--x y
;--y z
return.. 
false.. 
;.. 
}00 
}22 	
public55 
bool55 

RemoveUser55 
(55 
int55 "
UserId55# )
)55) *
{66 	
if77 
(77 
UserId77 
<=77 
$num77 
)77 
throw77 "
new77# &
ArgumentException77' 8
(778 9
$"779 ;
$str77; g
{77g h
UserId77h n
}77n o
"77o p
)77p q
;77q r
try88 
{99 
var:: 
User_NotVerified:: $
=::% &
GetUserByID::' 2
(::2 3
UserId::3 9
)::9 :
;::: ;
if;; 
(;; 
User_NotVerified;; $
.;;$ %
VerifyStatusID;;% 3
==;;4 6
$num;;7 8
);;8 9
{<< 
_context== 
.== 
Users== "
.==" #
Remove==# )
(==) *
User_NotVerified==* :
)==: ;
;==; <
_context>> 
.>> 
SaveChanges>> (
(>>( )
)>>) *
;>>* +
}?? 
return@@ 
true@@ 
;@@ 
}AA 
catchBB 
(BB 
	ExceptionBB 
	exceptionBB &
)BB& '
{CC 
_loggerDD 
.DD 
LogErrorDD  
(DD  !
HelperServiceDD! .
.DD. /
LoggerMessageDD/ <
(DD< =
$strDD= M
,DDM N
$strDDO g
,DDg h
	exceptionDDi r
,DDr s
UserIdDDt z
)DDz {
)DD{ |
;DD| }
returnEE 
falseEE 
;EE 
}GG 
}II 	
publicJJ 
UserJJ 
GetUserByIDJJ 
(JJ  
intJJ  #
UserIdJJ$ *
)JJ* +
{KK 	
ifLL 
(LL 
UserIdLL 
<=LL 
$numLL 
)LL 
throwLL "
newLL# &
ArgumentExceptionLL' 8
(LL8 9
$"LL9 ;
$strLL; g
{LLg h
UserIdLLh n
}LLn o
"LLo p
)LLp q
;LLq r
UserMM 
?MM 
userMM 
;MM 
tryNN 
{OO 
userPP 
=PP 
GetUsersPP 
(PP  
)PP  !
.PP! "
ToListPP" (
(PP( )
)PP) *
.PP* +
FindPP+ /
(PP/ 0
UserPP0 4
=>PP5 7
UserPP8 <
.PP< =
UserIdPP= C
==PPD F
UserIdPPG M
)PPM N
;PPN O
returnQQ 
userQQ 
!=QQ 
nullQQ #
?QQ$ %
userQQ& *
:QQ+ ,
throwQQ- 2
newQQ3 6!
ItemNotFoundExceptionQQ7 L
(QQL M
$"QQM O
$strQQO {
{QQ{ |
UserId	QQ| Ç
}
QQÇ É
"
QQÉ Ñ
)
QQÑ Ö
;
QQÖ Ü
}RR 
catchSS 
(SS 
	ExceptionSS 
	exceptionSS &
)SS& '
{TT 
_loggerUU 
.UU 
LogErrorUU  
(UU  !
HelperServiceUU! .
.UU. /
LoggerMessageUU/ <
(UU< =
$strUU= M
,UUM N
$strUUO h
,UUh i
	exceptionUUj s
,UUs t
UserIdUUu {
)UU{ |
)UU| }
;UU} ~
throwVV 
	exceptionVV 
;VV  
}WW 
}XX 	
public[[ 
IEnumerable[[ 
<[[ 
User[[ 
>[[  
GetUsers[[! )
([[) *
)[[* +
{\\ 	
try]] 
{^^ 
return`` 
_context`` 
.``  
Users``  %
.``% &
Include``& -
(``- .
$str``. ;
)``; <
.``< =
Include``= D
(``D E
$str``E O
)``O P
.``P Q
Include``Q X
(``X Y
$str``Y a
)``a b
.``b c
Include``c j
(``j k
$str``k y
)``y z
.``z {
ToList	``{ Å
(
``Å Ç
)
``Ç É
;
``É Ñ
}aa 
catchbb 
(bb 
	Exceptionbb 
	exceptionbb &
)bb& '
{cc 
_loggerdd 
.dd 
LogErrordd  
(dd  !
HelperServicedd! .
.dd. /
LoggerMessagedd/ <
(dd< =
$strdd= M
,ddM N
$strddO [
,dd[ \
	exceptiondd] f
)ddf g
)ddg h
;ddh i
throwee 
	exceptionee 
;ee  
}ff 
}gg 	
publicii 
boolii $
UpdateUserByVerifyStatusii ,
(ii, -
intii- 0
UserIdii1 7
,ii7 8
intii9 <
VerifyStatusIDii= K
)iiK L
{jj 	
ifkk 
(kk 
UserIdkk 
<=kk 
$numkk 
)kk 
throwkk "
newkk# &
ArgumentExceptionkk' 8
(kk8 9
$"kk9 ;
$strkk; g
{kkg h
UserIdkkh n
}kkn o
"kko p
)kkp q
;kkq r
ifll 
(ll 
VerifyStatusIDll 
<=ll !
$numll" #
||ll$ &
VerifyStatusIDll' 5
>ll6 7
$numll8 9
)ll9 :
throwll; @
newllA D
ArgumentExceptionllE V
(llV W
$"llW Y
$str	llY ñ
{
llñ ó
VerifyStatusID
lló •
}
ll• ¶
"
ll¶ ß
)
llß ®
;
ll® ©
trymm 
{nn 
varoo 
ExistingUseroo  
=oo! "
GetUserByIDoo# .
(oo. /
UserIdoo/ 5
)oo5 6
;oo6 7
ExistingUserpp 
.pp 
VerifyStatusIDpp +
=pp, -
VerifyStatusIDpp. <
;pp< =
_contextqq 
.qq 
Usersqq 
.qq 
Updateqq %
(qq% &
ExistingUserqq& 2
)qq2 3
;qq3 4
_contextrr 
.rr 
SaveChangesrr $
(rr$ %
)rr% &
;rr& '
returnss 
truess 
;ss 
}tt 
catchuu 
(uu 
	Exceptionuu 
	exceptionuu &
)uu& '
{vv 
_loggerww 
.ww 
LogErrorww  
(ww  !
HelperServiceww! .
.ww. /
LoggerMessageww/ <
(ww< =
$strww= M
,wwM N
$str	wwO â
,
wwâ ä
	exception
wwã î
,
wwî ï
$"
wwñ ò
$str
wwò °
{
ww° ¢
UserId
ww¢ ®
}
ww® ©
$str
ww© ∫
{
ww∫ ª
VerifyStatusID
wwª …
}
ww…  
"
ww  À
)
wwÀ Ã
)
wwÃ Õ
;
wwÕ Œ
throwxx 
;xx 
}zz 
}|| 	
public~~ 
bool~~  
UpdateUserByReviewer~~ (
(~~( )
int~~) ,
UserId~~- 3
,~~3 4
bool~~5 9

IsReviewer~~: D
)~~D E
{ 	
if
ÄÄ 
(
ÄÄ 
UserId
ÄÄ 
<=
ÄÄ 
$num
ÄÄ 
)
ÄÄ 
throw
ÄÄ "
new
ÄÄ# &
ArgumentException
ÄÄ' 8
(
ÄÄ8 9
$"
ÄÄ9 ;
$str
ÄÄ; g
{
ÄÄg h
UserId
ÄÄh n
}
ÄÄn o
"
ÄÄo p
)
ÄÄp q
;
ÄÄq r
try
ÅÅ 
{
ÇÇ 
var
ÉÉ 
ExistingUser
ÉÉ  
=
ÉÉ! "
GetUserByID
ÉÉ# .
(
ÉÉ. /
UserId
ÉÉ/ 5
)
ÉÉ5 6
;
ÉÉ6 7
ExistingUser
ÑÑ 
.
ÑÑ 

IsReviewer
ÑÑ '
=
ÑÑ( )

IsReviewer
ÑÑ* 4
;
ÑÑ4 5
_context
ÖÖ 
.
ÖÖ 
Users
ÖÖ 
.
ÖÖ 
Update
ÖÖ %
(
ÖÖ% &
ExistingUser
ÖÖ& 2
)
ÖÖ2 3
;
ÖÖ3 4
_context
ÜÜ 
.
ÜÜ 
SaveChanges
ÜÜ $
(
ÜÜ$ %
)
ÜÜ% &
;
ÜÜ& '
return
áá 
true
áá 
;
áá 
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
	exception
ââ &
)
ââ& '
{
ää 
_logger
ãã 
.
ãã 
LogError
ãã  
(
ãã  !
HelperService
ãã! .
.
ãã. /
LoggerMessage
ãã/ <
(
ãã< =
$str
ãã= M
,
ããM N
$strããO Ç
,ããÇ É
	exceptionããÑ ç
,ããç é
$"ããè ë
$strããë ö
{ããö õ
UserIdããõ °
}ãã° ¢
$strãã¢ Ø
{ããØ ∞

IsReviewerãã∞ ∫
}ãã∫ ª
"ããª º
)ããº Ω
)ããΩ æ
;ããæ ø
throw
åå 
;
åå 
}
éé 
}
êê 	
public
íí 
IEnumerable
íí 
<
íí 
Gender
íí !
>
íí! "

GetGenders
íí# -
(
íí- .
)
íí. /
{
ìì 	
try
îî 
{
ïï 
return
óó 
_context
óó 
.
óó  
Genders
óó  '
.
óó' (
ToList
óó( .
(
óó. /
)
óó/ 0
;
óó0 1
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
	exception
ôô &
)
ôô& '
{
öö 
_logger
õõ 
.
õõ 
LogError
õõ  
(
õõ  !
HelperService
õõ! .
.
õõ. /
LoggerMessage
õõ/ <
(
õõ< =
$str
õõ= M
,
õõM N
$str
õõO ^
,
õõ^ _
	exception
õõ` i
)
õõi j
)
õõj k
;
õõk l
throw
úú 
	exception
úú 
;
úú  
}
ùù 
}
ûû 	
public
†† 
IEnumerable
†† 
<
†† 
Designation
†† &
>
††& '
GetDesignations
††( 7
(
††7 8
)
††8 9
{
°° 	
try
¢¢ 
{
££ 
return
•• 
_context
•• 
.
••  
Designations
••  ,
.
••, -
Include
••- 4
(
••4 5
$str
••5 A
)
••A B
.
••B C
ToList
••C I
(
••I J
)
••J K
;
••K L
}
¶¶ 
catch
ßß 
(
ßß 
	Exception
ßß 
	exception
ßß &
)
ßß& '
{
®® 
_logger
©© 
.
©© 
LogError
©©  
(
©©  !
HelperService
©©! .
.
©©. /
LoggerMessage
©©/ <
(
©©< =
$str
©©= M
,
©©M N
$str
©©O c
,
©©c d
	exception
©©e n
)
©©n o
)
©©o p
;
©©p q
throw
™™ 
	exception
™™ 
;
™™  
}
´´ 
}
¨¨ 	
public
ÆÆ 
IEnumerable
ÆÆ 
<
ÆÆ 

Department
ÆÆ %
>
ÆÆ% &
GetDepartments
ÆÆ' 5
(
ÆÆ5 6
)
ÆÆ6 7
{
ØØ 	
try
∞∞ 
{
±± 
return
≤≤ 
_context
≤≤ 
.
≤≤  
Departments
≤≤  +
.
≤≤+ ,
ToList
≤≤, 2
(
≤≤2 3
)
≤≤3 4
;
≤≤4 5
}
≥≥ 
catch
¥¥ 
(
¥¥ 
	Exception
¥¥ 
	exception
¥¥ &
)
¥¥& '
{
µµ 
_logger
∂∂ 
.
∂∂ 
LogError
∂∂  
(
∂∂  !
HelperService
∂∂! .
.
∂∂. /
LoggerMessage
∂∂/ <
(
∂∂< =
$str
∂∂= M
,
∂∂M N
$str
∂∂O b
,
∂∂b c
	exception
∂∂d m
)
∂∂m n
)
∂∂n o
;
∂∂o p
throw
∑∑ 
	exception
∑∑ 
;
∑∑  
}
∏∏ 
}
ππ 	
}
ºº 
}ΩΩ Ÿ≥
rC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Migrations\20220504145823_dbupdate.cs
	namespace 	
AspireOverflow
 
. 

Migrations #
{ 
public 

partial 
class 
dbupdate !
:" #
	Migration$ -
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str %
,% &
columns 
: 
table 
=> !
new" %
{ 
ArticleStatusID #
=$ %
table& +
.+ ,
Column, 2
<2 3
int3 6
>6 7
(7 8
type8 <
:< =
$str> C
,C D
nullableE M
:M N
falseO T
)T U
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Status 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 G
,G H
nullableI Q
:Q R
falseS X
)X Y
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 7
,7 8
x9 :
=>; =
x> ?
.? @
ArticleStatusID@ O
)O P
;P Q
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
DepartmentId  
=! "
table# (
.( )
Column) /
</ 0
int0 3
>3 4
(4 5
type5 9
:9 :
$str; @
,@ A
nullableB J
:J K
falseL Q
)Q R
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
DepartmentName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ N
,N O
	maxLengthP Y
:Y Z
$num[ ]
,] ^
nullable_ g
:g h
falsei n
)n o
}   
,   
constraints!! 
:!! 
table!! "
=>!!# %
{"" 
table## 
.## 

PrimaryKey## $
(##$ %
$str##% 5
,##5 6
x##7 8
=>##9 ;
x##< =
.##= >
DepartmentId##> J
)##J K
;##K L
}$$ 
)$$ 
;$$ 
migrationBuilder&& 
.&& 
CreateTable&& (
(&&( )
name'' 
:'' 
$str'' 
,'' 
columns(( 
:(( 
table(( 
=>(( !
new((" %
{)) 
GenderId** 
=** 
table** $
.**$ %
Column**% +
<**+ ,
int**, /
>**/ 0
(**0 1
type**1 5
:**5 6
$str**7 <
,**< =
nullable**> F
:**F G
false**H M
)**M N
,**N O
Name++ 
=++ 
table++  
.++  !
Column++! '
<++' (
string++( .
>++. /
(++/ 0
type++0 4
:++4 5
$str++6 D
,++D E
	maxLength++F O
:++O P
$num++Q S
,++S T
nullable++U ]
:++] ^
false++_ d
)++d e
},, 
,,, 
constraints-- 
:-- 
table-- "
=>--# %
{.. 
table// 
.// 

PrimaryKey// $
(//$ %
$str//% 0
,//0 1
x//2 3
=>//4 6
x//7 8
.//8 9
GenderId//9 A
)//A B
;//B C
}00 
)00 
;00 
migrationBuilder22 
.22 
CreateTable22 (
(22( )
name33 
:33 
$str33 !
,33! "
columns44 
:44 
table44 
=>44 !
new44" %
{55 

UserRoleId66 
=66  
table66! &
.66& '
Column66' -
<66- .
int66. 1
>661 2
(662 3
type663 7
:667 8
$str669 >
,66> ?
nullable66@ H
:66H I
false66J O
)66O P
,66P Q
RoleName77 
=77 
table77 $
.77$ %
Column77% +
<77+ ,
string77, 2
>772 3
(773 4
type774 8
:778 9
$str77: I
,77I J
nullable77K S
:77S T
false77U Z
)77Z [
}88 
,88 
constraints99 
:99 
table99 "
=>99# %
{:: 
table;; 
.;; 

PrimaryKey;; $
(;;$ %
$str;;% 3
,;;3 4
x;;5 6
=>;;7 9
x;;: ;
.;;; <

UserRoleId;;< F
);;F G
;;;G H
}<< 
)<< 
;<< 
migrationBuilder>> 
.>> 
CreateTable>> (
(>>( )
name?? 
:?? 
$str?? $
,??$ %
columns@@ 
:@@ 
table@@ 
=>@@ !
new@@" %
{AA 
VerifyStatusIDBB "
=BB# $
tableBB% *
.BB* +
ColumnBB+ 1
<BB1 2
intBB2 5
>BB5 6
(BB6 7
typeBB7 ;
:BB; <
$strBB= B
,BBB C
nullableBBD L
:BBL M
falseBBN S
)BBS T
,BBT U
NameCC 
=CC 
tableCC  
.CC  !
ColumnCC! '
<CC' (
stringCC( .
>CC. /
(CC/ 0
typeCC0 4
:CC4 5
$strCC6 E
,CCE F
nullableCCG O
:CCO P
falseCCQ V
)CCV W
}DD 
,DD 
constraintsEE 
:EE 
tableEE "
=>EE# %
{FF 
tableGG 
.GG 

PrimaryKeyGG $
(GG$ %
$strGG% 6
,GG6 7
xGG8 9
=>GG: <
xGG= >
.GG> ?
VerifyStatusIDGG? M
)GGM N
;GGN O
}HH 
)HH 
;HH 
migrationBuilderJJ 
.JJ 
CreateTableJJ (
(JJ( )
nameKK 
:KK 
$strKK $
,KK$ %
columnsLL 
:LL 
tableLL 
=>LL !
newLL" %
{MM 
DesignationIdNN !
=NN" #
tableNN$ )
.NN) *
ColumnNN* 0
<NN0 1
intNN1 4
>NN4 5
(NN5 6
typeNN6 :
:NN: ;
$strNN< A
,NNA B
nullableNNC K
:NNK L
falseNNM R
)NNR S
.OO 

AnnotationOO #
(OO# $
$strOO$ 8
,OO8 9
$strOO: @
)OO@ A
,OOA B
DesignationNamePP #
=PP$ %
tablePP& +
.PP+ ,
ColumnPP, 2
<PP2 3
stringPP3 9
>PP9 :
(PP: ;
typePP; ?
:PP? @
$strPPA O
,PPO P
	maxLengthPPQ Z
:PPZ [
$numPP\ ^
,PP^ _
nullablePP` h
:PPh i
falsePPj o
)PPo p
,PPp q
DepartmentIdQQ  
=QQ! "
tableQQ# (
.QQ( )
ColumnQQ) /
<QQ/ 0
intQQ0 3
>QQ3 4
(QQ4 5
typeQQ5 9
:QQ9 :
$strQQ; @
,QQ@ A
nullableQQB J
:QQJ K
falseQQL Q
)QQQ R
}RR 
,RR 
constraintsSS 
:SS 
tableSS "
=>SS# %
{TT 
tableUU 
.UU 

PrimaryKeyUU $
(UU$ %
$strUU% 6
,UU6 7
xUU8 9
=>UU: <
xUU= >
.UU> ?
DesignationIdUU? L
)UUL M
;UUM N
tableVV 
.VV 

ForeignKeyVV $
(VV$ %
nameWW 
:WW 
$strWW H
,WWH I
columnXX 
:XX 
xXX  !
=>XX" $
xXX% &
.XX& '
DepartmentIdXX' 3
,XX3 4
principalTableYY &
:YY& '
$strYY( 5
,YY5 6
principalColumnZZ '
:ZZ' (
$strZZ) 7
,ZZ7 8
onDelete[[  
:[[  !
ReferentialAction[[" 3
.[[3 4
NoAction[[4 <
)[[< =
;[[= >
}\\ 
)\\ 
;\\ 
migrationBuilder^^ 
.^^ 
CreateTable^^ (
(^^( )
name__ 
:__ 
$str__ 
,__ 
columns`` 
:`` 
table`` 
=>`` !
new``" %
{aa 
UserIdbb 
=bb 
tablebb "
.bb" #
Columnbb# )
<bb) *
intbb* -
>bb- .
(bb. /
typebb/ 3
:bb3 4
$strbb5 :
,bb: ;
nullablebb< D
:bbD E
falsebbF K
)bbK L
.cc 

Annotationcc #
(cc# $
$strcc$ 8
,cc8 9
$strcc: @
)cc@ A
,ccA B
FullNamedd 
=dd 
tabledd $
.dd$ %
Columndd% +
<dd+ ,
stringdd, 2
>dd2 3
(dd3 4
typedd4 8
:dd8 9
$strdd: H
,ddH I
	maxLengthddJ S
:ddS T
$numddU W
,ddW X
nullableddY a
:dda b
falseddc h
)ddh i
,ddi j
GenderIdee 
=ee 
tableee $
.ee$ %
Columnee% +
<ee+ ,
intee, /
>ee/ 0
(ee0 1
typeee1 5
:ee5 6
$stree7 <
,ee< =
nullableee> F
:eeF G
falseeeH M
)eeM N
,eeN O
	AceNumberff 
=ff 
tableff  %
.ff% &
Columnff& ,
<ff, -
stringff- 3
>ff3 4
(ff4 5
typeff5 9
:ff9 :
$strff; I
,ffI J
	maxLengthffK T
:ffT U
$numffV X
,ffX Y
nullableffZ b
:ffb c
falseffd i
)ffi j
,ffj k
EmailAddressgg  
=gg! "
tablegg# (
.gg( )
Columngg) /
<gg/ 0
stringgg0 6
>gg6 7
(gg7 8
typegg8 <
:gg< =
$strgg> M
,ggM N
nullableggO W
:ggW X
falseggY ^
)gg^ _
,gg_ `
Passwordhh 
=hh 
tablehh $
.hh$ %
Columnhh% +
<hh+ ,
stringhh, 2
>hh2 3
(hh3 4
typehh4 8
:hh8 9
$strhh: I
,hhI J
nullablehhK S
:hhS T
falsehhU Z
)hhZ [
,hh[ \
DateOfBirthii 
=ii  !
tableii" '
.ii' (
Columnii( .
<ii. /
DateTimeii/ 7
>ii7 8
(ii8 9
typeii9 =
:ii= >
$strii? J
,iiJ K
nullableiiL T
:iiT U
falseiiV [
)ii[ \
,ii\ ]
VerifyStatusIDjj "
=jj# $
tablejj% *
.jj* +
Columnjj+ 1
<jj1 2
intjj2 5
>jj5 6
(jj6 7
typejj7 ;
:jj; <
$strjj= B
,jjB C
nullablejjD L
:jjL M
falsejjN S
)jjS T
,jjT U

IsReviewerkk 
=kk  
tablekk! &
.kk& '
Columnkk' -
<kk- .
boolkk. 2
>kk2 3
(kk3 4
typekk4 8
:kk8 9
$strkk: ?
,kk? @
nullablekkA I
:kkI J
falsekkK P
)kkP Q
,kkQ R

UserRoleIdll 
=ll  
tablell! &
.ll& '
Columnll' -
<ll- .
intll. 1
>ll1 2
(ll2 3
typell3 7
:ll7 8
$strll9 >
,ll> ?
nullablell@ H
:llH I
falsellJ O
)llO P
,llP Q
DesignationIdmm !
=mm" #
tablemm$ )
.mm) *
Columnmm* 0
<mm0 1
intmm1 4
>mm4 5
(mm5 6
typemm6 :
:mm: ;
$strmm< A
,mmA B
nullablemmC K
:mmK L
falsemmM R
)mmR S
,mmS T
	CreatedOnnn 
=nn 
tablenn  %
.nn% &
Columnnn& ,
<nn, -
DateTimenn- 5
>nn5 6
(nn6 7
typenn7 ;
:nn; <
$strnn= H
,nnH I
nullablennJ R
:nnR S
falsennT Y
)nnY Z
,nnZ [
	UpdatedOnoo 
=oo 
tableoo  %
.oo% &
Columnoo& ,
<oo, -
DateTimeoo- 5
>oo5 6
(oo6 7
typeoo7 ;
:oo; <
$stroo= H
,ooH I
nullableooJ R
:ooR S
trueooT X
)ooX Y
,ooY Z
	UpdatedBypp 
=pp 
tablepp  %
.pp% &
Columnpp& ,
<pp, -
intpp- 0
>pp0 1
(pp1 2
typepp2 6
:pp6 7
$strpp8 =
,pp= >
nullablepp? G
:ppG H
trueppI M
)ppM N
}qq 
,qq 
constraintsrr 
:rr 
tablerr "
=>rr# %
{ss 
tablett 
.tt 

PrimaryKeytt $
(tt$ %
$strtt% /
,tt/ 0
xtt1 2
=>tt3 5
xtt6 7
.tt7 8
UserIdtt8 >
)tt> ?
;tt? @
tableuu 
.uu 

ForeignKeyuu $
(uu$ %
namevv 
:vv 
$strvv 2
,vv2 3
columnww 
:ww 
xww  !
=>ww" $
xww% &
.ww& '
DesignationIdww' 4
,ww4 5
principalTablexx &
:xx& '
$strxx( 6
,xx6 7
principalColumnyy '
:yy' (
$stryy) 8
)yy8 9
;yy9 :
tablezz 
.zz 

ForeignKeyzz $
(zz$ %
name{{ 
:{{ 
$str{{ .
,{{. /
column|| 
:|| 
x||  !
=>||" $
x||% &
.||& '
GenderId||' /
,||/ 0
principalTable}} &
:}}& '
$str}}( 0
,}}0 1
principalColumn~~ '
:~~' (
$str~~) 3
)~~3 4
;~~4 5
table 
. 

ForeignKey $
($ %
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ 0
,
ÄÄ0 1
column
ÅÅ 
:
ÅÅ 
x
ÅÅ  !
=>
ÅÅ" $
x
ÅÅ% &
.
ÅÅ& '

UserRoleId
ÅÅ' 1
,
ÅÅ1 2
principalTable
ÇÇ &
:
ÇÇ& '
$str
ÇÇ( 3
,
ÇÇ3 4
principalColumn
ÉÉ '
:
ÉÉ' (
$str
ÉÉ) 5
)
ÉÉ5 6
;
ÉÉ6 7
table
ÑÑ 
.
ÑÑ 

ForeignKey
ÑÑ $
(
ÑÑ$ %
name
ÖÖ 
:
ÖÖ 
$str
ÖÖ 4
,
ÖÖ4 5
column
ÜÜ 
:
ÜÜ 
x
ÜÜ  !
=>
ÜÜ" $
x
ÜÜ% &
.
ÜÜ& '
VerifyStatusID
ÜÜ' 5
,
ÜÜ5 6
principalTable
áá &
:
áá& '
$str
áá( 6
,
áá6 7
principalColumn
àà '
:
àà' (
$str
àà) 9
)
àà9 :
;
àà: ;
}
ââ 
)
ââ 
;
ââ 
migrationBuilder
ãã 
.
ãã 
CreateTable
ãã (
(
ãã( )
name
åå 
:
åå 
$str
åå  
,
åå  !
columns
çç 
:
çç 
table
çç 
=>
çç !
new
çç" %
{
éé 
ArtileId
èè 
=
èè 
table
èè $
.
èè$ %
Column
èè% +
<
èè+ ,
int
èè, /
>
èè/ 0
(
èè0 1
type
èè1 5
:
èè5 6
$str
èè7 <
,
èè< =
nullable
èè> F
:
èèF G
false
èèH M
)
èèM N
.
êê 

Annotation
êê #
(
êê# $
$str
êê$ 8
,
êê8 9
$str
êê: @
)
êê@ A
,
êêA B
Title
ëë 
=
ëë 
table
ëë !
.
ëë! "
Column
ëë" (
<
ëë( )
string
ëë) /
>
ëë/ 0
(
ëë0 1
type
ëë1 5
:
ëë5 6
$str
ëë7 F
,
ëëF G
nullable
ëëH P
:
ëëP Q
false
ëëR W
)
ëëW X
,
ëëX Y
Content
íí 
=
íí 
table
íí #
.
íí# $
Column
íí$ *
<
íí* +
string
íí+ 1
>
íí1 2
(
íí2 3
type
íí3 7
:
íí7 8
$str
íí9 H
,
ííH I
nullable
ííJ R
:
ííR S
false
ííT Y
)
ííY Z
,
ííZ [
Image
ìì 
=
ìì 
table
ìì !
.
ìì! "
Column
ìì" (
<
ìì( )
byte
ìì) -
[
ìì- .
]
ìì. /
>
ìì/ 0
(
ìì0 1
type
ìì1 5
:
ìì5 6
$str
ìì7 G
,
ììG H
nullable
ììI Q
:
ììQ R
false
ììS X
)
ììX Y
,
ììY Z
ArticleStatusID
îî #
=
îî$ %
table
îî& +
.
îî+ ,
Column
îî, 2
<
îî2 3
int
îî3 6
>
îî6 7
(
îî7 8
type
îî8 <
:
îî< =
$str
îî> C
,
îîC D
nullable
îîE M
:
îîM N
false
îîO T
)
îîT U
,
îîU V

ReviewerId
ïï 
=
ïï  
table
ïï! &
.
ïï& '
Column
ïï' -
<
ïï- .
int
ïï. 1
>
ïï1 2
(
ïï2 3
type
ïï3 7
:
ïï7 8
$str
ïï9 >
,
ïï> ?
nullable
ïï@ H
:
ïïH I
true
ïïJ N
)
ïïN O
,
ïïO P
Datetime
ññ 
=
ññ 
table
ññ $
.
ññ$ %
Column
ññ% +
<
ññ+ ,
DateTime
ññ, 4
>
ññ4 5
(
ññ5 6
type
ññ6 :
:
ññ: ;
$str
ññ< G
,
ññG H
nullable
ññI Q
:
ññQ R
false
ññS X
)
ññX Y
,
ññY Z
	CreatedBy
óó 
=
óó 
table
óó  %
.
óó% &
Column
óó& ,
<
óó, -
int
óó- 0
>
óó0 1
(
óó1 2
type
óó2 6
:
óó6 7
$str
óó8 =
,
óó= >
nullable
óó? G
:
óóG H
false
óóI N
)
óóN O
,
óóO P
	CreatedOn
òò 
=
òò 
table
òò  %
.
òò% &
Column
òò& ,
<
òò, -
DateTime
òò- 5
>
òò5 6
(
òò6 7
type
òò7 ;
:
òò; <
$str
òò= H
,
òòH I
nullable
òòJ R
:
òòR S
false
òòT Y
)
òòY Z
,
òòZ [
	UpdatedBy
ôô 
=
ôô 
table
ôô  %
.
ôô% &
Column
ôô& ,
<
ôô, -
int
ôô- 0
>
ôô0 1
(
ôô1 2
type
ôô2 6
:
ôô6 7
$str
ôô8 =
,
ôô= >
nullable
ôô? G
:
ôôG H
true
ôôI M
)
ôôM N
,
ôôN O
	UpdatedOn
öö 
=
öö 
table
öö  %
.
öö% &
Column
öö& ,
<
öö, -
DateTime
öö- 5
>
öö5 6
(
öö6 7
type
öö7 ;
:
öö; <
$str
öö= H
,
ööH I
nullable
ööJ R
:
ööR S
true
ööT X
)
ööX Y
}
õõ 
,
õõ 
constraints
úú 
:
úú 
table
úú "
=>
úú# %
{
ùù 
table
ûû 
.
ûû 

PrimaryKey
ûû $
(
ûû$ %
$str
ûû% 2
,
ûû2 3
x
ûû4 5
=>
ûû6 8
x
ûû9 :
.
ûû: ;
ArtileId
ûû; C
)
ûûC D
;
ûûD E
table
üü 
.
üü 

ForeignKey
üü $
(
üü$ %
name
†† 
:
†† 
$str
†† I
,
††I J
column
°° 
:
°° 
x
°°  !
=>
°°" $
x
°°% &
.
°°& '
ArticleStatusID
°°' 6
,
°°6 7
principalTable
¢¢ &
:
¢¢& '
$str
¢¢( 7
,
¢¢7 8
principalColumn
££ '
:
££' (
$str
££) :
,
££: ;
onDelete
§§  
:
§§  !
ReferentialAction
§§" 3
.
§§3 4
NoAction
§§4 <
)
§§< =
;
§§= >
table
•• 
.
•• 

ForeignKey
•• $
(
••$ %
name
¶¶ 
:
¶¶ 
$str
¶¶ ;
,
¶¶; <
column
ßß 
:
ßß 
x
ßß  !
=>
ßß" $
x
ßß% &
.
ßß& '
	CreatedBy
ßß' 0
,
ßß0 1
principalTable
®® &
:
®®& '
$str
®®( /
,
®®/ 0
principalColumn
©© '
:
©©' (
$str
©©) 1
,
©©1 2
onDelete
™™  
:
™™  !
ReferentialAction
™™" 3
.
™™3 4
NoAction
™™4 <
)
™™< =
;
™™= >
}
´´ 
)
´´ 
;
´´ 
migrationBuilder
≠≠ 
.
≠≠ 
CreateTable
≠≠ (
(
≠≠( )
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ 
,
ÆÆ  
columns
ØØ 
:
ØØ 
table
ØØ 
=>
ØØ !
new
ØØ" %
{
∞∞ 
QueryId
±± 
=
±± 
table
±± #
.
±±# $
Column
±±$ *
<
±±* +
int
±±+ .
>
±±. /
(
±±/ 0
type
±±0 4
:
±±4 5
$str
±±6 ;
,
±±; <
nullable
±±= E
:
±±E F
false
±±G L
)
±±L M
.
≤≤ 

Annotation
≤≤ #
(
≤≤# $
$str
≤≤$ 8
,
≤≤8 9
$str
≤≤: @
)
≤≤@ A
,
≤≤A B
Title
≥≥ 
=
≥≥ 
table
≥≥ !
.
≥≥! "
Column
≥≥" (
<
≥≥( )
string
≥≥) /
>
≥≥/ 0
(
≥≥0 1
type
≥≥1 5
:
≥≥5 6
$str
≥≥7 F
,
≥≥F G
nullable
≥≥H P
:
≥≥P Q
false
≥≥R W
)
≥≥W X
,
≥≥X Y
Content
¥¥ 
=
¥¥ 
table
¥¥ #
.
¥¥# $
Column
¥¥$ *
<
¥¥* +
string
¥¥+ 1
>
¥¥1 2
(
¥¥2 3
type
¥¥3 7
:
¥¥7 8
$str
¥¥9 H
,
¥¥H I
nullable
¥¥J R
:
¥¥R S
false
¥¥T Y
)
¥¥Y Z
,
¥¥Z [
code
µµ 
=
µµ 
table
µµ  
.
µµ  !
Column
µµ! '
<
µµ' (
string
µµ( .
>
µµ. /
(
µµ/ 0
type
µµ0 4
:
µµ4 5
$str
µµ6 E
,
µµE F
nullable
µµG O
:
µµO P
false
µµQ V
)
µµV W
,
µµW X
IsSolved
∂∂ 
=
∂∂ 
table
∂∂ $
.
∂∂$ %
Column
∂∂% +
<
∂∂+ ,
bool
∂∂, 0
>
∂∂0 1
(
∂∂1 2
type
∂∂2 6
:
∂∂6 7
$str
∂∂8 =
,
∂∂= >
nullable
∂∂? G
:
∂∂G H
false
∂∂I N
)
∂∂N O
,
∂∂O P
IsActive
∑∑ 
=
∑∑ 
table
∑∑ $
.
∑∑$ %
Column
∑∑% +
<
∑∑+ ,
bool
∑∑, 0
>
∑∑0 1
(
∑∑1 2
type
∑∑2 6
:
∑∑6 7
$str
∑∑8 =
,
∑∑= >
nullable
∑∑? G
:
∑∑G H
false
∑∑I N
)
∑∑N O
,
∑∑O P
	CreatedBy
∏∏ 
=
∏∏ 
table
∏∏  %
.
∏∏% &
Column
∏∏& ,
<
∏∏, -
int
∏∏- 0
>
∏∏0 1
(
∏∏1 2
type
∏∏2 6
:
∏∏6 7
$str
∏∏8 =
,
∏∏= >
nullable
∏∏? G
:
∏∏G H
false
∏∏I N
)
∏∏N O
,
∏∏O P
	CreatedOn
ππ 
=
ππ 
table
ππ  %
.
ππ% &
Column
ππ& ,
<
ππ, -
DateTime
ππ- 5
>
ππ5 6
(
ππ6 7
type
ππ7 ;
:
ππ; <
$str
ππ= H
,
ππH I
nullable
ππJ R
:
ππR S
false
ππT Y
)
ππY Z
,
ππZ [
	UpdatedBy
∫∫ 
=
∫∫ 
table
∫∫  %
.
∫∫% &
Column
∫∫& ,
<
∫∫, -
int
∫∫- 0
>
∫∫0 1
(
∫∫1 2
type
∫∫2 6
:
∫∫6 7
$str
∫∫8 =
,
∫∫= >
nullable
∫∫? G
:
∫∫G H
true
∫∫I M
)
∫∫M N
,
∫∫N O
	UpdatedOn
ªª 
=
ªª 
table
ªª  %
.
ªª% &
Column
ªª& ,
<
ªª, -
DateTime
ªª- 5
>
ªª5 6
(
ªª6 7
type
ªª7 ;
:
ªª; <
$str
ªª= H
,
ªªH I
nullable
ªªJ R
:
ªªR S
true
ªªT X
)
ªªX Y
}
ºº 
,
ºº 
constraints
ΩΩ 
:
ΩΩ 
table
ΩΩ "
=>
ΩΩ# %
{
ææ 
table
øø 
.
øø 

PrimaryKey
øø $
(
øø$ %
$str
øø% 1
,
øø1 2
x
øø3 4
=>
øø5 7
x
øø8 9
.
øø9 :
QueryId
øø: A
)
øøA B
;
øøB C
table
¿¿ 
.
¿¿ 

ForeignKey
¿¿ $
(
¿¿$ %
name
¡¡ 
:
¡¡ 
$str
¡¡ -
,
¡¡- .
column
¬¬ 
:
¬¬ 
x
¬¬  !
=>
¬¬" $
x
¬¬% &
.
¬¬& '
	CreatedBy
¬¬' 0
,
¬¬0 1
principalTable
√√ &
:
√√& '
$str
√√( /
,
√√/ 0
principalColumn
ƒƒ '
:
ƒƒ' (
$str
ƒƒ) 1
)
ƒƒ1 2
;
ƒƒ2 3
}
≈≈ 
)
≈≈ 
;
≈≈ 
migrationBuilder
«« 
.
«« 
CreateTable
«« (
(
««( )
name
»» 
:
»» 
$str
»» '
,
»»' (
columns
…… 
:
…… 
table
…… 
=>
…… !
new
……" %
{
   
ArticleCommentId
ÀÀ $
=
ÀÀ% &
table
ÀÀ' ,
.
ÀÀ, -
Column
ÀÀ- 3
<
ÀÀ3 4
int
ÀÀ4 7
>
ÀÀ7 8
(
ÀÀ8 9
type
ÀÀ9 =
:
ÀÀ= >
$str
ÀÀ? D
,
ÀÀD E
nullable
ÀÀF N
:
ÀÀN O
false
ÀÀP U
)
ÀÀU V
.
ÃÃ 

Annotation
ÃÃ #
(
ÃÃ# $
$str
ÃÃ$ 8
,
ÃÃ8 9
$str
ÃÃ: @
)
ÃÃ@ A
,
ÃÃA B
Comment
ÕÕ 
=
ÕÕ 
table
ÕÕ #
.
ÕÕ# $
Column
ÕÕ$ *
<
ÕÕ* +
string
ÕÕ+ 1
>
ÕÕ1 2
(
ÕÕ2 3
type
ÕÕ3 7
:
ÕÕ7 8
$str
ÕÕ9 H
,
ÕÕH I
nullable
ÕÕJ R
:
ÕÕR S
false
ÕÕT Y
)
ÕÕY Z
,
ÕÕZ [
Datetime
ŒŒ 
=
ŒŒ 
table
ŒŒ $
.
ŒŒ$ %
Column
ŒŒ% +
<
ŒŒ+ ,
DateTime
ŒŒ, 4
>
ŒŒ4 5
(
ŒŒ5 6
type
ŒŒ6 :
:
ŒŒ: ;
$str
ŒŒ< G
,
ŒŒG H
nullable
ŒŒI Q
:
ŒŒQ R
false
ŒŒS X
)
ŒŒX Y
,
ŒŒY Z
UserId
œœ 
=
œœ 
table
œœ "
.
œœ" #
Column
œœ# )
<
œœ) *
int
œœ* -
>
œœ- .
(
œœ. /
type
œœ/ 3
:
œœ3 4
$str
œœ5 :
,
œœ: ;
nullable
œœ< D
:
œœD E
false
œœF K
)
œœK L
,
œœL M
	CreatedBy
–– 
=
–– 
table
––  %
.
––% &
Column
––& ,
<
––, -
int
––- 0
>
––0 1
(
––1 2
type
––2 6
:
––6 7
$str
––8 =
,
––= >
nullable
––? G
:
––G H
false
––I N
)
––N O
,
––O P
	ArticleId
—— 
=
—— 
table
——  %
.
——% &
Column
——& ,
<
——, -
int
——- 0
>
——0 1
(
——1 2
type
——2 6
:
——6 7
$str
——8 =
,
——= >
nullable
——? G
:
——G H
false
——I N
)
——N O
,
——O P
	CreatedOn
““ 
=
““ 
table
““  %
.
““% &
Column
““& ,
<
““, -
DateTime
““- 5
>
““5 6
(
““6 7
type
““7 ;
:
““; <
$str
““= H
,
““H I
nullable
““J R
:
““R S
false
““T Y
)
““Y Z
,
““Z [
	UpdatedBy
”” 
=
”” 
table
””  %
.
””% &
Column
””& ,
<
””, -
int
””- 0
>
””0 1
(
””1 2
type
””2 6
:
””6 7
$str
””8 =
,
””= >
nullable
””? G
:
””G H
true
””I M
)
””M N
,
””N O
	UpdatedOn
‘‘ 
=
‘‘ 
table
‘‘  %
.
‘‘% &
Column
‘‘& ,
<
‘‘, -
DateTime
‘‘- 5
>
‘‘5 6
(
‘‘6 7
type
‘‘7 ;
:
‘‘; <
$str
‘‘= H
,
‘‘H I
nullable
‘‘J R
:
‘‘R S
true
‘‘T X
)
‘‘X Y
}
’’ 
,
’’ 
constraints
÷÷ 
:
÷÷ 
table
÷÷ "
=>
÷÷# %
{
◊◊ 
table
ÿÿ 
.
ÿÿ 

PrimaryKey
ÿÿ $
(
ÿÿ$ %
$str
ÿÿ% 9
,
ÿÿ9 :
x
ÿÿ; <
=>
ÿÿ= ?
x
ÿÿ@ A
.
ÿÿA B
ArticleCommentId
ÿÿB R
)
ÿÿR S
;
ÿÿS T
table
ŸŸ 
.
ŸŸ 

ForeignKey
ŸŸ $
(
ŸŸ$ %
name
⁄⁄ 
:
⁄⁄ 
$str
⁄⁄ E
,
⁄⁄E F
column
€€ 
:
€€ 
x
€€  !
=>
€€" $
x
€€% &
.
€€& '
	ArticleId
€€' 0
,
€€0 1
principalTable
‹‹ &
:
‹‹& '
$str
‹‹( 2
,
‹‹2 3
principalColumn
›› '
:
››' (
$str
››) 3
,
››3 4
onDelete
ﬁﬁ  
:
ﬁﬁ  !
ReferentialAction
ﬁﬁ" 3
.
ﬁﬁ3 4
NoAction
ﬁﬁ4 <
)
ﬁﬁ< =
;
ﬁﬁ= >
table
ﬂﬂ 
.
ﬂﬂ 

ForeignKey
ﬂﬂ $
(
ﬂﬂ$ %
name
‡‡ 
:
‡‡ 
$str
‡‡ ?
,
‡‡? @
column
·· 
:
·· 
x
··  !
=>
··" $
x
··% &
.
··& '
UserId
··' -
,
··- .
principalTable
‚‚ &
:
‚‚& '
$str
‚‚( /
,
‚‚/ 0
principalColumn
„„ '
:
„„' (
$str
„„) 1
,
„„1 2
onDelete
‰‰  
:
‰‰  !
ReferentialAction
‰‰" 3
.
‰‰3 4
NoAction
‰‰4 <
)
‰‰< =
;
‰‰= >
}
ÂÂ 
)
ÂÂ 
;
ÂÂ 
migrationBuilder
ÁÁ 
.
ÁÁ 
CreateTable
ÁÁ (
(
ÁÁ( )
name
ËË 
:
ËË 
$str
ËË $
,
ËË$ %
columns
ÈÈ 
:
ÈÈ 
table
ÈÈ 
=>
ÈÈ !
new
ÈÈ" %
{
ÍÍ 
LikeId
ÎÎ 
=
ÎÎ 
table
ÎÎ "
.
ÎÎ" #
Column
ÎÎ# )
<
ÎÎ) *
int
ÎÎ* -
>
ÎÎ- .
(
ÎÎ. /
type
ÎÎ/ 3
:
ÎÎ3 4
$str
ÎÎ5 :
,
ÎÎ: ;
nullable
ÎÎ< D
:
ÎÎD E
false
ÎÎF K
)
ÎÎK L
.
ÏÏ 

Annotation
ÏÏ #
(
ÏÏ# $
$str
ÏÏ$ 8
,
ÏÏ8 9
$str
ÏÏ: @
)
ÏÏ@ A
,
ÏÏA B
	ArticleId
ÌÌ 
=
ÌÌ 
table
ÌÌ  %
.
ÌÌ% &
Column
ÌÌ& ,
<
ÌÌ, -
int
ÌÌ- 0
>
ÌÌ0 1
(
ÌÌ1 2
type
ÌÌ2 6
:
ÌÌ6 7
$str
ÌÌ8 =
,
ÌÌ= >
nullable
ÌÌ? G
:
ÌÌG H
false
ÌÌI N
)
ÌÌN O
,
ÌÌO P
UserId
ÓÓ 
=
ÓÓ 
table
ÓÓ "
.
ÓÓ" #
Column
ÓÓ# )
<
ÓÓ) *
int
ÓÓ* -
>
ÓÓ- .
(
ÓÓ. /
type
ÓÓ/ 3
:
ÓÓ3 4
$str
ÓÓ5 :
,
ÓÓ: ;
nullable
ÓÓ< D
:
ÓÓD E
false
ÓÓF K
)
ÓÓK L
}
ÔÔ 
,
ÔÔ 
constraints
 
:
 
table
 "
=>
# %
{
ÒÒ 
table
ÚÚ 
.
ÚÚ 

PrimaryKey
ÚÚ $
(
ÚÚ$ %
$str
ÚÚ% 6
,
ÚÚ6 7
x
ÚÚ8 9
=>
ÚÚ: <
x
ÚÚ= >
.
ÚÚ> ?
LikeId
ÚÚ? E
)
ÚÚE F
;
ÚÚF G
table
ÛÛ 
.
ÛÛ 

ForeignKey
ÛÛ $
(
ÛÛ$ %
name
ÙÙ 
:
ÙÙ 
$str
ÙÙ B
,
ÙÙB C
column
ıı 
:
ıı 
x
ıı  !
=>
ıı" $
x
ıı% &
.
ıı& '
	ArticleId
ıı' 0
,
ıı0 1
principalTable
ˆˆ &
:
ˆˆ& '
$str
ˆˆ( 2
,
ˆˆ2 3
principalColumn
˜˜ '
:
˜˜' (
$str
˜˜) 3
,
˜˜3 4
onDelete
¯¯  
:
¯¯  !
ReferentialAction
¯¯" 3
.
¯¯3 4
NoAction
¯¯4 <
)
¯¯< =
;
¯¯= >
table
˘˘ 
.
˘˘ 

ForeignKey
˘˘ $
(
˘˘$ %
name
˙˙ 
:
˙˙ 
$str
˙˙ <
,
˙˙< =
column
˚˚ 
:
˚˚ 
x
˚˚  !
=>
˚˚" $
x
˚˚% &
.
˚˚& '
UserId
˚˚' -
,
˚˚- .
principalTable
¸¸ &
:
¸¸& '
$str
¸¸( /
,
¸¸/ 0
principalColumn
˝˝ '
:
˝˝' (
$str
˝˝) 1
,
˝˝1 2
onDelete
˛˛  
:
˛˛  !
ReferentialAction
˛˛" 3
.
˛˛3 4
NoAction
˛˛4 <
)
˛˛< =
;
˛˛= >
}
ˇˇ 
)
ˇˇ 
;
ˇˇ 
migrationBuilder
ÅÅ 
.
ÅÅ 
CreateTable
ÅÅ (
(
ÅÅ( )
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ %
,
ÇÇ% &
columns
ÉÉ 
:
ÉÉ 
table
ÉÉ 
=>
ÉÉ !
new
ÉÉ" %
{
ÑÑ 
QueryCommentId
ÖÖ "
=
ÖÖ# $
table
ÖÖ% *
.
ÖÖ* +
Column
ÖÖ+ 1
<
ÖÖ1 2
int
ÖÖ2 5
>
ÖÖ5 6
(
ÖÖ6 7
type
ÖÖ7 ;
:
ÖÖ; <
$str
ÖÖ= B
,
ÖÖB C
nullable
ÖÖD L
:
ÖÖL M
false
ÖÖN S
)
ÖÖS T
.
ÜÜ 

Annotation
ÜÜ #
(
ÜÜ# $
$str
ÜÜ$ 8
,
ÜÜ8 9
$str
ÜÜ: @
)
ÜÜ@ A
,
ÜÜA B
Comment
áá 
=
áá 
table
áá #
.
áá# $
Column
áá$ *
<
áá* +
string
áá+ 1
>
áá1 2
(
áá2 3
type
áá3 7
:
áá7 8
$str
áá9 H
,
ááH I
nullable
ááJ R
:
ááR S
false
ááT Y
)
ááY Z
,
ááZ [
Datetime
àà 
=
àà 
table
àà $
.
àà$ %
Column
àà% +
<
àà+ ,
DateTime
àà, 4
>
àà4 5
(
àà5 6
type
àà6 :
:
àà: ;
$str
àà< G
,
ààG H
nullable
ààI Q
:
ààQ R
false
ààS X
)
ààX Y
,
ààY Z
QueryId
ââ 
=
ââ 
table
ââ #
.
ââ# $
Column
ââ$ *
<
ââ* +
int
ââ+ .
>
ââ. /
(
ââ/ 0
type
ââ0 4
:
ââ4 5
$str
ââ6 ;
,
ââ; <
nullable
ââ= E
:
ââE F
false
ââG L
)
ââL M
,
ââM N
	CreatedBy
ää 
=
ää 
table
ää  %
.
ää% &
Column
ää& ,
<
ää, -
int
ää- 0
>
ää0 1
(
ää1 2
type
ää2 6
:
ää6 7
$str
ää8 =
,
ää= >
nullable
ää? G
:
ääG H
false
ääI N
)
ääN O
,
ääO P
	CreatedOn
ãã 
=
ãã 
table
ãã  %
.
ãã% &
Column
ãã& ,
<
ãã, -
DateTime
ãã- 5
>
ãã5 6
(
ãã6 7
type
ãã7 ;
:
ãã; <
$str
ãã= H
,
ããH I
nullable
ããJ R
:
ããR S
false
ããT Y
)
ããY Z
,
ããZ [
	UpdatedBy
åå 
=
åå 
table
åå  %
.
åå% &
Column
åå& ,
<
åå, -
int
åå- 0
>
åå0 1
(
åå1 2
type
åå2 6
:
åå6 7
$str
åå8 =
,
åå= >
nullable
åå? G
:
ååG H
true
ååI M
)
ååM N
,
ååN O
	UpdatedOn
çç 
=
çç 
table
çç  %
.
çç% &
Column
çç& ,
<
çç, -
DateTime
çç- 5
>
çç5 6
(
çç6 7
type
çç7 ;
:
çç; <
$str
çç= H
,
ççH I
nullable
ççJ R
:
ççR S
true
ççT X
)
ççX Y
}
éé 
,
éé 
constraints
èè 
:
èè 
table
èè "
=>
èè# %
{
êê 
table
ëë 
.
ëë 

PrimaryKey
ëë $
(
ëë$ %
$str
ëë% 7
,
ëë7 8
x
ëë9 :
=>
ëë; =
x
ëë> ?
.
ëë? @
QueryCommentId
ëë@ N
)
ëëN O
;
ëëO P
table
íí 
.
íí 

ForeignKey
íí $
(
íí$ %
name
ìì 
:
ìì 
$str
ìì 5
,
ìì5 6
column
îî 
:
îî 
x
îî  !
=>
îî" $
x
îî% &
.
îî& '
QueryId
îî' .
,
îî. /
principalTable
ïï &
:
ïï& '
$str
ïï( 1
,
ïï1 2
principalColumn
ññ '
:
ññ' (
$str
ññ) 2
)
ññ2 3
;
ññ3 4
table
óó 
.
óó 

ForeignKey
óó $
(
óó$ %
name
òò 
:
òò 
$str
òò 4
,
òò4 5
column
ôô 
:
ôô 
x
ôô  !
=>
ôô" $
x
ôô% &
.
ôô& '
	CreatedBy
ôô' 0
,
ôô0 1
principalTable
öö &
:
öö& '
$str
öö( /
,
öö/ 0
principalColumn
õõ '
:
õõ' (
$str
õõ) 1
)
õõ1 2
;
õõ2 3
}
úú 
)
úú 
;
úú 
migrationBuilder
ûû 
.
ûû 
CreateTable
ûû (
(
ûû( )
name
üü 
:
üü 
$str
üü 
,
üü 
columns
†† 
:
†† 
table
†† 
=>
†† !
new
††" %
{
°° 
SpamId
¢¢ 
=
¢¢ 
table
¢¢ "
.
¢¢" #
Column
¢¢# )
<
¢¢) *
int
¢¢* -
>
¢¢- .
(
¢¢. /
type
¢¢/ 3
:
¢¢3 4
$str
¢¢5 :
,
¢¢: ;
nullable
¢¢< D
:
¢¢D E
false
¢¢F K
)
¢¢K L
.
££ 

Annotation
££ #
(
££# $
$str
££$ 8
,
££8 9
$str
££: @
)
££@ A
,
££A B
QueryId
§§ 
=
§§ 
table
§§ #
.
§§# $
Column
§§$ *
<
§§* +
int
§§+ .
>
§§. /
(
§§/ 0
type
§§0 4
:
§§4 5
$str
§§6 ;
,
§§; <
nullable
§§= E
:
§§E F
false
§§G L
)
§§L M
,
§§M N
UserId
•• 
=
•• 
table
•• "
.
••" #
Column
••# )
<
••) *
int
••* -
>
••- .
(
••. /
type
••/ 3
:
••3 4
$str
••5 :
,
••: ;
nullable
••< D
:
••D E
false
••F K
)
••K L
,
••L M
VerifyStatusID
¶¶ "
=
¶¶# $
table
¶¶% *
.
¶¶* +
Column
¶¶+ 1
<
¶¶1 2
int
¶¶2 5
>
¶¶5 6
(
¶¶6 7
type
¶¶7 ;
:
¶¶; <
$str
¶¶= B
,
¶¶B C
nullable
¶¶D L
:
¶¶L M
false
¶¶N S
)
¶¶S T
}
ßß 
,
ßß 
constraints
®® 
:
®® 
table
®® "
=>
®®# %
{
©© 
table
™™ 
.
™™ 

PrimaryKey
™™ $
(
™™$ %
$str
™™% /
,
™™/ 0
x
™™1 2
=>
™™3 5
x
™™6 7
.
™™7 8
SpamId
™™8 >
)
™™> ?
;
™™? @
table
´´ 
.
´´ 

ForeignKey
´´ $
(
´´$ %
name
¨¨ 
:
¨¨ 
$str
¨¨ 8
,
¨¨8 9
column
≠≠ 
:
≠≠ 
x
≠≠  !
=>
≠≠" $
x
≠≠% &
.
≠≠& '
QueryId
≠≠' .
,
≠≠. /
principalTable
ÆÆ &
:
ÆÆ& '
$str
ÆÆ( 1
,
ÆÆ1 2
principalColumn
ØØ '
:
ØØ' (
$str
ØØ) 2
,
ØØ2 3
onDelete
∞∞  
:
∞∞  !
ReferentialAction
∞∞" 3
.
∞∞3 4
NoAction
∞∞4 <
)
∞∞< =
;
∞∞= >
table
±± 
.
±± 

ForeignKey
±± $
(
±±$ %
name
≤≤ 
:
≤≤ 
$str
≤≤ 5
,
≤≤5 6
column
≥≥ 
:
≥≥ 
x
≥≥  !
=>
≥≥" $
x
≥≥% &
.
≥≥& '
UserId
≥≥' -
,
≥≥- .
principalTable
¥¥ &
:
¥¥& '
$str
¥¥( /
,
¥¥/ 0
principalColumn
µµ '
:
µµ' (
$str
µµ) 1
,
µµ1 2
onDelete
∂∂  
:
∂∂  !
ReferentialAction
∂∂" 3
.
∂∂3 4
NoAction
∂∂4 <
)
∂∂< =
;
∂∂= >
table
∑∑ 
.
∑∑ 

ForeignKey
∑∑ $
(
∑∑$ %
name
∏∏ 
:
∏∏ 
$str
∏∏ D
,
∏∏D E
column
ππ 
:
ππ 
x
ππ  !
=>
ππ" $
x
ππ% &
.
ππ& '
VerifyStatusID
ππ' 5
,
ππ5 6
principalTable
∫∫ &
:
∫∫& '
$str
∫∫( 6
,
∫∫6 7
principalColumn
ªª '
:
ªª' (
$str
ªª) 9
,
ªª9 :
onDelete
ºº  
:
ºº  !
ReferentialAction
ºº" 3
.
ºº3 4
NoAction
ºº4 <
)
ºº< =
;
ºº= >
}
ΩΩ 
)
ΩΩ 
;
ΩΩ 
migrationBuilder
øø 
.
øø 

InsertData
øø '
(
øø' (
table
¿¿ 
:
¿¿ 
$str
¿¿ &
,
¿¿& '
columns
¡¡ 
:
¡¡ 
new
¡¡ 
[
¡¡ 
]
¡¡ 
{
¡¡  
$str
¡¡! 2
,
¡¡2 3
$str
¡¡4 <
}
¡¡= >
,
¡¡> ?
values
¬¬ 
:
¬¬ 
new
¬¬ 
object
¬¬ "
[
¬¬" #
,
¬¬# $
]
¬¬$ %
{
√√ 
{
ƒƒ 
$num
ƒƒ 
,
ƒƒ 
$str
ƒƒ "
}
ƒƒ# $
,
ƒƒ$ %
{
≈≈ 
$num
≈≈ 
,
≈≈ 
$str
≈≈ '
}
≈≈( )
,
≈≈) *
{
∆∆ 
$num
∆∆ 
,
∆∆ 
$str
∆∆ &
}
∆∆' (
,
∆∆( )
{
«« 
$num
«« 
,
«« 
$str
«« $
}
««% &
}
»» 
)
»» 
;
»» 
migrationBuilder
   
.
   

InsertData
   '
(
  ' (
table
ÀÀ 
:
ÀÀ 
$str
ÀÀ 
,
ÀÀ  
columns
ÃÃ 
:
ÃÃ 
new
ÃÃ 
[
ÃÃ 
]
ÃÃ 
{
ÃÃ  
$str
ÃÃ! +
,
ÃÃ+ ,
$str
ÃÃ- 3
}
ÃÃ4 5
,
ÃÃ5 6
values
ÕÕ 
:
ÕÕ 
new
ÕÕ 
object
ÕÕ "
[
ÕÕ" #
,
ÕÕ# $
]
ÕÕ$ %
{
ŒŒ 
{
œœ 
$num
œœ 
,
œœ 
$str
œœ 
}
œœ  !
,
œœ! "
{
–– 
$num
–– 
,
–– 
$str
–– !
}
––" #
}
—— 
)
—— 
;
—— 
migrationBuilder
”” 
.
”” 

InsertData
”” '
(
””' (
table
‘‘ 
:
‘‘ 
$str
‘‘ "
,
‘‘" #
columns
’’ 
:
’’ 
new
’’ 
[
’’ 
]
’’ 
{
’’  
$str
’’! -
,
’’- .
$str
’’/ 9
}
’’: ;
,
’’; <
values
÷÷ 
:
÷÷ 
new
÷÷ 
object
÷÷ "
[
÷÷" #
,
÷÷# $
]
÷÷$ %
{
◊◊ 
{
ÿÿ 
$num
ÿÿ 
,
ÿÿ 
$str
ÿÿ  
}
ÿÿ! "
,
ÿÿ" #
{
ŸŸ 
$num
ŸŸ 
,
ŸŸ 
$str
ŸŸ 
}
ŸŸ  !
}
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
migrationBuilder
‹‹ 
.
‹‹ 

InsertData
‹‹ '
(
‹‹' (
table
›› 
:
›› 
$str
›› %
,
››% &
columns
ﬁﬁ 
:
ﬁﬁ 
new
ﬁﬁ 
[
ﬁﬁ 
]
ﬁﬁ 
{
ﬁﬁ  
$str
ﬁﬁ! 1
,
ﬁﬁ1 2
$str
ﬁﬁ3 9
}
ﬁﬁ: ;
,
ﬁﬁ; <
values
ﬂﬂ 
:
ﬂﬂ 
new
ﬂﬂ 
object
ﬂﬂ "
[
ﬂﬂ" #
,
ﬂﬂ# $
]
ﬂﬂ$ %
{
‡‡ 
{
·· 
$num
·· 
,
·· 
$str
·· #
}
··$ %
,
··% &
{
‚‚ 
$num
‚‚ 
,
‚‚ 
$str
‚‚ #
}
‚‚$ %
,
‚‚% &
{
„„ 
$num
„„ 
,
„„ 
$str
„„ &
}
„„' (
}
‰‰ 
)
‰‰ 
;
‰‰ 
migrationBuilder
ÊÊ 
.
ÊÊ 
CreateIndex
ÊÊ (
(
ÊÊ( )
name
ÁÁ 
:
ÁÁ 
$str
ÁÁ 4
,
ÁÁ4 5
table
ËË 
:
ËË 
$str
ËË (
,
ËË( )
column
ÈÈ 
:
ÈÈ 
$str
ÈÈ #
)
ÈÈ# $
;
ÈÈ$ %
migrationBuilder
ÎÎ 
.
ÎÎ 
CreateIndex
ÎÎ (
(
ÎÎ( )
name
ÏÏ 
:
ÏÏ 
$str
ÏÏ 1
,
ÏÏ1 2
table
ÌÌ 
:
ÌÌ 
$str
ÌÌ (
,
ÌÌ( )
column
ÓÓ 
:
ÓÓ 
$str
ÓÓ  
)
ÓÓ  !
;
ÓÓ! "
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
ÒÒ 
:
ÒÒ 
$str
ÒÒ 1
,
ÒÒ1 2
table
ÚÚ 
:
ÚÚ 
$str
ÚÚ %
,
ÚÚ% &
column
ÛÛ 
:
ÛÛ 
$str
ÛÛ #
)
ÛÛ# $
;
ÛÛ$ %
migrationBuilder
ıı 
.
ıı 
CreateIndex
ıı (
(
ıı( )
name
ˆˆ 
:
ˆˆ 
$str
ˆˆ .
,
ˆˆ. /
table
˜˜ 
:
˜˜ 
$str
˜˜ %
,
˜˜% &
column
¯¯ 
:
¯¯ 
$str
¯¯  
)
¯¯  !
;
¯¯! "
migrationBuilder
˙˙ 
.
˙˙ 
CreateIndex
˙˙ (
(
˙˙( )
name
˚˚ 
:
˚˚ 
$str
˚˚ 3
,
˚˚3 4
table
¸¸ 
:
¸¸ 
$str
¸¸ !
,
¸¸! "
column
˝˝ 
:
˝˝ 
$str
˝˝ )
)
˝˝) *
;
˝˝* +
migrationBuilder
ˇˇ 
.
ˇˇ 
CreateIndex
ˇˇ (
(
ˇˇ( )
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ -
,
ÄÄ- .
table
ÅÅ 
:
ÅÅ 
$str
ÅÅ !
,
ÅÅ! "
column
ÇÇ 
:
ÇÇ 
$str
ÇÇ #
)
ÇÇ# $
;
ÇÇ$ %
migrationBuilder
ÑÑ 
.
ÑÑ 
CreateIndex
ÑÑ (
(
ÑÑ( )
name
ÖÖ 
:
ÖÖ 
$str
ÖÖ 4
,
ÖÖ4 5
table
ÜÜ 
:
ÜÜ 
$str
ÜÜ %
,
ÜÜ% &
column
áá 
:
áá 
$str
áá &
)
áá& '
;
áá' (
migrationBuilder
ââ 
.
ââ 
CreateIndex
ââ (
(
ââ( )
name
ää 
:
ää 
$str
ää ,
,
ää, -
table
ãã 
:
ãã 
$str
ãã  
,
ãã  !
column
åå 
:
åå 
$str
åå #
)
åå# $
;
åå$ %
migrationBuilder
éé 
.
éé 
CreateIndex
éé (
(
éé( )
name
èè 
:
èè 
$str
èè 2
,
èè2 3
table
êê 
:
êê 
$str
êê &
,
êê& '
column
ëë 
:
ëë 
$str
ëë #
)
ëë# $
;
ëë$ %
migrationBuilder
ìì 
.
ìì 
CreateIndex
ìì (
(
ìì( )
name
îî 
:
îî 
$str
îî 0
,
îî0 1
table
ïï 
:
ïï 
$str
ïï &
,
ïï& '
column
ññ 
:
ññ 
$str
ññ !
)
ññ! "
;
ññ" #
migrationBuilder
òò 
.
òò 
CreateIndex
òò (
(
òò( )
name
ôô 
:
ôô 
$str
ôô (
,
ôô( )
table
öö 
:
öö 
$str
öö 
,
öö 
column
õõ 
:
õõ 
$str
õõ !
)
õõ! "
;
õõ" #
migrationBuilder
ùù 
.
ùù 
CreateIndex
ùù (
(
ùù( )
name
ûû 
:
ûû 
$str
ûû '
,
ûû' (
table
üü 
:
üü 
$str
üü 
,
üü 
column
†† 
:
†† 
$str
††  
)
††  !
;
††! "
migrationBuilder
¢¢ 
.
¢¢ 
CreateIndex
¢¢ (
(
¢¢( )
name
££ 
:
££ 
$str
££ /
,
££/ 0
table
§§ 
:
§§ 
$str
§§ 
,
§§ 
column
•• 
:
•• 
$str
•• (
)
••( )
;
••) *
migrationBuilder
ßß 
.
ßß 
CreateIndex
ßß (
(
ßß( )
name
®® 
:
®® 
$str
®® .
,
®®. /
table
©© 
:
©© 
$str
©© 
,
©© 
column
™™ 
:
™™ 
$str
™™ '
)
™™' (
;
™™( )
migrationBuilder
¨¨ 
.
¨¨ 
CreateIndex
¨¨ (
(
¨¨( )
name
≠≠ 
:
≠≠ 
$str
≠≠ )
,
≠≠) *
table
ÆÆ 
:
ÆÆ 
$str
ÆÆ 
,
ÆÆ 
column
ØØ 
:
ØØ 
$str
ØØ "
)
ØØ" #
;
ØØ# $
migrationBuilder
±± 
.
±± 
CreateIndex
±± (
(
±±( )
name
≤≤ 
:
≤≤ 
$str
≤≤ +
,
≤≤+ ,
table
≥≥ 
:
≥≥ 
$str
≥≥ 
,
≥≥ 
column
¥¥ 
:
¥¥ 
$str
¥¥ $
)
¥¥$ %
;
¥¥% &
migrationBuilder
∂∂ 
.
∂∂ 
CreateIndex
∂∂ (
(
∂∂( )
name
∑∑ 
:
∑∑ 
$str
∑∑ /
,
∑∑/ 0
table
∏∏ 
:
∏∏ 
$str
∏∏ 
,
∏∏ 
column
ππ 
:
ππ 
$str
ππ (
)
ππ( )
;
ππ) *
}
∫∫ 	
	protected
ºº 
override
ºº 
void
ºº 
Down
ºº  $
(
ºº$ %
MigrationBuilder
ºº% 5
migrationBuilder
ºº6 F
)
ººF G
{
ΩΩ 	
migrationBuilder
ææ 
.
ææ 
	DropTable
ææ &
(
ææ& '
name
øø 
:
øø 
$str
øø '
)
øø' (
;
øø( )
migrationBuilder
¡¡ 
.
¡¡ 
	DropTable
¡¡ &
(
¡¡& '
name
¬¬ 
:
¬¬ 
$str
¬¬ $
)
¬¬$ %
;
¬¬% &
migrationBuilder
ƒƒ 
.
ƒƒ 
	DropTable
ƒƒ &
(
ƒƒ& '
name
≈≈ 
:
≈≈ 
$str
≈≈ %
)
≈≈% &
;
≈≈& '
migrationBuilder
«« 
.
«« 
	DropTable
«« &
(
««& '
name
»» 
:
»» 
$str
»» 
)
»» 
;
»» 
migrationBuilder
   
.
   
	DropTable
   &
(
  & '
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ  
)
ÀÀ  !
;
ÀÀ! "
migrationBuilder
ÕÕ 
.
ÕÕ 
	DropTable
ÕÕ &
(
ÕÕ& '
name
ŒŒ 
:
ŒŒ 
$str
ŒŒ 
)
ŒŒ  
;
ŒŒ  !
migrationBuilder
–– 
.
–– 
	DropTable
–– &
(
––& '
name
—— 
:
—— 
$str
—— %
)
——% &
;
——& '
migrationBuilder
”” 
.
”” 
	DropTable
”” &
(
””& '
name
‘‘ 
:
‘‘ 
$str
‘‘ 
)
‘‘ 
;
‘‘ 
migrationBuilder
÷÷ 
.
÷÷ 
	DropTable
÷÷ &
(
÷÷& '
name
◊◊ 
:
◊◊ 
$str
◊◊ $
)
◊◊$ %
;
◊◊% &
migrationBuilder
ŸŸ 
.
ŸŸ 
	DropTable
ŸŸ &
(
ŸŸ& '
name
⁄⁄ 
:
⁄⁄ 
$str
⁄⁄ 
)
⁄⁄ 
;
⁄⁄  
migrationBuilder
‹‹ 
.
‹‹ 
	DropTable
‹‹ &
(
‹‹& '
name
›› 
:
›› 
$str
›› !
)
››! "
;
››" #
migrationBuilder
ﬂﬂ 
.
ﬂﬂ 
	DropTable
ﬂﬂ &
(
ﬂﬂ& '
name
‡‡ 
:
‡‡ 
$str
‡‡ $
)
‡‡$ %
;
‡‡% &
migrationBuilder
‚‚ 
.
‚‚ 
	DropTable
‚‚ &
(
‚‚& '
name
„„ 
:
„„ 
$str
„„ #
)
„„# $
;
„„$ %
}
‰‰ 	
}
ÂÂ 
}ÊÊ ¨j
sC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Migrations\20220509023705_DbUpdate2.cs
	namespace 	
AspireOverflow
 
. 

Migrations #
{ 
public 

partial 
class 
	DbUpdate2 "
:# $
	Migration% .
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str %
,% &
table 
: 
$str  
)  !
;! "
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str -
,- .
table 
: 
$str &
)& '
;' (
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str ,
,, -
table 
: 
$str &
)& '
;' (
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str *
,* +
table 
: 
$str 
) 
;  
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str &
,& '
table 
: 
$str 
) 
;  
migrationBuilder 
. 
DropForeignKey +
(+ ,
name   
:   
$str   (
,  ( )
table!! 
:!! 
$str!! 
)!! 
;!!  
migrationBuilder## 
.## 
DropForeignKey## +
(##+ ,
name$$ 
:$$ 
$str$$ ,
,$$, -
table%% 
:%% 
$str%% 
)%% 
;%%  
migrationBuilder'' 
.'' 

UpdateData'' '
(''' (
table(( 
:(( 
$str(( &
,((& '
	keyColumn)) 
:)) 
$str)) ,
,)), -
keyValue** 
:** 
$num** 
,** 
column++ 
:++ 
$str++  
,++  !
value,, 
:,, 
$str,, '
),,' (
;,,( )
migrationBuilder.. 
... 

UpdateData.. '
(..' (
table// 
:// 
$str// &
,//& '
	keyColumn00 
:00 
$str00 ,
,00, -
keyValue11 
:11 
$num11 
,11 
column22 
:22 
$str22  
,22  !
value33 
:33 
$str33 %
)33% &
;33& '
migrationBuilder55 
.55 
AddForeignKey55 *
(55* +
name66 
:66 
$str66 2
,662 3
table77 
:77 
$str77  
,77  !
column88 
:88 
$str88 #
,88# $
principalTable99 
:99 
$str99  '
,99' (
principalColumn:: 
:::  
$str::! )
,::) *
onDelete;; 
:;; 
ReferentialAction;; +
.;;+ ,
NoAction;;, 4
);;4 5
;;;5 6
migrationBuilder== 
.== 
AddForeignKey== *
(==* +
name>> 
:>> 
$str>> 8
,>>8 9
table?? 
:?? 
$str?? &
,??& '
column@@ 
:@@ 
$str@@ !
,@@! "
principalTableAA 
:AA 
$strAA  )
,AA) *
principalColumnBB 
:BB  
$strBB! *
,BB* +
onDeleteCC 
:CC 
ReferentialActionCC +
.CC+ ,
NoActionCC, 4
)CC4 5
;CC5 6
migrationBuilderEE 
.EE 
AddForeignKeyEE *
(EE* +
nameFF 
:FF 
$strFF 8
,FF8 9
tableGG 
:GG 
$strGG &
,GG& '
columnHH 
:HH 
$strHH #
,HH# $
principalTableII 
:II 
$strII  '
,II' (
principalColumnJJ 
:JJ  
$strJJ! )
,JJ) *
onDeleteKK 
:KK 
ReferentialActionKK +
.KK+ ,
NoActionKK, 4
)KK4 5
;KK5 6
migrationBuilderMM 
.MM 
AddForeignKeyMM *
(MM* +
nameNN 
:NN 
$strNN ;
,NN; <
tableOO 
:OO 
$strOO 
,OO 
columnPP 
:PP 
$strPP '
,PP' (
principalTableQQ 
:QQ 
$strQQ  .
,QQ. /
principalColumnRR 
:RR  
$strRR! 0
,RR0 1
onDeleteSS 
:SS 
ReferentialActionSS +
.SS+ ,
NoActionSS, 4
)SS4 5
;SS5 6
migrationBuilderUU 
.UU 
AddForeignKeyUU *
(UU* +
nameVV 
:VV 
$strVV 0
,VV0 1
tableWW 
:WW 
$strWW 
,WW 
columnXX 
:XX 
$strXX "
,XX" #
principalTableYY 
:YY 
$strYY  (
,YY( )
principalColumnZZ 
:ZZ  
$strZZ! +
,ZZ+ ,
onDelete[[ 
:[[ 
ReferentialAction[[ +
.[[+ ,
NoAction[[, 4
)[[4 5
;[[5 6
migrationBuilder]] 
.]] 
AddForeignKey]] *
(]]* +
name^^ 
:^^ 
$str^^ 5
,^^5 6
table__ 
:__ 
$str__ 
,__ 
column`` 
:`` 
$str`` $
,``$ %
principalTableaa 
:aa 
$straa  +
,aa+ ,
principalColumnbb 
:bb  
$strbb! -
,bb- .
onDeletecc 
:cc 
ReferentialActioncc +
.cc+ ,
NoActioncc, 4
)cc4 5
;cc5 6
migrationBuilderee 
.ee 
AddForeignKeyee *
(ee* +
nameff 
:ff 
$strff <
,ff< =
tablegg 
:gg 
$strgg 
,gg 
columnhh 
:hh 
$strhh (
,hh( )
principalTableii 
:ii 
$strii  .
,ii. /
principalColumnjj 
:jj  
$strjj! 1
,jj1 2
onDeletekk 
:kk 
ReferentialActionkk +
.kk+ ,
NoActionkk, 4
)kk4 5
;kk5 6
}ll 	
	protectednn 
overridenn 
voidnn 
Downnn  $
(nn$ %
MigrationBuildernn% 5
migrationBuildernn6 F
)nnF G
{oo 	
migrationBuilderpp 
.pp 
DropForeignKeypp +
(pp+ ,
nameqq 
:qq 
$strqq 2
,qq2 3
tablerr 
:rr 
$strrr  
)rr  !
;rr! "
migrationBuildertt 
.tt 
DropForeignKeytt +
(tt+ ,
nameuu 
:uu 
$struu 8
,uu8 9
tablevv 
:vv 
$strvv &
)vv& '
;vv' (
migrationBuilderxx 
.xx 
DropForeignKeyxx +
(xx+ ,
nameyy 
:yy 
$stryy 8
,yy8 9
tablezz 
:zz 
$strzz &
)zz& '
;zz' (
migrationBuilder|| 
.|| 
DropForeignKey|| +
(||+ ,
name}} 
:}} 
$str}} ;
,}}; <
table~~ 
:~~ 
$str~~ 
)~~ 
;~~  
migrationBuilder
ÄÄ 
.
ÄÄ 
DropForeignKey
ÄÄ +
(
ÄÄ+ ,
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ 0
,
ÅÅ0 1
table
ÇÇ 
:
ÇÇ 
$str
ÇÇ 
)
ÇÇ 
;
ÇÇ  
migrationBuilder
ÑÑ 
.
ÑÑ 
DropForeignKey
ÑÑ +
(
ÑÑ+ ,
name
ÖÖ 
:
ÖÖ 
$str
ÖÖ 5
,
ÖÖ5 6
table
ÜÜ 
:
ÜÜ 
$str
ÜÜ 
)
ÜÜ 
;
ÜÜ  
migrationBuilder
àà 
.
àà 
DropForeignKey
àà +
(
àà+ ,
name
ââ 
:
ââ 
$str
ââ <
,
ââ< =
table
ää 
:
ää 
$str
ää 
)
ää 
;
ää  
migrationBuilder
åå 
.
åå 

UpdateData
åå '
(
åå' (
table
çç 
:
çç 
$str
çç &
,
çç& '
	keyColumn
éé 
:
éé 
$str
éé ,
,
éé, -
keyValue
èè 
:
èè 
$num
èè 
,
èè 
column
êê 
:
êê 
$str
êê  
,
êê  !
value
ëë 
:
ëë 
$str
ëë %
)
ëë% &
;
ëë& '
migrationBuilder
ìì 
.
ìì 

UpdateData
ìì '
(
ìì' (
table
îî 
:
îî 
$str
îî &
,
îî& '
	keyColumn
ïï 
:
ïï 
$str
ïï ,
,
ïï, -
keyValue
ññ 
:
ññ 
$num
ññ 
,
ññ 
column
óó 
:
óó 
$str
óó  
,
óó  !
value
òò 
:
òò 
$str
òò $
)
òò$ %
;
òò% &
migrationBuilder
öö 
.
öö 
AddForeignKey
öö *
(
öö* +
name
õõ 
:
õõ 
$str
õõ %
,
õõ% &
table
úú 
:
úú 
$str
úú  
,
úú  !
column
ùù 
:
ùù 
$str
ùù #
,
ùù# $
principalTable
ûû 
:
ûû 
$str
ûû  '
,
ûû' (
principalColumn
üü 
:
üü  
$str
üü! )
)
üü) *
;
üü* +
migrationBuilder
°° 
.
°° 
AddForeignKey
°° *
(
°°* +
name
¢¢ 
:
¢¢ 
$str
¢¢ -
,
¢¢- .
table
££ 
:
££ 
$str
££ &
,
££& '
column
§§ 
:
§§ 
$str
§§ !
,
§§! "
principalTable
•• 
:
•• 
$str
••  )
,
••) *
principalColumn
¶¶ 
:
¶¶  
$str
¶¶! *
)
¶¶* +
;
¶¶+ ,
migrationBuilder
®® 
.
®® 
AddForeignKey
®® *
(
®®* +
name
©© 
:
©© 
$str
©© ,
,
©©, -
table
™™ 
:
™™ 
$str
™™ &
,
™™& '
column
´´ 
:
´´ 
$str
´´ #
,
´´# $
principalTable
¨¨ 
:
¨¨ 
$str
¨¨  '
,
¨¨' (
principalColumn
≠≠ 
:
≠≠  
$str
≠≠! )
)
≠≠) *
;
≠≠* +
migrationBuilder
ØØ 
.
ØØ 
AddForeignKey
ØØ *
(
ØØ* +
name
∞∞ 
:
∞∞ 
$str
∞∞ *
,
∞∞* +
table
±± 
:
±± 
$str
±± 
,
±± 
column
≤≤ 
:
≤≤ 
$str
≤≤ '
,
≤≤' (
principalTable
≥≥ 
:
≥≥ 
$str
≥≥  .
,
≥≥. /
principalColumn
¥¥ 
:
¥¥  
$str
¥¥! 0
)
¥¥0 1
;
¥¥1 2
migrationBuilder
∂∂ 
.
∂∂ 
AddForeignKey
∂∂ *
(
∂∂* +
name
∑∑ 
:
∑∑ 
$str
∑∑ &
,
∑∑& '
table
∏∏ 
:
∏∏ 
$str
∏∏ 
,
∏∏ 
column
ππ 
:
ππ 
$str
ππ "
,
ππ" #
principalTable
∫∫ 
:
∫∫ 
$str
∫∫  (
,
∫∫( )
principalColumn
ªª 
:
ªª  
$str
ªª! +
)
ªª+ ,
;
ªª, -
migrationBuilder
ΩΩ 
.
ΩΩ 
AddForeignKey
ΩΩ *
(
ΩΩ* +
name
ææ 
:
ææ 
$str
ææ (
,
ææ( )
table
øø 
:
øø 
$str
øø 
,
øø 
column
¿¿ 
:
¿¿ 
$str
¿¿ $
,
¿¿$ %
principalTable
¡¡ 
:
¡¡ 
$str
¡¡  +
,
¡¡+ ,
principalColumn
¬¬ 
:
¬¬  
$str
¬¬! -
)
¬¬- .
;
¬¬. /
migrationBuilder
ƒƒ 
.
ƒƒ 
AddForeignKey
ƒƒ *
(
ƒƒ* +
name
≈≈ 
:
≈≈ 
$str
≈≈ ,
,
≈≈, -
table
∆∆ 
:
∆∆ 
$str
∆∆ 
,
∆∆ 
column
«« 
:
«« 
$str
«« (
,
««( )
principalTable
»» 
:
»» 
$str
»»  .
,
»». /
principalColumn
…… 
:
……  
$str
……! 1
)
……1 2
;
……2 3
}
   	
}
ÀÀ 
}ÃÃ Ó
yC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Migrations\20220511055645_UpdateSpamTable.cs
	namespace 	
AspireOverflow
 
. 

Migrations #
{ 
public 

partial 
class 
UpdateSpamTable (
:) *
	Migration+ 4
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
;  
} 	
} 
} ¯
~C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Migrations\20220512034537_UpdateArticleComment.cs
	namespace 	
AspireOverflow
 
. 

Migrations #
{ 
public 

partial 
class  
UpdateArticleComment -
:. /
	Migration0 9
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str 
, 
table 
: 
$str &
,& '
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str &
)& '
;' (
} 	
} 
} ˛=
ÑC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Migrations\20220528043920_CreatedPrivateArticleTable.cs
	namespace 	
AspireOverflow
 
. 

Migrations #
{ 
public 

partial 
class &
CreatedPrivateArticleTable 3
:4 5
	Migration6 ?
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 7
,7 8
table 
: 
$str (
)( )
;) *
migrationBuilder 
. 
	AddColumn &
<& '
bool' +
>+ ,
(, -
name 
: 
$str !
,! "
table 
: 
$str !
,! "
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
false #
)# $
;$ %
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str (
,( )
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str 
, 
oldNullable 
: 
true !
)! "
;" #
migrationBuilder   
.   
CreateTable   (
(  ( )
name!! 
:!! 
$str!! '
,!!' (
columns"" 
:"" 
table"" 
=>"" !
new""" %
{## 
Id$$ 
=$$ 
table$$ 
.$$ 
Column$$ %
<$$% &
int$$& )
>$$) *
($$* +
type$$+ /
:$$/ 0
$str$$1 6
,$$6 7
nullable$$8 @
:$$@ A
false$$B G
)$$G H
.%% 

Annotation%% #
(%%# $
$str%%$ 8
,%%8 9
$str%%: @
)%%@ A
,%%A B
	ArticleId&& 
=&& 
table&&  %
.&&% &
Column&&& ,
<&&, -
int&&- 0
>&&0 1
(&&1 2
type&&2 6
:&&6 7
$str&&8 =
,&&= >
nullable&&? G
:&&G H
false&&I N
)&&N O
,&&O P
UserId'' 
='' 
table'' "
.''" #
Column''# )
<'') *
int''* -
>''- .
(''. /
type''/ 3
:''3 4
$str''5 :
,'': ;
nullable''< D
:''D E
false''F K
)''K L
}(( 
,(( 
constraints)) 
:)) 
table)) "
=>))# %
{** 
table++ 
.++ 

PrimaryKey++ $
(++$ %
$str++% 9
,++9 :
x++; <
=>++= ?
x++@ A
.++A B
Id++B D
)++D E
;++E F
table,, 
.,, 

ForeignKey,, $
(,,$ %
name-- 
:-- 
$str-- E
,--E F
column.. 
:.. 
x..  !
=>.." $
x..% &
...& '
	ArticleId..' 0
,..0 1
principalTable// &
://& '
$str//( 2
,//2 3
principalColumn00 '
:00' (
$str00) 3
,003 4
onDelete11  
:11  !
ReferentialAction11" 3
.113 4
NoAction114 <
)11< =
;11= >
table22 
.22 

ForeignKey22 $
(22$ %
name33 
:33 
$str33 ?
,33? @
column44 
:44 
x44  !
=>44" $
x44% &
.44& '
UserId44' -
,44- .
principalTable55 &
:55& '
$str55( /
,55/ 0
principalColumn66 '
:66' (
$str66) 1
,661 2
onDelete77  
:77  !
ReferentialAction77" 3
.773 4
NoAction774 <
)77< =
;77= >
}88 
)88 
;88 
migrationBuilder:: 
.:: 
CreateIndex:: (
(::( )
name;; 
:;; 
$str;; 4
,;;4 5
table<< 
:<< 
$str<< (
,<<( )
column== 
:== 
$str== #
)==# $
;==$ %
migrationBuilder?? 
.?? 
CreateIndex?? (
(??( )
name@@ 
:@@ 
$str@@ 1
,@@1 2
tableAA 
:AA 
$strAA (
,AA( )
columnBB 
:BB 
$strBB  
)BB  !
;BB! "
migrationBuilderDD 
.DD 
AddForeignKeyDD *
(DD* +
nameEE 
:EE 
$strEE 7
,EE7 8
tableFF 
:FF 
$strFF (
,FF( )
columnGG 
:GG 
$strGG  
,GG  !
principalTableHH 
:HH 
$strHH  '
,HH' (
principalColumnII 
:II  
$strII! )
,II) *
onDeleteJJ 
:JJ 
ReferentialActionJJ +
.JJ+ ,
NoActionJJ, 4
)JJ4 5
;JJ5 6
}KK 	
	protectedMM 
overrideMM 
voidMM 
DownMM  $
(MM$ %
MigrationBuilderMM% 5
migrationBuilderMM6 F
)MMF G
{NN 	
migrationBuilderOO 
.OO 
DropForeignKeyOO +
(OO+ ,
namePP 
:PP 
$strPP 7
,PP7 8
tableQQ 
:QQ 
$strQQ (
)QQ( )
;QQ) *
migrationBuilderSS 
.SS 
	DropTableSS &
(SS& '
nameTT 
:TT 
$strTT '
)TT' (
;TT( )
migrationBuilderVV 
.VV 

DropColumnVV '
(VV' (
nameWW 
:WW 
$strWW !
,WW! "
tableXX 
:XX 
$strXX !
)XX! "
;XX" #
migrationBuilderZZ 
.ZZ 
AlterColumnZZ (
<ZZ( )
intZZ) ,
>ZZ, -
(ZZ- .
name[[ 
:[[ 
$str[[ 
,[[ 
table\\ 
:\\ 
$str\\ (
,\\( )
type]] 
:]] 
$str]] 
,]] 
nullable^^ 
:^^ 
true^^ 
,^^ 

oldClrType__ 
:__ 
typeof__ "
(__" #
int__# &
)__& '
,__' (
oldType`` 
:`` 
$str`` 
)`` 
;``  
migrationBuilderbb 
.bb 
AddForeignKeybb *
(bb* +
namecc 
:cc 
$strcc 7
,cc7 8
tabledd 
:dd 
$strdd (
,dd( )
columnee 
:ee 
$stree  
,ee  !
principalTableff 
:ff 
$strff  '
,ff' (
principalColumngg 
:gg  
$strgg! )
)gg) *
;gg* +
}hh 	
}ii 
}jj §5
^C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Article.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public 

partial 
class 
Article  
:! "
IAuditField# .
{ 
[ 	
Key	 
] 
public 
int 
ArtileId 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Content 
{ 
get  #
;# $
set% (
;( )
}* +
public 
byte 
[ 
] 
Image 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
ArticleStatusID "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
? 

ReviewerId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
Datetime  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
	IsPrivate 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
false. 3
;3 4
public 
int 
	CreatedBy 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
	CreatedOn !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
? 
	UpdatedBy 
{ 
get  #
;# $
set% (
;( )
}* +
public!! 
DateTime!! 
?!! 
	UpdatedOn!! "
{!!# $
get!!% (
;!!( )
set!!* -
;!!- .
}!!/ 0
["" 	
	NotMapped""	 
]"" 
public## 
string## 
ImageString## !
{##" #
get##$ '
;##' (
set##) ,
;##, -
}##. /
[%% 	

ForeignKey%%	 
(%% 
$str%% %
)%%% &
]%%& '
[&& 	
InverseProperty&&	 
(&& 
$str&& #
)&&# $
]&&$ %
public'' 
virtual'' 
ArticleStatus'' $
?''$ %
ArticleStatus''& 3
{''4 5
get''6 9
;''9 :
set''; >
;''> ?
}''@ A
[++ 	

ForeignKey++	 
(++ 
$str++ 
)++  
]++  !
[,, 	
InverseProperty,,	 
(,, 
$str,, #
),,# $
],,$ %
public-- 
virtual-- 
User-- 
?-- 
User-- !
{--" #
get--$ '
;--' (
set--) ,
;--, -
}--. /
=--0 1
null--2 6
!--6 7
;--7 8
[// 	
InverseProperty//	 
(// 
$str// "
)//" #
]//# $
public00 
virtual00 
ICollection00 "
<00" #
ArticleComment00# 1
>001 2
?002 3
ArticleComments004 C
{00D E
get00F I
;00I J
set00K N
;00N O
}00P Q
[33 	
InverseProperty33	 
(33 
$str33 "
)33" #
]33# $
public44 
virtual44 
ICollection44 "
<44" #
ArticleLike44# .
>44. /
?44/ 0
ArticleLikes441 =
{44> ?
get44@ C
;44C D
set44E H
;44H I
}44J K
[66 	
InverseProperty66	 
(66 
$str66 "
)66" #
]66# $
public77 
virtual77 
ICollection77 "
<77" #
PrivateArticle77# 1
>771 2
?772 3
PrivateArticles774 C
{77D E
get77F I
;77I J
set77K N
;77N O
}77P Q
}99 
public:: 

partial:: 
class:: 
PrivateArticle:: '
{;; 
public<< 
PrivateArticle<< 
(<< 
int<< !
	articleId<<" +
,<<+ ,
int<<- 0
userId<<1 7
)<<7 8
{== 	
	ArticleId>> 
=>> 
	articleId>> !
;>>! "
UserId?? 
=?? 
userId?? 
;?? 
}@@ 	
[BB 	
KeyBB	 
]BB 
publicCC 
intCC 
IdCC 
{CC 
getCC 
;CC 
setCC  
;CC  !
}CC" #
publicEE 
intEE 
	ArticleIdEE 
{EE 
getEE "
;EE" #
setEE$ '
;EE' (
}EE) *
publicGG 
intGG 
UserIdGG 
{GG 
getGG 
;GG  
setGG! $
;GG$ %
}GG& '
[II 	

ForeignKeyII	 
(II 
$strII 
)II  
]II  !
[JJ 	
InversePropertyJJ	 
(JJ 
$strJJ *
)JJ* +
]JJ+ ,
publicKK 
virtualKK 
ArticleKK 
?KK 
articleKK  '
{KK( )
getKK* -
;KK- .
setKK/ 2
;KK2 3
}KK4 5
[LL 	

ForeignKeyLL	 
(LL 
$strLL 
)LL 
]LL 
[MM 	
InversePropertyMM	 
(MM 
$strMM *
)MM* +
]MM+ ,
publicNN 
virtualNN 
UserNN 
?NN 
userNN !
{NN" #
getNN$ '
;NN' (
setNN) ,
;NN, -
}NN. /
}QQ 
publicSS 

partialSS 
classSS 
PrivateArticleDtoSS *
{SS+ ,
publicUU 
ArticleUU 
articleUU 
{UU  
getUU! $
;UU$ %
setUU& )
;UU) *
}UU+ ,
publicVV 
ListVV 
<VV 
intVV 
>VV 
SharedUsersIdVV &
{VV' (
getVV) ,
;VV, -
setVV. 1
;VV1 2
}VV3 4
}WW 
}[[ √
eC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\ArticleComment.cs
	namespace 	
AspireOverflow
 
. 
Models 
{		 
public

 

partial

 
class

 
ArticleComment

 '
:

( )
IAuditField

* 5
{ 
public 
ArticleComment 
( 
) 
{ 	
} 	
[ 	
Key	 
] 
public 
int 
ArticleCommentId #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
Comment 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
Datetime  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
UserId 
{ 
get 
;  
set" %
;% &
}& '
public 
int 
	CreatedBy 
{ 
get  
;  !
set! $
;$ %
}% &
public 
int 
	ArticleId 
{ 
get "
;" #
set$ '
;' (
}) *
public   
DateTime   
	CreatedOn   !
{  " #
get  $ '
;  ' (
set  ) ,
;  , -
}  . /
public"" 
int"" 
?"" 
	UpdatedBy"" 
{"" 
get""  #
;""# $
set""% (
;""( )
}""* +
public$$ 
DateTime$$ 
?$$ 
	UpdatedOn$$ "
{$$# $
get$$% (
;$$( )
set$$* -
;$$- .
}$$/ 0
[&& 	

ForeignKey&&	 
(&& 
$str&& 
)&&  
]&&  !
['' 	
InverseProperty''	 
('' 
$str'' *
)''* +
]''+ ,
public(( 
virtual(( 
Article(( 
?(( 
Article((  '
{((( )
get((* -
;((- .
set((/ 2
;((2 3
}((4 5
=((6 7
null((8 <
!((< =
;((= >
[** 	

ForeignKey**	 
(** 
$str** 
)** 
]** 
[++ 	
InverseProperty++	 
(++ 
$str++ *
)++* +
]+++ ,
public,, 
virtual,, 
User,, 
?,, 
User,, !
{,," #
get,,$ '
;,,' (
set,,) ,
;,,, -
},,. /
=,,0 1
null,,2 6
!,,6 7
;,,7 8
}-- 
}.. Ÿ
bC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\ArticleLike.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public		 

partial		 
class		 
ArticleLike		 $
{

 
[ 	
Key	 
] 
public 
int 
LikeId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	ArticleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

ForeignKey	 
( 
$str 
)  
]  !
[ 	
InverseProperty	 
( 
$str '
)' (
]( )
public 
virtual 
Article 
? 
Article  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=5 6
null6 :
!: ;
;; <
[ 

ForeignKey 
( 
$str 
) 
] 
[ 
InverseProperty 
( 
$str 
) 
] 
public 

virtual 
User 
? 
	LikedUser "
{# $
get% (
;( )
set* -
;- .
}/ 0
=0 1
null1 5
!5 6
;6 7
} 
} Ü
dC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\ArticleStatus.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public		 

partial		 
class		 
ArticleStatus		 &
{

 
[ 	
Key	 
] 
public 
int 
ArticleStatusID "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
Status 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
InverseProperty	 
( 
$str (
)( )
]) *
public 
virtual 
ICollection "
<" #
Article# *
>* +
Articles, 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
} 
} †
aC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Department.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public 
partial 
class 

Department &
{		 
public

 

Department

 
(

 
)

 
{ 	
Designations 
= 
new 
HashSet &
<& '
Designation' 2
>2 3
(3 4
)4 5
;5 6
} 	
public 
int 
DepartmentId 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
DepartmentName $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
null5 9
!9 :
;: ;
[ 	
InverseProperty	 
( 
$str %
)% &
]& '
public 
virtual 
ICollection "
<" #
Designation# .
>. /
Designations0 <
{= >
get? B
;B C
setD G
;G H
}I J
} 
} Õ
bC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Designation.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public 

partial 
class 
Designation $
{		 
[ 	
Key	 
] 
public 
int 
DesignationId  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
DesignationName %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
null6 :
!: ;
;; <
public 
int 
DepartmentId 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	

ForeignKey	 
( 
$str "
)" #
]# $
[ 	
InverseProperty	 
( 
$str '
)' (
]( )
public 
virtual 

Department !

Department" ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
=; <
null= A
!A B
;B C
[
 
InverseProperty 
( 
$str (
)( )
]) *
public 
virtual 
ICollection "
<" #
User# '
>' (
Users) .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
=< =
null> B
!B C
;C D
} 
} Ö
pC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Enum\Enum-DevelopmentTeam.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
enum 
DevelopmentTeam	 
{ 
Web 
, 
Mobile 
, 
Desktop 
}		 
}

 õ
]C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Gender.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
[ 
Table 

(
 
$str 
) 
] 
public 

partial 
class 
Gender 
{		 
public

 
Gender

 
(

 
)

 
{ 	
Users 
= 
new 
HashSet 
<  
User  $
>$ %
(% &
)& '
;' (
} 	
[ 	
Key	 
] 
[ 
DatabaseGenerated 
(  #
DatabaseGeneratedOption  7
.7 8
None8 <
)< =
]= >
public 
int 
GenderId 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
[ 	
InverseProperty	 
( 
$str !
)! "
]" #
public 
virtual 
ICollection "
<" #
User# '
>' (
Users) .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
} 
} ¶
mC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Interfaces\IAuditField.cs
	namespace 	
AspireOverflow
 
. 
Models 
.  

Interfaces  *
{ 
public 

	interface 
IAuditField  
{ 
int	 
	CreatedBy 
{ 
get 
; 
set !
;! "
}# $
DateTime			 
	CreatedOn		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
int

	 
?

 
	UpdatedBy

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
DateTime	 
? 
	UpdatedOn 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} “
[C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Mail.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public 

class 
MailRequest 
{ 
public 

string 
ToEmail 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
Subject 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
Body 
{ 
get 
; 
set !
;! "
}# $
}

 
public 

class 
MailSettings 
{ 
public 
string 
Mail 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
DisplayName !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Host 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Port 
{ 
get 
; 
set "
;" #
}$ %
} 
} ¯
\C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Query.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public 

partial 
class 
Query 
:  
IAuditField  +
{ 
public		 
Query		 
(		 
)		 
{		 
QueryComments

 
=

 
new

 
HashSet

  '
<

' (
QueryComment

( 4
>

4 5
(

5 6
)

6 7
;

7 8
} 	
[ 	
Key	 
] 
public 
int 
QueryId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Content 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
code 
{ 
get  
;  !
set" %
;% &
}' (
public 
bool 
IsSolved 
{ 
get "
;" #
set$ '
;' (
}) *
public 
bool 
IsActive 
{ 
get 
; 
set "
;" #
}# $
=% &
true& *
;* +
public 
int 
	CreatedBy 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
	CreatedOn !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
? 
	UpdatedBy 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
? 
	UpdatedOn "
{# $
get% (
;( )
set* -
;- .
}/ 0
[   	
InverseProperty  	 
(   
$str    
)    !
]  ! "
public!! 
virtual!! 
ICollection!!  
<!!  !
QueryComment!!! -
>!!- .
?!!. /
QueryComments!!0 =
{!!> ?
get!!? B
;!!B C
set!!C F
;!!F G
}!!G H
[## 

ForeignKey## 
(## 
$str## 
)## 
]## 
[$$ 
InverseProperty$$ 
($$ 
$str$$  
)$$  !
]$$! "
public%% 
virtual%% 
User%% 
?%% 
User%% 
{%%  !
get%%! $
;%%$ %
set%%% (
;%%( )
}%%) *
}&& 
}'' «
cC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\QueryComment.cs
	namespace 	
AspireOverflow
 
. 
Models 
{		 
public

 	
partial


 
class

 
QueryComment

 $
:

% &
IAuditField

& 1
{ 
public 
QueryComment 
( 
) 
{ 
} 	
[ 	
Key	 
] 
public 
int 
QueryCommentId !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Comment 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
Datetime  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
Code 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
QueryId 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
	CreatedBy 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
	CreatedOn !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
? 
	UpdatedBy 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
? 
	UpdatedOn "
{# $
get% (
;( )
set* -
;- .
}/ 0
["" 

ForeignKey"" 
("" 
$str"" 
)"" 
]"" 
[## 	
InverseProperty##	 
(## 
$str## (
)##( )
]##) *
public$$ 
virtual$$ 
Query$$ 
?$$ 
Query$$ #
{$$$ %
get$$& )
;$$) *
set$$+ .
;$$. /
}$$0 1
[&&	 


ForeignKey&&
 
(&& 
$str&&  
)&&  !
]&&! "
['' 
InverseProperty'' 
('' 
$str'' &
)''& '
]''' (
public(( 
virtual(( 
User(( 
?(( 
User(( 
{((  !
get((! $
;(($ %
set((% (
;((( )
}(() *
}** 
}** ¬
[C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\Spam.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public 

class 
Spam 
{ 
[ 	
Key	 
] 
public		 
int		 
SpamId		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public 
string 
Reason 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
QueryId 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
VerifyStatusID !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	

ForeignKey	 
( 
$str $
)$ %
]% &
public 
virtual 
VerifyStatus #
?# $
VerifyStatus% 1
{2 3
get4 7
;7 8
set9 <
;< =
}> ?
[ 	

ForeignKey	 
( 
$str 
) 
] 
public 
virtual 
Query 
? 
Query #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	

ForeignKey	 
( 
$str 
) 
] 
public 
virtual 
User 
? 
User !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} §C
[C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\User.cs
	namespace 	
AspireOverflow
 
. 
Models 
{		 
public 

partial 
class 
User 
{ 
public 
User 
( 
) 
{ 	
} 	
[ 	
Key	 
] 
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
public 
int 
GenderId 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
	AceNumber 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 
string 
EmailAddress "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
null3 7
!7 8
;8 9
[!! 	
Column!!	 
(!! 
TypeName!! 
=!! 
$str!! *
)!!* +
]!!+ ,
public"" 
string"" 
Password"" 
{""  
get""! $
;""$ %
set""& )
;"") *
}""+ ,
=""- .
null""/ 3
!""3 4
;""4 5
public%% 
DateTime%% 
DateOfBirth%% #
{%%$ %
get%%& )
;%%) *
set%%+ .
;%%. /
}%%0 1
public'' 
int'' 
VerifyStatusID'' !
{''" #
get''$ '
;''' (
set'') ,
;'', -
}''. /
=''0 1
$num''2 3
;''3 4
public)) 
bool)) 

IsReviewer)) 
{))  
get))! $
;))$ %
set))& )
;))) *
}))+ ,
public++ 
int++ 

UserRoleId++ 
{++ 
get++  #
;++# $
set++% (
;++( )
}++* +
=++, -
$num++. /
;++/ 0
public.. 
int.. 
DesignationId..  
{..! "
get..# &
;..& '
set..( +
;..+ ,
}..- .
public00 
DateTime00 
	CreatedOn00 !
{00" #
get00$ '
;00' (
set00) ,
;00, -
}00. /
=000 1
DateTime002 :
.00: ;
Now00; >
;00> ?
public33 
DateTime33 
?33 
	UpdatedOn33 "
{33# $
get33% (
;33( )
set33* -
;33- .
}33/ 0
public44 
int44 
?44 
	UpdatedBy44 
{44 
get44  #
;44# $
set44% (
;44( )
}44* +
[77 	

ForeignKey77	 
(77 
$str77 #
)77# $
]77$ %
[88 	
InverseProperty88	 
(88 
$str88  
)88  !
]88! "
public:: 
virtual:: 
Designation:: "
?::" #
Designation::$ /
{::0 1
get::2 5
;::5 6
set::7 :
;::: ;
}::< =
=::> ?
null::@ D
!::D E
;::E F
[;; 	

ForeignKey;;	 
(;; 
$str;; 
);; 
];;  
[<< 	
InverseProperty<<	 
(<< 
$str<<  
)<<  !
]<<! "
public== 
virtual== 
Gender== 
?== 
Gender== %
{==& '
get==( +
;==+ ,
set==- 0
;==0 1
}==2 3
===4 5
null==6 :
!==: ;
;==; <
[?? 	

ForeignKey??	 
(?? 
$str??  
)??  !
]??! "
[@@ 	
InverseProperty@@	 
(@@ 
$str@@  
)@@  !
]@@! "
publicAA 
virtualAA 
UserRoleAA 
?AA  
UserRoleAA! )
{AA* +
getAA, /
;AA/ 0
setAA1 4
;AA4 5
}AA6 7
=AA8 9
nullAA: >
!AA> ?
;AA? @
[CC 	

ForeignKeyCC	 
(CC 
$strCC $
)CC$ %
]CC% &
[DD 	
InversePropertyDD	 
(DD 
$strDD  
)DD  !
]DD! "
publicEE 
virtualEE 
VerifyStatusEE #
?EE# $
VerifyStatusEE% 1
{EE2 3
getEE4 7
;EE7 8
setEE9 <
;EE< =
}EE> ?
=EE@ A
nullEEB F
!EEF G
;EEG H
[GG 	
InversePropertyGG	 
(GG 
$strGG 
)GG  
]GG  !
publicHH 
virtualHH 
ICollectionHH "
<HH" #
QueryHH# (
>HH( )
?HH) *
QueriesHH+ 2
{HH3 4
getHH5 8
;HH8 9
setHH: =
;HH= >
}HH? @
[II 	
InversePropertyII	 
(II 
$strII 
)II  
]II  !
publicJJ 
virtualJJ 
ICollectionJJ "
<JJ" #
QueryCommentJJ# /
>JJ/ 0
?JJ0 1
QueryCommentsJJ2 ?
{JJ@ A
getJJB E
;JJE F
setJJG J
;JJJ K
}JJL M
[KK 	
InversePropertyKK	 
(KK 
$strKK 
)KK  
]KK  !
publicLL 
virtualLL 
ICollectionLL "
<LL" #
ArticleCommentLL# 1
>LL1 2
?LL2 3
ArticleCommentsLL4 C
{LLD E
getLLF I
;LLI J
setLLK N
;LLN O
}LLP Q
[MM 	
InversePropertyMM	 
(MM 
$strMM 
)MM  
]MM  !
publicNN 
virtualNN 
ICollectionNN "
<NN" #
ArticleNN# *
>NN* +
?NN+ ,
ArticlesNN- 5
{NN6 7
getNN8 ;
;NN; <
setNN= @
;NN@ A
}NNB C
[OO 	
InversePropertyOO	 
(OO 
$strOO $
)OO$ %
]OO% &
publicPP 
virtualPP 
ICollectionPP "
<PP" #
ArticleLikePP# .
>PP. /
?PP/ 0
LikesPP1 6
{PP7 8
getPP9 <
;PP< =
setPP> A
;PPA B
}PPC D
[QQ
 
InversePropertyQQ 
(QQ 
$strQQ !
)QQ! "
]QQ" #
publicRR 
virtualRR 
ICollectionRR "
<RR" #
PrivateArticleRR# 1
>RR1 2
?RR2 3
PrivateArticlesRR4 C
{RRD E
getRRF I
;RRI J
setRRK N
;RRN O
}RRP Q
}WW 
publicYY 

classYY 
LoginYY 
{YY 
publicZZ 
stringZZ 
EmailZZ 
{ZZ 
getZZ "
;ZZ" #
setZZ$ '
;ZZ' (
}ZZ) *
public[[ 
string[[ 
Password[[ 
{[[  
get[[! $
;[[$ %
set[[& )
;[[) *
}[[+ ,
}\\ 
public^^ 

class^^ 
CurrentUser^^ 
{^^ 
public__ 
string__ 
?__ 
Email__ 
{__  !
get__" %
;__% &
set__' *
;__* +
}__, -
publicaa 
intaa 
UserIdaa 
{aa 
getaa "
;aa" #
setaa$ '
;aa' (
}aa) *
publiccc 
intcc 
RoleIdcc 
{cc 
getcc "
;cc" #
setcc$ '
;cc' (
}cc) *
publicee 
boolee 

IsRevieweree !
{ee" #
getee$ '
;ee' (
setee) ,
;ee, -
}ee. /
}ff 
}gg ü
_C:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\UserRole.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public		 

partial		 
class		 
UserRole		 !
{

 
public 
UserRole 
( 
) 
{ 	
Users 
= 
new 
HashSet 
<  
User  $
>$ %
(% &
)& '
;' (
} 	
[ 	
Key	 
] 
[ 
DatabaseGenerated 
(  #
DatabaseGeneratedOption  7
.7 8
None8 <
)< =
]= >
public 
int 

UserRoleId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
RoleName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
InverseProperty	 
( 
$str #
)# $
]$ %
public 
virtual 
ICollection "
<" #
User# '
>' (
Users) .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
} 
} ´
cC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Models\VerifyStatus.cs
	namespace 	
AspireOverflow
 
. 
Models 
{ 
public		 

partial		 
class		 
VerifyStatus		 %
{

 
public 
VerifyStatus 
( 
) 
{ 	
Users 
= 
new 
HashSet 
<  
User  $
>$ %
(% &
)& '
;' (
} 	
[ 	
Key	 
] 
[ 
DatabaseGenerated 
(  #
DatabaseGeneratedOption  7
.7 8
None8 <
)< =
]= >
public 
int 
VerifyStatusID !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
InverseProperty	 
( 
$str '
)' (
]( )
public 
virtual 
ICollection "
<" #
User# '
>' (
Users) .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
} 
} ıV
WC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
try 
{ 
builder 
. 
Services 
. 
AddDbContext !
<! "!
AspireOverflowContext" 7
>7 8
(8 9
options9 @
=>A C
{ 
options 
. 
UseSqlServer 
( 
builder $
.$ %
Configuration% 2
.2 3
GetConnectionString3 F
(F G
$strG P
)P Q
)Q R
;R S
} 
) 
; 
} 
catch 
( 
SystemException 
	Exception  
)  !
{ 
Console   
.   
	WriteLine   
(   
	Exception   
.    
Message    '
)  ' (
;  ( )
}"" 
builder$$ 
.$$ 
Services$$ 
.$$ 
AddHttpLogging$$ 
($$  
httpLogging$$  +
=>$$, .
{%% 
httpLogging&& 
.&& 
LoggingFields&& 
=&& 
HttpLoggingFields&&  1
.&&1 2
All&&2 5
;&&5 6
})) 
))) 
;)) 
builder,, 
.,, 
Services,, 
.,, 
AddTransient,, 
<,, 
IQueryService,, +
,,,+ ,
QueryService,,, 8
>,,8 9
(,,9 :
),,: ;
;,,; <
builder-- 
.-- 
Services-- 
.-- 
AddTransient-- 
<-- 
IQueryRepository-- .
,--. /
QueryRepository--/ >
>--> ?
(--? @
)--@ A
;--A B
builder.. 
... 
Services.. 
... 
AddTransient.. 
<.. 
IArticleRepository.. 0
,..0 1
ArticleRepository..1 B
>..B C
(..C D
)..D E
;..E F
builder// 
.// 
Services// 
.// 
AddTransient// 
<// 
IUserRepository// -
,//- .
UserRepository//. <
>//< =
(//= >
)//> ?
;//? @
builder00 
.00 
Services00 
.00 
AddTransient00 
<00 
IUserService00 *
,00* +
UserService00+ 6
>006 7
(007 8
)008 9
;009 :
builder11 
.11 
Services11 
.11 
AddTransient11 
<11 
ITokenService11 +
,11+ ,
TokenService11, 8
>118 9
(119 :
)11: ;
;11; <
builder22 
.22 
Services22 
.22 
AddTransient22 
<22 
UserService22 )
>22) *
(22* +
)22+ ,
;22, -
builder33 
.33 
Services33 
.33 
AddTransient33 
<33 
IArticleService33 -
,33- .
ArticleService33. <
>33< =
(33= >
)33> ?
;33? @
builder44 
.44 
Services44 
.44 
	Configure44 
<44 
MailSettings44 '
>44' (
(44( )
builder44) 0
.440 1
Configuration441 >
.44> ?

GetSection44? I
(44I J
$str44J X
)44X Y
)44Y Z
;44Z [
builder55 
.55 
Services55 
.55 
AddTransient55 
<55 
MailService55 )
>55) *
(55* +
)55+ ,
;55, -
builder77 
.77 
Services77 
.77 
AddAuthentication77 "
(77" #
JwtBearerDefaults77# 4
.774 5 
AuthenticationScheme775 I
)77I J
.77J K
AddJwtBearer77K W
(77W X
options77X _
=>77` b
{88 
options99 
.99  
RequireHttpsMetadata99  
=99! "
false99# (
;99( )
options:: 
.:: 
	SaveToken:: 
=:: 
true:: 
;:: 
options;; 
.;; %
TokenValidationParameters;; %
=;;& '
new;;( +%
TokenValidationParameters;;, E
(;;E F
);;F G
{<< 
ValidateIssuer== 
=== 
true== 
,== 
ValidateAudience>> 
=>> 
true>> 
,>>  
ValidAudience?? 
=?? 
builder?? 
.??  
Configuration??  -
[??- .
$str??. <
]??< =
,??= >
ValidIssuer@@ 
=@@ 
builder@@ 
.@@ 
Configuration@@ +
[@@+ ,
$str@@, 8
]@@8 9
,@@9 :
IssuerSigningKeyAA 
=AA 
newAA  
SymmetricSecurityKeyAA 3
(AA3 4
EncodingAA4 <
.AA< =
UTF8AA= A
.AAA B
GetBytesAAB J
(AAJ K
builderAAK R
.AAR S
ConfigurationAAS `
[AA` a
$strAAa j
]AAj k
)AAk l
)AAl m
}BB 
;BB 
}CC 
)CC 
;CC 
builderDD 
.DD 
ServicesDD 
.DD 
AddSwaggerGenDD 
(DD 
cDD  
=>DD! #
{DD$ %
cEE 
.EE 

SwaggerDocEE 
(EE 
$strEE 
,EE 
newEE 
OpenApiInfoEE &
{EE' (
TitleFF 
=FF 
$strFF #
,FF# $
VersionFF% ,
=FF- .
$strFF/ 3
}GG 
)GG 
;GG 
cHH 
.HH !
AddSecurityDefinitionHH 
(HH 
$strHH $
,HH$ %
newHH& )!
OpenApiSecuritySchemeHH* ?
(HH? @
)HH@ A
{HHB C
NameII 
=II 
$strII 
,II 
TypeJJ 
=JJ 
SecuritySchemeTypeJJ %
.JJ% &
ApiKeyJJ& ,
,JJ, -
SchemeKK 
=KK 
$strKK 
,KK 
BearerFormatLL 
=LL 
$strLL  
,LL  !
InMM 
=MM 
ParameterLocationMM "
.MM" #
HeaderMM# )
,MM) *
DescriptionNN 
=NN 
$str	NN ¬
,
NN¬ √
}OO 
)OO 
;OO 
cPP 
.PP "
AddSecurityRequirementPP 
(PP 
newPP  &
OpenApiSecurityRequirementPP! ;
{PP< =
{QQ 	
newRR !
OpenApiSecuritySchemeRR %
{RR& '
	ReferenceSS 
=SS 
newSS 
OpenApiReferenceSS  0
{SS1 2
TypeTT 
=TT 
ReferenceTypeTT (
.TT( )
SecuritySchemeTT) 7
,TT7 8
IdUU 
=UU 
$strUU %
}VV 
}WW 
,WW 
newXX 
stringXX 
[XX 
]XX 
{XX 
}XX 
}YY 	
}ZZ 
)ZZ 
;ZZ 
}[[ 
)[[ 
;[[ 
builder]] 
.]] 
Services]] 
.]] #
AddControllersWithViews]] (
(]]( )
)]]) *
.^^ 
AddNewtonsoftJson^^ 
(^^ 
options^^ 
=>^^ !
options__ 
.__ 
SerializerSettings__ 
.__ !
ReferenceLoopHandling__ 4
=__5 6

Newtonsoft`` 

.``
 
Json`` 
.`` !
ReferenceLoopHandling`` %
.``% &
Ignore``& ,
)aa 
;aa 
trydd 
{ee 
varff 
loggerff 
=ff 
newff 
LoggerConfigurationff (
(ff( )
)ff) *
.gg 
ReadFromgg 
.gg 
Configurationgg 
(gg 
buildergg %
.gg% &
Configurationgg& 3
)gg3 4
.hh 
Enrichhh 
.hh 
FromLogContexthh 
(hh 
)hh 
.ii 
CreateLoggerii 
(ii 
)ii 
;ii 
builderjj 
.jj 
Loggingjj 
.jj 

AddSerilogjj 
(jj 
loggerjj %
)jj% &
;jj& '
}kk 
catchll 
(ll 
	Exceptionll 
	exceptionll 
)ll 
{mm 
Consolenn 
.nn 
	WriteLinenn 
(nn 
	exceptionnn 
.nn  
Messagenn  '
)nn' (
;nn( )
}pp 
varuu 
appuu 
=uu 	
builderuu
 
.uu 
Builduu 
(uu 
)uu 
;uu 
ifzz 
(zz 
appzz 
.zz 
Environmentzz 
.zz 
IsDevelopmentzz !
(zz! "
)zz" #
)zz# $
{{{ 
app|| 
.|| 

UseSwagger|| 
(|| 
)|| 
;|| 
app~~ 
.~~ 
UseSwaggerUI~~ 
(~~ 
)~~ 
;~~ 
} 
appÅÅ 
.
ÅÅ !
UseHttpsRedirection
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
appÉÉ 
.
ÉÉ 
UseHttpLogging
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ 
appÑÑ 
.
ÑÑ 
UseAuthentication
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
appÖÖ 
.
ÖÖ 
UseAuthorization
ÖÖ 
(
ÖÖ 
)
ÖÖ 
;
ÖÖ 
appàà 
.
àà 
UseCors
àà 
(
àà 
builder
àà 
=>
àà 
{ââ 
builder
ää 
.
ãã 
AllowAnyOrigin
ãã 
(
ãã 
)
ãã 
.
åå 
AllowAnyMethod
åå 
(
åå 
)
åå 
.
çç 
AllowAnyHeader
çç 
(
çç 
)
çç 
;
çç 
}éé 
)
éé 
;
éé 
appëë 
.
ëë 
MapControllers
ëë 
(
ëë 
)
ëë 
;
ëë 
appìì 
.
ìì 
Run
ìì 
(
ìì 
)
ìì 	
;
ìì	 
Ü
gC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Security\PasswordHasher.cs
	namespace 	
AspireOverflow
 
. 
Security !
{! "
public 
class  
BCryptPasswordHasher "
<" #
TUser# (
>( )
:* +
IPasswordHasher, ;
<; <
TUser< A
>A B
whereC H
TUserI N
:O P
UserQ U
{ 
public 

string 
HashPassword 
(  
TUser  %
user& *
,* +
string, 2
password3 ;
); <
{ 
return 
BCrypt 
. 
Net 
. 
BCrypt  
.  !
HashPassword! -
(- .
password. 6
,6 7
$num8 :
): ;
;; <
}		 
public 
&
PasswordVerificationResult & 
VerifyHashedPassword' ;
(; <
TUser 
user 
, 
string 
hashedPassword '
,' (
string) /
providedPassword0 @
)@ A
{ 
var 
isValid 
= 
BCrypt 
. 
Net  
.  !
BCrypt! '
.' (
Verify( .
(. /
providedPassword/ ?
,? @
hashedPasswordA O
)O P
;P Q
if 

( 
isValid 
&& 
BCrypt 
. 
Net !
.! "
BCrypt" (
.( )
PasswordNeedsRehash) <
(< =
hashedPassword= K
,K L
$numM O
)O P
)P Q
{ 	
return &
PasswordVerificationResult -
.- .
SuccessRehashNeeded. A
;A B
} 	
return 
isValid 
? &
PasswordVerificationResult 3
.3 4
Success4 ;
:< =&
PasswordVerificationResult> X
.X Y
FailedY _
;_ `
} 
} 
} »
nC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Security\PasswordHasherFactory.cs
	namespace 	
AspireOverflow
 
. 
Security !
{ 
public 

class !
PasswordHasherFactory &
{ 
public 
static  
BCryptPasswordHasher *
<* +
User+ /
>/ 0$
GetPasswordHasherFactory1 I
(I J
)J K
{ 	
return		 
new		  
BCryptPasswordHasher		 +
<		+ ,
User		, 0
>		0 1
(		1 2
)		2 3
;		3 4
} 	
} 
} ∫˛
gC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Services\ArticleService.cs
	namespace 	
AspireOverflow
 
. 
Services !
{ 
public 

class 
ArticleService 
:  !
IArticleService" 1
{ 
private 
IArticleRepository "
database# +
;+ ,
private 
ILogger 
< 
ArticleService &
>& '
_logger( /
;/ 0
private 
MailService 
_mailService (
;( )
public 
ArticleService 
( 
ILogger %
<% &
ArticleService& 4
>4 5
logger6 <
,< =
MailService> I
mailServiceJ U
,U V
IArticleRepositoryW i
_articleRepositoryj |
)| }
{ 	
_logger 
= 
logger 
; 
_mailService 
= 
mailService &
;& '
database 
= 
_articleRepository )
;) *
} 	
public   
bool   
CreateArticle   !
(  ! "
Article  " )
article  * 1
,  1 2
List  3 7
<  7 8
int  8 ;
>  ; <
SharedUsersId  = J
=  K L
null  M Q
)  Q R
{!! 	
if## 
(## 
!## 

Validation## 
.## 
ValidateArticle## +
(##+ ,
article##, 3
)##3 4
)##4 5
throw##6 ;
new##< ?
ValidationException##@ S
(##S T
$str##T k
)##k l
;##l m
try$$ 
{%% 
article&& 
.&& 
Image&& 
=&& 
System&&  &
.&&& '
Convert&&' .
.&&. /
FromBase64String&&/ ?
(&&? @
article&&@ G
.&&G H
ImageString&&H S
)&&S T
;&&T U
article'' 
.'' 
	CreatedOn'' !
=''" #
DateTime''$ ,
.'', -
Now''- 0
;''0 1
if)) 
()) 
SharedUsersId)) !
!=))" $
null))% )
&&))* ,
article))- 4
.))4 5
	IsPrivate))5 >
&&))? A
SharedUsersId))B O
.))O P
Count))P U
())U V
)))V W
>))X Y
$num))Z [
)))[ \
return))] c
database))d l
.))l m
AddPrivateArticle))m ~
())~ 
article	)) Ü
,
))Ü á
SharedUsersId
))à ï
)
))ï ñ
;
))ñ ó
return** 
database** 
.**  

AddArticle**  *
(*** +
article**+ 2
)**2 3
;**3 4
}++ 
catch-- 
(-- 
	Exception-- 
	exception-- &
)--& '
{.. 
_logger// 
.// 
LogError//  
(//  !
HelperService//! .
.//. /
LoggerMessage/// <
(//< =
$str//= M
,//M N
$str//O o
,//o p
	exception//q z
,//z {
article	//| É
)
//É Ñ
)
//Ñ Ö
;
//Ö Ü
return00 
false00 
;00 
}11 
}22 	
public77 
bool77 
UpdateArticle77 !
(77! "
Article77" )
article77* 1
,771 2
int773 6
CurrentUser777 B
)77B C
{88 	
if:: 
(:: 
!:: 

Validation:: 
.:: 
ValidateArticle:: +
(::+ ,
article::, 3
)::3 4
)::4 5
throw::6 ;
new::< ?
ValidationException::@ S
(::S T
$str::T k
)::k l
;::l m
try;; 
{<< 
var== 
ExistingArticle== #
===$ %
database==& .
.==. /
GetArticles==/ :
(==: ;
)==; <
.==< =
ToList=== C
(==C D
)==D E
.==E F
Find==F J
(==J K
Item==K O
=>==P R
Item==S W
.==W X
ArtileId==X `
====a c
article==d k
.==k l
ArtileId==l t
&&==u w
Item==x |
.==| }
ArticleStatusID	==} å
==
==ç è
$num
==ê ë
)
==ë í
;
==í ì
if>> 
(>> 
ExistingArticle>> #
==>>$ &
null>>' +
)>>+ ,
throw>>- 2
new>>3 6!
ItemNotFoundException>>7 L
(>>L M
$">>M O
$str>>O y
{>>y z
article	>>z Å
.
>>Å Ç
ArtileId
>>Ç ä
}
>>ä ã
"
>>ã å
)
>>å ç
;
>>ç é
ExistingArticle?? 
.??  
Title??  %
=??& '
article??( /
.??/ 0
Title??0 5
;??5 6
ExistingArticle@@ 
.@@  
Content@@  '
=@@( )
article@@* 1
.@@1 2
Content@@2 9
;@@9 :
ExistingArticleAA 
.AA  
	UpdatedOnAA  )
=AA* +
DateTimeAA, 4
.AA4 5
NowAA5 8
;AA8 9
ExistingArticleBB 
.BB  
	UpdatedByBB  )
=BB* +
CurrentUserBB, 7
;BB7 8
ExistingArticleCC 
.CC  
ArticleStatusIDCC  /
=CC0 1
articleCC2 9
.CC9 :
ArticleStatusIDCC: I
;CCI J
ExistingArticleDD 
.DD  
ImageDD  %
=DD& '
SystemDD( .
.DD. /
ConvertDD/ 6
.DD6 7
FromBase64StringDD7 G
(DDG H
articleDDH O
.DDO P
ImageStringDDP [
)DD[ \
;DD\ ]
returnGG 
databaseGG 
.GG  
UpdateArticleGG  -
(GG- .
ExistingArticleGG. =
)GG= >
;GG> ?
}HH 
catchJJ 
(JJ 
	ExceptionJJ 
	exceptionJJ &
)JJ& '
{KK 
_loggerLL 
.LL 
LogErrorLL  
(LL  !
HelperServiceLL! .
.LL. /
LoggerMessageLL/ <
(LL< =
$strLL= M
,LLM N
$str	LLO Å
,
LLÅ Ç
	exception
LLÉ å
,
LLå ç
article
LLé ï
)
LLï ñ
)
LLñ ó
;
LLó ò
returnMM 
falseMM 
;MM 
}NN 
}OO 	
publicRR 
boolRR 
ChangeArticleStatusRR '
(RR' (
intRR( +
	ArticleIdRR, 5
,RR5 6
intRR7 :
ArticleStatusIDRR; J
,RRJ K
intRRL O
UpdatedByUserIdRRP _
)RR_ `
{SS 	
ifTT 
(TT 
	ArticleIdTT 
<=TT 
$numTT 
)TT 
throwTT  %
newTT& )
ArgumentExceptionTT* ;
(TT; <
$"TT< >
$strTT> p
{TTp q
	ArticleIdTTq z
}TTz {
"TT{ |
)TT| }
;TT} ~
ifUU 
(UU 
ArticleStatusIDUU 
<=UU  "
$numUU# $
||UU% '
ArticleStatusIDUU( 7
>UU8 9
$numUU: ;
)UU; <
throwUU= B
newUUC F
ArgumentExceptionUUG X
(UUX Y
$"UUY [
$str	UU[ ï
{
UUï ñ
ArticleStatusID
UUñ •
}
UU• ¶
"
UU¶ ß
)
UUß ®
;
UU® ©
tryVV 
{WW 
varXX 
IsAddedSuccfullyXX $
=XX% &
databaseXX' /
.XX/ 0
UpdateArticleXX0 =
(XX= >
	ArticleIdXX> G
,XXG H
ArticleStatusIDXXI X
,XXX Y
UpdatedByUserIdXXZ i
)XXi j
;XXj k
ifYY 
(YY 
IsAddedSuccfullyYY $
)YY$ %
_mailServiceYY& 2
?YY2 3
.YY3 4
SendEmailAsyncYY4 B
(YYB C
HelperServiceYYC P
.YYP Q
ArticleMailYYQ \
(YY\ ]
$strYY] w
,YYw x
$str	YYy Ä
,
YYÄ Å
$str
YYÇ †
,
YY† °
$num
YY¢ £
)
YY£ §
)
YY§ •
;
YY• ¶
returnZZ 
IsAddedSuccfullyZZ '
;ZZ' (
}[[ 
catch\\ 
(\\ 
	Exception\\ 
	exception\\ &
)\\& '
{]] 
_logger^^ 
.^^ 
LogError^^  
(^^  !
HelperService^^! .
.^^. /
LoggerMessage^^/ <
(^^< =
$str^^= M
,^^M N
$str	^^O û
,
^^û ü
	exception
^^† ©
)
^^© ™
,
^^™ ´
	ArticleId
^^¨ µ
,
^^µ ∂
ArticleStatusID
^^∑ ∆
)
^^∆ «
;
^^« »
throw`` 
	exception`` 
;``  
}aa 
}bb 	
publicee 
boolee $
DeleteArticleByArticleIdee ,
(ee, -
intee- 0
	ArticleIdee1 :
)ee: ;
{ff 	
ifgg 
(gg 
	ArticleIdgg 
<=gg 
$numgg 
)gg 
throwgg  %
newgg& )
ArgumentExceptiongg* ;
(gg; <
$"gg< >
$strgg> p
{ggp q
	ArticleIdggq z
}ggz {
"gg{ |
)gg| }
;gg} ~
try	gg Ç
{hh 
returnjj 
databasejj 
.jj  
DeleteArticlejj  -
(jj- .
	ArticleIdjj. 7
)jj7 8
;jj8 9
}kk 
catchll 
(ll 
	Exceptionll 
	exceptionll &
)ll& '
{mm 
_loggernn 
.nn 
LogErrornn  
(nn  !
HelperServicenn! .
.nn. /
LoggerMessagenn/ <
(nn< =
$strnn= M
,nnM N
$strnnO x
,nnx y
	exception	nnz É
,
nnÉ Ñ
	ArticleId
nnÖ é
)
nné è
)
nnè ê
;
nnê ë
returnoo 
falseoo 
;oo 
}pp 
}qq 	
publicss 
objectss 
GetArticleByIdss $
(ss$ %
intss% (
	ArticleIdss) 2
)ss2 3
{tt 	
ifuu 
(uu 
	ArticleIduu 
<=uu 
$numuu 
)uu 
throwuu  %
newuu& )
ArgumentExceptionuu* ;
(uu; <
$"uu< >
$struu> p
{uup q
	ArticleIduuq z
}uuz {
"uu{ |
)uu| }
;uu} ~
tryvv 
{ww 
varxx 
articlexx 
=xx 
databasexx &
.xx& '
GetArticleByIDxx' 5
(xx5 6
	ArticleIdxx6 ?
)xx? @
;xx@ A
returnyy 
newyy 
{zz 
	articleId{{ 
={{ 
article{{  '
.{{' (
ArtileId{{( 0
,{{0 1
PublishedDate|| !
=||" #
article||$ +
.||+ ,
	UpdatedBy||, 5
,||5 6
title}} 
=}} 
article}} #
.}}# $
Title}}$ )
,}}) *

AuthorName~~ 
=~~  
article~~! (
.~~( )
User~~) -
?~~- .
.~~. /
FullName~~/ 7
,~~7 8
content 
= 
article %
.% &
Content& -
,- .
image
ÄÄ 
=
ÄÄ 
article
ÄÄ #
.
ÄÄ# $
Image
ÄÄ$ )
,
ÄÄ) *
Likes
ÅÅ 
=
ÅÅ 
GetLikesCount
ÅÅ )
(
ÅÅ) *
article
ÅÅ* 1
.
ÅÅ1 2
ArtileId
ÅÅ2 :
)
ÅÅ: ;
,
ÅÅ; <
comments
ÇÇ 
=
ÇÇ 
GetComments
ÇÇ *
(
ÇÇ* +
article
ÇÇ+ 2
.
ÇÇ2 3
ArtileId
ÇÇ3 ;
)
ÇÇ; <
,
ÇÇ< =
status
ÉÉ 
=
ÉÉ 
article
ÉÉ $
.
ÉÉ$ %
ArticleStatus
ÉÉ% 2
?
ÉÉ2 3
.
ÉÉ3 4
Status
ÉÉ4 :
,
ÉÉ: ;
}
ÖÖ 
;
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
	exception
áá &
)
áá& '
{
àà 
_logger
ää 
.
ää 
LogError
ää  
(
ää  !
HelperService
ää! .
.
ää. /
LoggerMessage
ää/ <
(
ää< =
$str
ää= M
,
ääM N
$str
ääO n
,
ään o
	exception
ääp y
,
ääy z
	ArticleIdää{ Ñ
)ääÑ Ö
)ääÖ Ü
;ääÜ á
throw
åå 
	exception
åå 
;
åå  
}
çç 
}
èè 	
public
ëë 
IEnumerable
ëë 
<
ëë 
object
ëë !
>
ëë! "
GetLatestArticles
ëë# 4
(
ëë4 5
)
ëë5 6
{
íí 	
try
ìì 
{
îî 
var
ïï 
ListOfArticles
ïï "
=
ïï# $
GetArticles
ïï% 0
(
ïï0 1
)
ïï1 2
.
ïï2 3
OrderByDescending
ïï3 D
(
ïïD E
article
ïïE L
=>
ïïM O
article
ïïP W
.
ïïW X
	CreatedOn
ïïX a
)
ïïa b
;
ïïb c
return
ññ 
ListOfArticles
ññ %
.
ññ% &
Select
ññ& ,
(
ññ, -
Article
ññ- 4
=>
ññ5 7
new
ññ8 ;
{
óó 
	ArticleId
òò 
=
òò 
Article
òò  '
.
òò' (
ArtileId
òò( 0
,
òò0 1
title
ôô 
=
ôô 
Article
ôô #
.
ôô# $
Title
ôô$ )
,
ôô) *

AuthorName
öö 
=
öö  
Article
öö! (
.
öö( )
User
öö) -
?
öö- .
.
öö. /
FullName
öö/ 7
,
öö7 8
content
õõ 
=
õõ 
Article
õõ %
.
õõ% &
Content
õõ& -
,
õõ- .
image
úú 
=
úú 
Article
úú #
.
úú# $
Image
úú$ )
,
úú) *
date
ùù 
=
ùù 
Article
ùù "
.
ùù" #
	UpdatedOn
ùù# ,
,
ùù, -
status
ûû 
=
ûû 
Article
ûû $
.
ûû$ %
ArticleStatus
ûû% 2
?
ûû2 3
.
ûû3 4
Status
ûû4 :
,
ûû: ;
}
†† 
)
†† 
;
†† 
}
°° 
catch
££ 
(
££ 
	Exception
££ 
	exception
££ &
)
££& '
{
§§ 
_logger
•• 
.
•• 
LogError
••  
(
••  !
HelperService
••! .
.
••. /
LoggerMessage
••/ <
(
••< =
$str
••= M
,
••M N
$str
••O d
,
••d e
	exception
••f o
)
••o p
)
••p q
;
••q r
throw
¶¶ 
	exception
¶¶ 
;
¶¶  
}
ßß 
}
®® 	
public
´´ 
IEnumerable
´´ 
<
´´ 
Object
´´ !
>
´´! "!
GetTrendingArticles
´´# 6
(
´´6 7
)
´´7 8
{
¨¨ 	
try
≠≠ 
{
ÆÆ 
var
ØØ 
data
ØØ 
=
ØØ 
(
ØØ 
database
ØØ $
.
ØØ$ %
GetLikes
ØØ% -
(
ØØ- .
)
ØØ. /
.
ØØ/ 0
GroupBy
ØØ0 7
(
ØØ7 8
item
ØØ8 <
=>
ØØ= ?
item
ØØ@ D
.
ØØD E
	ArticleId
ØØE N
)
ØØN O
)
ØØO P
.
ØØP Q
OrderByDescending
ØØQ b
(
ØØb c
item
ØØc g
=>
ØØh j
item
ØØk o
.
ØØo p
Count
ØØp u
(
ØØu v
)
ØØv w
)
ØØw x
;
ØØx y
var
±± 
ListOfArticleId
±± #
=
±±$ %
(
±±& '
from
±±' +
item
±±, 0
in
±±1 3
data
±±4 8
select
±±9 ?
item
±±@ D
.
±±D E
First
±±E J
(
±±J K
)
±±K L
.
±±L M
	ArticleId
±±M V
)
±±V W
.
±±W X
ToList
±±X ^
(
±±^ _
)
±±_ `
;
±±` a
var
≤≤ 
ListOfArticles
≤≤ "
=
≤≤# $
GetArticles
≤≤% 0
(
≤≤0 1
)
≤≤1 2
.
≤≤2 3
ToList
≤≤3 9
(
≤≤9 :
)
≤≤: ;
;
≤≤; <
var
≥≥ 
TrendingArticles
≥≥ $
=
≥≥% &
new
≥≥' *
List
≥≥+ /
<
≥≥/ 0
Article
≥≥0 7
>
≥≥7 8
(
≥≥8 9
)
≥≥9 :
;
≥≥: ;
foreach
¥¥ 
(
¥¥ 
var
¥¥ 
Id
¥¥ 
in
¥¥  "
ListOfArticleId
¥¥# 2
)
¥¥2 3
{
µµ 
TrendingArticles
∂∂ $
.
∂∂$ %
Add
∂∂% (
(
∂∂( )
ListOfArticles
∂∂) 7
.
∂∂7 8
Find
∂∂8 <
(
∂∂< =
item
∂∂= A
=>
∂∂B D
item
∂∂E I
.
∂∂I J
ArtileId
∂∂J R
==
∂∂S U
Id
∂∂V X
)
∂∂X Y
)
∂∂Y Z
;
∂∂Z [
}
∑∑ 
return
∏∏ 
TrendingArticles
∏∏ '
.
∏∏' (
Select
∏∏( .
(
∏∏. /
Article
∏∏/ 6
=>
∏∏7 9
new
∏∏: =
{
ππ 
	ArticleId
∫∫ 
=
∫∫ 
Article
∫∫  '
.
∫∫' (
ArtileId
∫∫( 0
,
∫∫0 1
title
ªª 
=
ªª 
Article
ªª #
.
ªª# $
Title
ªª$ )
,
ªª) *

AuthorName
ºº 
=
ºº  
Article
ºº! (
.
ºº( )
User
ºº) -
?
ºº- .
.
ºº. /
FullName
ºº/ 7
,
ºº7 8
content
ΩΩ 
=
ΩΩ 
Article
ΩΩ %
.
ΩΩ% &
Content
ΩΩ& -
,
ΩΩ- .
image
ææ 
=
ææ 
Article
ææ #
.
ææ# $
Image
ææ$ )
,
ææ) *
date
øø 
=
øø 
Article
øø "
.
øø" #
	UpdatedOn
øø# ,
,
øø, -
status
¿¿ 
=
¿¿ 
Article
¿¿ $
.
¿¿$ %
ArticleStatus
¿¿% 2
?
¿¿2 3
.
¿¿3 4
Status
¿¿4 :
,
¿¿: ;
}
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
	exception
ƒƒ &
)
ƒƒ& '
{
≈≈ 
_logger
∆∆ 
.
∆∆ 
LogError
∆∆  
(
∆∆  !
HelperService
∆∆! .
.
∆∆. /
LoggerMessage
∆∆/ <
(
∆∆< =
$str
∆∆= M
,
∆∆M N
$str
∆∆O f
,
∆∆f g
	exception
∆∆h q
)
∆∆q r
)
∆∆r s
;
∆∆s t
throw
«« 
	exception
«« 
;
««  
}
»» 
}
…… 	
public
ÃÃ 
IEnumerable
ÃÃ 
<
ÃÃ 
object
ÃÃ !
>
ÃÃ! "!
GetArticlesByUserId
ÃÃ# 6
(
ÃÃ6 7
int
ÃÃ7 :
UserId
ÃÃ; A
)
ÃÃA B
{
ÕÕ 	
if
ŒŒ 
(
ŒŒ 
UserId
ŒŒ 
<=
ŒŒ 
$num
ŒŒ 
)
ŒŒ 
throw
ŒŒ "
new
ŒŒ# &
ArgumentException
ŒŒ' 8
(
ŒŒ8 9
$"
ŒŒ9 ;
$str
ŒŒ; g
{
ŒŒg h
UserId
ŒŒh n
}
ŒŒn o
"
ŒŒo p
)
ŒŒp q
;
ŒŒq r
try
œœ 
{
–– 
var
—— 
ListOfArticles
—— "
=
——# $
database
——% -
.
——- .
GetArticles
——. 9
(
——9 :
)
——: ;
.
——; <
Where
——< A
(
——A B
item
——B F
=>
——G I
item
——J N
.
——N O
	CreatedBy
——O X
==
——Y [
UserId
——\ b
)
——b c
.
——c d
ToList
——d j
(
——j k
)
——k l
;
——l m
return
““ 
ListOfArticles
““ %
.
““% &
Select
““& ,
(
““, -
Article
““- 4
=>
““5 7
new
““8 ;
{
”” 
	ArticleId
‘‘ 
=
‘‘ 
Article
‘‘  '
.
‘‘' (
ArtileId
‘‘( 0
,
‘‘0 1
title
’’ 
=
’’ 
Article
’’ #
.
’’# $
Title
’’$ )
,
’’) *

AuthorName
÷÷ 
=
÷÷  
Article
÷÷! (
.
÷÷( )
User
÷÷) -
?
÷÷- .
.
÷÷. /
FullName
÷÷/ 7
,
÷÷7 8
content
◊◊ 
=
◊◊ 
Article
◊◊ %
.
◊◊% &
Content
◊◊& -
,
◊◊- .
image
ÿÿ 
=
ÿÿ 
Article
ÿÿ #
.
ÿÿ# $
Image
ÿÿ$ )
,
ÿÿ) *
date
ŸŸ 
=
ŸŸ 
Article
ŸŸ "
.
ŸŸ" #
	UpdatedOn
ŸŸ# ,
,
ŸŸ, -
status
⁄⁄ 
=
⁄⁄ 
Article
⁄⁄ $
.
⁄⁄$ %
ArticleStatus
⁄⁄% 2
?
⁄⁄2 3
.
⁄⁄3 4
Status
⁄⁄4 :
,
⁄⁄: ;
}
‹‹ 
)
‹‹ 
;
‹‹ 
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ 
	Exception
ﬂﬂ 
	exception
ﬂﬂ &
)
ﬂﬂ& '
{
‡‡ 
_logger
‚‚ 
.
‚‚ 
LogError
‚‚  
(
‚‚  !
HelperService
‚‚! .
.
‚‚. /
LoggerMessage
‚‚/ <
(
‚‚< =
$str
‚‚= M
,
‚‚M N
$str
‚‚O p
,
‚‚p q
	exception
‚‚r {
,
‚‚{ |
UserId‚‚} É
)‚‚É Ñ
)‚‚Ñ Ö
;‚‚Ö Ü
throw
‰‰ 
	exception
‰‰ 
;
‰‰  
}
ÂÂ 
}
ÁÁ 	
private
ÍÍ 
IEnumerable
ÍÍ 
<
ÍÍ 
Article
ÍÍ #
>
ÍÍ# $
GetArticles
ÍÍ% 0
(
ÍÍ0 1
)
ÍÍ1 2
{
ÎÎ 	
try
ÌÌ 
{
ÓÓ 
var
ÔÔ 
ListOfArticles
ÔÔ "
=
ÔÔ# $
database
ÔÔ% -
.
ÔÔ- .
GetArticles
ÔÔ. 9
(
ÔÔ9 :
)
ÔÔ: ;
.
ÔÔ; <
Where
ÔÔ< A
(
ÔÔA B
item
ÔÔB F
=>
ÔÔG I
item
ÔÔJ N
.
ÔÔN O
ArticleStatusID
ÔÔO ^
==
ÔÔ_ a
$num
ÔÔb c
)
ÔÔc d
;
ÔÔd e
return
 
ListOfArticles
 %
;
% &
}
ÒÒ 
catch
ÛÛ 
(
ÛÛ 
	Exception
ÛÛ 
	exception
ÛÛ &
)
ÛÛ& '
{
ÙÙ 
_logger
ıı 
.
ıı 
LogError
ıı  
(
ıı  !
HelperService
ıı! .
.
ıı. /
LoggerMessage
ıı/ <
(
ıı< =
$str
ıı= M
,
ııM N
$str
ııO ^
,
ıı^ _
	exception
ıı` i
)
ııi j
)
ııj k
;
ıık l
throw
ˆˆ 
	exception
ˆˆ 
;
ˆˆ  
}
˜˜ 
}
˙˙ 	
public
˚˚ 
IEnumerable
˚˚ 
<
˚˚ 
Article
˚˚ "
>
˚˚" #
GetAll
˚˚$ *
(
˚˚* +
)
˚˚+ ,
{
¸¸ 	
try
˛˛ 
{
ˇˇ 
var
ÄÄ 
ListOfArticles
ÄÄ "
=
ÄÄ# $
database
ÄÄ% -
.
ÄÄ- .
GetArticles
ÄÄ. 9
(
ÄÄ9 :
)
ÄÄ: ;
;
ÄÄ; <
return
ÅÅ 
ListOfArticles
ÅÅ %
;
ÅÅ% &
}
ÇÇ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
	exception
ÑÑ &
)
ÑÑ& '
{
ÖÖ 
_logger
ÜÜ 
.
ÜÜ 
LogError
ÜÜ  
(
ÜÜ  !
HelperService
ÜÜ! .
.
ÜÜ. /
LoggerMessage
ÜÜ/ <
(
ÜÜ< =
$str
ÜÜ= M
,
ÜÜM N
$str
ÜÜO Y
,
ÜÜY Z
	exception
ÜÜ[ d
)
ÜÜd e
)
ÜÜe f
;
ÜÜf g
throw
áá 
	exception
áá 
;
áá  
}
àà 
}
ãã 	
public
éé 
IEnumerable
éé 
<
éé 
Object
éé !
>
éé! "
GetListOfArticles
éé# 4
(
éé4 5
)
éé5 6
{
èè 	
try
ëë 
{
íí 
var
ìì 
ListOfArticles
ìì "
=
ìì# $
GetArticles
ìì% 0
(
ìì0 1
)
ìì1 2
.
ìì2 3
Where
ìì3 8
(
ìì8 9
Item
ìì9 =
=>
ìì> @
Item
ììA E
.
ììE F
	IsPrivate
ììF O
==
ììP R
false
ììS X
)
ììX Y
;
ììY Z
return
îî 
ListOfArticles
îî %
.
îî% &
Select
îî& ,
(
îî, -
Article
îî- 4
=>
îî5 7
new
îî8 ;
{
ïï 
	ArticleId
ññ 
=
ññ 
Article
ññ  '
.
ññ' (
ArtileId
ññ( 0
,
ññ0 1
title
óó 
=
óó 
Article
óó #
.
óó# $
Title
óó$ )
,
óó) *

AuthorName
òò 
=
òò  
Article
òò! (
.
òò( )
User
òò) -
?
òò- .
.
òò. /
FullName
òò/ 7
,
òò7 8
content
ôô 
=
ôô 
Article
ôô %
.
ôô% &
Content
ôô& -
,
ôô- .
image
öö 
=
öö 
Article
öö #
.
öö# $
Image
öö$ )
,
öö) *
date
õõ 
=
õõ 
Article
õõ "
.
õõ" #
	UpdatedOn
õõ# ,
,
õõ, -
status
úú 
=
úú 
Article
úú $
.
úú$ %
ArticleStatus
úú% 2
?
úú2 3
.
úú3 4
Status
úú4 :
,
úú: ;
}
ûû 
)
ûû 
;
ûû 
}
üü 
catch
°° 
(
°° 
	Exception
°° 
	exception
°° &
)
°°& '
{
¢¢ 
_logger
££ 
.
££ 
LogError
££  
(
££  !
HelperService
££! .
.
££. /
LoggerMessage
££/ <
(
££< =
$str
££= M
,
££M N
$str
££O ^
,
££^ _
	exception
££` i
)
££i j
)
££j k
;
££k l
throw
§§ 
	exception
§§ 
;
§§  
}
•• 
}
®® 	
public
™™ 
IEnumerable
™™ 
<
™™ 
Object
™™ !
>
™™! " 
GetPrivateArticles
™™# 5
(
™™5 6
int
™™6 9
UserId
™™: @
)
™™@ A
{
´´ 	
try
≠≠ 
{
ÆÆ 
var
ØØ #
ListOfPrivateArticles
ØØ )
=
ØØ* +
database
ØØ, 4
.
ØØ4 5 
GetPrivateArticles
ØØ5 G
(
ØØG H
)
ØØH I
.
ØØI J
Where
ØØJ O
(
ØØO P
Item
ØØP T
=>
ØØU W
Item
ØØX \
.
ØØ\ ]
UserId
ØØ] c
==
ØØd f
UserId
ØØg m
)
ØØm n
;
ØØn o
return
∞∞ #
ListOfPrivateArticles
∞∞ ,
.
∞∞, -
Select
∞∞- 3
(
∞∞3 4
PrivateArticle
∞∞4 B
=>
∞∞C E
GetArticleById
∞∞F T
(
∞∞T U
PrivateArticle
∞∞U c
.
∞∞c d
	ArticleId
∞∞d m
)
∞∞m n
)
∞∞n o
;
∞∞o p
}
±± 
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
	exception
≥≥ &
)
≥≥& '
{
¥¥ 
_logger
µµ 
.
µµ 
LogError
µµ  
(
µµ  !
HelperService
µµ! .
.
µµ. /
LoggerMessage
µµ/ <
(
µµ< =
$str
µµ= M
,
µµM N
$str
µµO o
,
µµo p
	exception
µµq z
)
µµz {
)
µµ{ |
;
µµ| }
throw
∂∂ 
	exception
∂∂ 
;
∂∂  
}
∑∑ 
}
∫∫ 	
public
ææ 
IEnumerable
ææ 
<
ææ 
object
ææ !
>
ææ! " 
GetArticlesByTitle
ææ# 5
(
ææ5 6
string
ææ6 <
Title
ææ= B
)
ææB C
{
øø 	
if
¿¿ 
(
¿¿ 
String
¿¿ 
.
¿¿ 
IsNullOrEmpty
¿¿ $
(
¿¿$ %
Title
¿¿% *
)
¿¿* +
)
¿¿+ ,
throw
¿¿- 2
new
¿¿3 6!
ValidationException
¿¿7 J
(
¿¿J K
$str
¿¿K r
)
¿¿r s
;
¿¿s t
try
¡¡ 
{
¬¬ 
var
√√ 
ListOfArticles
√√ "
=
√√# $
GetArticles
√√% 0
(
√√0 1
)
√√1 2
.
√√2 3
Where
√√3 8
(
√√8 9
article
√√9 @
=>
√√A C
article
√√D K
.
√√K L
Title
√√L Q
.
√√Q R
Contains
√√R Z
(
√√Z [
Title
√√[ `
)
√√` a
)
√√a b
;
√√b c
return
ƒƒ 
ListOfArticles
ƒƒ %
.
ƒƒ% &
Select
ƒƒ& ,
(
ƒƒ, -
Article
ƒƒ- 4
=>
ƒƒ5 7
new
ƒƒ8 ;
{
≈≈ 
	ArticleId
∆∆ 
=
∆∆ 
Article
∆∆  '
.
∆∆' (
ArtileId
∆∆( 0
,
∆∆0 1
title
«« 
=
«« 
Article
«« #
.
««# $
Title
««$ )
,
««) *

AuthorName
»» 
=
»»  
Article
»»! (
.
»»( )
User
»») -
?
»»- .
.
»». /
FullName
»»/ 7
,
»»7 8
content
…… 
=
…… 
Article
…… %
.
……% &
Content
……& -
,
……- .
image
   
=
   
Article
   #
.
  # $
Image
  $ )
,
  ) *
date
ÀÀ 
=
ÀÀ 
Article
ÀÀ "
.
ÀÀ" #
	UpdatedOn
ÀÀ# ,
,
ÀÀ, -
status
ÃÃ 
=
ÃÃ 
Article
ÃÃ $
.
ÃÃ$ %
ArticleStatus
ÃÃ% 2
?
ÃÃ2 3
.
ÃÃ3 4
Status
ÃÃ4 :
,
ÃÃ: ;
}
ŒŒ 
)
ŒŒ 
;
ŒŒ 
}
œœ 
catch
–– 
(
–– 
	Exception
–– 
	exception
–– &
)
––& '
{
—— 
_logger
”” 
.
”” 
LogError
””  
(
””  !
HelperService
””! .
.
””. /
LoggerMessage
””/ <
(
””< =
$str
””= M
,
””M N
$str
””O q
,
””q r
	exception
””s |
,
””| }
Title””~ É
)””É Ñ
)””Ñ Ö
;””Ö Ü
throw
’’ 
	exception
’’ 
;
’’  
}
÷÷ 
}
ÿÿ 	
public
‹‹ 
IEnumerable
‹‹ 
<
‹‹ 
object
‹‹ !
>
‹‹! "!
GetArticlesByAuthor
‹‹# 6
(
‹‹6 7
string
‹‹7 =

AuthorName
‹‹> H
)
‹‹H I
{
›› 	
if
ﬁﬁ 
(
ﬁﬁ 
String
ﬁﬁ 
.
ﬁﬁ 
IsNullOrEmpty
ﬁﬁ $
(
ﬁﬁ$ %

AuthorName
ﬁﬁ% /
)
ﬁﬁ/ 0
)
ﬁﬁ0 1
throw
ﬁﬁ2 7
new
ﬁﬁ8 ;#
ArgumentNullException
ﬁﬁ< Q
(
ﬁﬁQ R
$str
ﬁﬁR r
)
ﬁﬁr s
;
ﬁﬁs t
try
ﬂﬂ 
{
‡‡ 
var
·· 
ListOfArticles
·· "
=
··# $
GetArticles
··% 0
(
··0 1
)
··1 2
.
··2 3
Where
··3 8
(
··8 9
article
··9 @
=>
··A C
article
··D K
.
··K L
User
··L P
.
··P Q
FullName
··Q Y
.
··Y Z
Contains
··Z b
(
··b c

AuthorName
··c m
)
··m n
)
··n o
;
··o p
return
‚‚ 
ListOfArticles
‚‚ %
.
‚‚% &
Select
‚‚& ,
(
‚‚, -
Article
‚‚- 4
=>
‚‚5 7
new
‚‚8 ;
{
„„ 
	ArticleId
‰‰ 
=
‰‰ 
Article
‰‰  '
.
‰‰' (
ArtileId
‰‰( 0
,
‰‰0 1
title
ÂÂ 
=
ÂÂ 
Article
ÂÂ #
.
ÂÂ# $
Title
ÂÂ$ )
,
ÂÂ) *

AuthorName
ÊÊ 
=
ÊÊ  
Article
ÊÊ! (
.
ÊÊ( )
User
ÊÊ) -
?
ÊÊ- .
.
ÊÊ. /
FullName
ÊÊ/ 7
,
ÊÊ7 8
content
ÁÁ 
=
ÁÁ 
Article
ÁÁ %
.
ÁÁ% &
Content
ÁÁ& -
,
ÁÁ- .
image
ËË 
=
ËË 
Article
ËË #
.
ËË# $
Image
ËË$ )
,
ËË) *
date
ÈÈ 
=
ÈÈ 
Article
ÈÈ "
.
ÈÈ" #
	UpdatedOn
ÈÈ# ,
,
ÈÈ, -
status
ÍÍ 
=
ÍÍ 
Article
ÍÍ $
.
ÍÍ$ %
ArticleStatus
ÍÍ% 2
?
ÍÍ2 3
.
ÍÍ3 4
Status
ÍÍ4 :
,
ÍÍ: ;
}
ÏÏ 
)
ÏÏ 
;
ÏÏ 
}
ÌÌ 
catch
ÓÓ 
(
ÓÓ 
	Exception
ÓÓ 
	exception
ÓÓ &
)
ÓÓ& '
{
ÔÔ 
_logger
ÒÒ 
.
ÒÒ 
LogError
ÒÒ  
(
ÒÒ  !
HelperService
ÒÒ! .
.
ÒÒ. /
LoggerMessage
ÒÒ/ <
(
ÒÒ< =
$str
ÒÒ= M
,
ÒÒM N
$str
ÒÒO w
,
ÒÒw x
	exceptionÒÒy Ç
,ÒÒÇ É

AuthorNameÒÒÑ é
)ÒÒé è
)ÒÒè ê
;ÒÒê ë
throw
ÛÛ 
	exception
ÛÛ 
;
ÛÛ  
}
ÙÙ 
}
ˆˆ 	
public
˘˘ 
IEnumerable
˘˘ 
<
˘˘ 
object
˘˘ !
>
˘˘! "%
GetArticlesByReviewerId
˘˘# :
(
˘˘: ;
int
˘˘; >

ReviewerId
˘˘? I
)
˘˘I J
{
˙˙ 	
if
˚˚ 
(
˚˚ 

ReviewerId
˚˚ 
<=
˚˚ 
$num
˚˚ 
)
˚˚  
throw
˚˚! &
new
˚˚' *
ArgumentException
˚˚+ <
(
˚˚< =
$"
˚˚= ?
$str
˚˚? r
{
˚˚r s

ReviewerId
˚˚s }
}
˚˚} ~
"
˚˚~ 
)˚˚ Ä
;˚˚Ä Å
try
¸¸ 
{
˝˝ 
var
˛˛ 
ListOfArticles
˛˛ "
=
˛˛# $
GetArticles
˛˛% 0
(
˛˛0 1
)
˛˛1 2
.
˛˛2 3
Where
˛˛3 8
(
˛˛8 9
article
˛˛9 @
=>
˛˛A C
article
˛˛D K
.
˛˛K L

ReviewerId
˛˛L V
==
˛˛W Y

ReviewerId
˛˛Z d
)
˛˛d e
;
˛˛e f
return
ˇˇ 
ListOfArticles
ˇˇ %
.
ˇˇ% &
Select
ˇˇ& ,
(
ˇˇ, -
Article
ˇˇ- 4
=>
ˇˇ5 7
new
ˇˇ8 ;
{
ÄÄ 
	ArticleId
ÅÅ 
=
ÅÅ 
Article
ÅÅ  '
.
ÅÅ' (
ArtileId
ÅÅ( 0
,
ÅÅ0 1
title
ÇÇ 
=
ÇÇ 
Article
ÇÇ #
.
ÇÇ# $
Title
ÇÇ$ )
,
ÇÇ) *

AuthorName
ÉÉ 
=
ÉÉ  
Article
ÉÉ! (
.
ÉÉ( )
User
ÉÉ) -
?
ÉÉ- .
.
ÉÉ. /
FullName
ÉÉ/ 7
,
ÉÉ7 8
content
ÑÑ 
=
ÑÑ 
Article
ÑÑ %
.
ÑÑ% &
Content
ÑÑ& -
,
ÑÑ- .
image
ÖÖ 
=
ÖÖ 
Article
ÖÖ #
.
ÖÖ# $
Image
ÖÖ$ )
,
ÖÖ) *
date
ÜÜ 
=
ÜÜ 
Article
ÜÜ "
.
ÜÜ" #
	UpdatedOn
ÜÜ# ,
,
ÜÜ, -
status
áá 
=
áá 
Article
áá $
.
áá$ %
ArticleStatus
áá% 2
?
áá2 3
.
áá3 4
Status
áá4 :
,
áá: ;
}
ââ 
)
ââ 
;
ââ 
}
ää 
catch
ãã 
(
ãã 
	Exception
ãã 
	exception
ãã &
)
ãã& '
{
åå 
_logger
éé 
.
éé 
LogError
éé  
(
éé  !
HelperService
éé! .
.
éé. /
LoggerMessage
éé/ <
(
éé< =
$str
éé= M
,
ééM N
$str
ééO y
,
ééy z
	exceptionéé{ Ñ
,ééÑ Ö

ReviewerIdééÜ ê
)ééê ë
)ééë í
;ééí ì
throw
êê 
	exception
êê 
;
êê  
}
ëë 
}
ìì 	
public
ññ 
IEnumerable
ññ 
<
ññ 
object
ññ !
>
ññ! "*
GetArticlesByArticleStatusId
ññ# ?
(
ññ? @
int
ññ@ C
ArticleStatusID
ññD S
)
ññS T
{
óó 	
if
ôô 
(
ôô 
ArticleStatusID
ôô 
<=
ôô  "
$num
ôô# $
||
ôô% '
ArticleStatusID
ôô( 7
>
ôô8 9
$num
ôô: ;
)
ôô; <
throw
ôô= B
new
ôôC F
ArgumentException
ôôG X
(
ôôX Y
$"
ôôY [
$strôô[ ï
{ôôï ñ
ArticleStatusIDôôñ •
}ôô• ¶
"ôô¶ ß
)ôôß ®
;ôô® ©
try
öö 
{
õõ 
var
ùù 
ListOfArticles
ùù "
=
ùù# $
database
ùù% -
.
ùù- .
GetArticles
ùù. 9
(
ùù9 :
)
ùù: ;
.
ùù; <
Where
ùù< A
(
ùùA B
item
ùùB F
=>
ùùG I
item
ùùJ N
.
ùùN O
ArticleStatusID
ùùO ^
==
ùù_ a
ArticleStatusID
ùùb q
)
ùùq r
.
ùùr s
ToList
ùùs y
(
ùùy z
)
ùùz {
;
ùù{ |
if
ûû 
(
ûû 
ArticleStatusID
ûû #
==
ûû$ &
$num
ûû' (
)
ûû( )
ListOfArticles
ûû* 8
.
ûû8 9
Where
ûû9 >
(
ûû> ?
Item
ûû? C
=>
ûûD F
Item
ûûG K
.
ûûK L
ArticleStatusID
ûûL [
==
ûû\ ^
$num
ûû_ `
)
ûû` a
;
ûûa b
return
üü 
ListOfArticles
üü %
.
üü% &
Select
üü& ,
(
üü, -
Article
üü- 4
=>
üü5 7
new
üü8 ;
{
†† 
	ArticleId
°° 
=
°° 
Article
°°  '
.
°°' (
ArtileId
°°( 0
,
°°0 1
title
¢¢ 
=
¢¢ 
Article
¢¢ #
.
¢¢# $
Title
¢¢$ )
,
¢¢) *

AuthorName
££ 
=
££  
Article
££! (
.
££( )
User
££) -
?
££- .
.
££. /
FullName
££/ 7
,
££7 8
content
§§ 
=
§§ 
Article
§§ %
.
§§% &
Content
§§& -
,
§§- .
image
•• 
=
•• 
Article
•• #
.
••# $
Image
••$ )
,
••) *
date
¶¶ 
=
¶¶ 
Article
¶¶ "
.
¶¶" #
	UpdatedOn
¶¶# ,
,
¶¶, -
status
ßß 
=
ßß 
Article
ßß $
.
ßß$ %
ArticleStatus
ßß% 2
?
ßß2 3
.
ßß3 4
Status
ßß4 :
,
ßß: ;
}
©© 
)
©© 
;
©© 
}
™™ 
catch
´´ 
(
´´ 
	Exception
´´ 
	exception
´´ &
)
´´& '
{
¨¨ 
_logger
≠≠ 
.
≠≠ 
LogError
≠≠  
(
≠≠  !
HelperService
≠≠! .
.
≠≠. /
LoggerMessage
≠≠/ <
(
≠≠< =
$str
≠≠= M
,
≠≠M N
$str≠≠O Ç
,≠≠Ç É
	exception≠≠Ñ ç
)≠≠ç é
,≠≠é è
ArticleStatusID≠≠ê ü
)≠≠ü †
;≠≠† °
throw
ØØ 
	exception
ØØ 
;
ØØ  
}
∞∞ 
}
≤≤ 	
public
∂∂ 
bool
∂∂ 
CreateComment
∂∂ !
(
∂∂! "
ArticleComment
∂∂" 0
comment
∂∂1 8
)
∂∂8 9
{
∑∑ 	

Validation
∏∏ 
.
∏∏ $
ValidateArticleComment
∏∏ -
(
∏∏- .
comment
∏∏. 5
)
∏∏5 6
;
∏∏6 7
try
ππ 
{
∫∫ 
comment
ªª 
.
ªª 
	CreatedBy
ªª !
=
ªª" #
comment
ªª$ +
.
ªª+ ,
UserId
ªª, 2
;
ªª2 3
var
ºº #
IsCommentSuccessfully
ºº )
=
ºº* +
database
ºº, 4
.
ºº4 5

AddComment
ºº5 ?
(
ºº? @
comment
ºº@ G
)
ººG H
;
ººH I
if
ΩΩ 
(
ΩΩ #
IsCommentSuccessfully
ΩΩ )
)
ΩΩ) *
_mailService
ΩΩ+ 7
?
ΩΩ7 8
.
ΩΩ8 9
SendEmailAsync
ΩΩ9 G
(
ΩΩG H
HelperService
ΩΩH U
.
ΩΩU V
CommentMail
ΩΩV a
(
ΩΩa b
$strΩΩb Ö
,ΩΩÖ Ü
$strΩΩá é
,ΩΩé è
$strΩΩê Æ
)ΩΩÆ Ø
)ΩΩØ ∞
;ΩΩ∞ ±
return
ææ #
IsCommentSuccessfully
ææ ,
;
ææ, -
}
øø 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
	exception
¿¿ &
)
¿¿& '
{
¡¡ 
_logger
¬¬ 
.
¬¬ 
LogError
¬¬  
(
¬¬  !
HelperService
¬¬! .
.
¬¬. /
LoggerMessage
¬¬/ <
(
¬¬< =
$str
¬¬= M
,
¬¬M N
$str
¬¬O `
,
¬¬` a
	exception
¬¬b k
)
¬¬k l
,
¬¬l m
comment
¬¬n u
)
¬¬u v
;
¬¬v w
return
√√ 
false
√√ 
;
√√ 
}
ƒƒ 
}
≈≈ 	
public
»» 
IEnumerable
»» 
<
»» 
Object
»» !
>
»»! "
GetComments
»»# .
(
»». /
int
»»/ 2
	ArticleId
»»3 <
)
»»< =
{
…… 	
if
   
(
   
	ArticleId
   
<=
   
$num
   
)
   
throw
    %
new
  & )
ArgumentException
  * ;
(
  ; <
$"
  < >
$str
  > p
{
  p q
	ArticleId
  q z
}
  z {
"
  { |
)
  | }
;
  } ~
try
ÀÀ 
{
ÃÃ 
var
ÕÕ 
ListOfComments
ÕÕ "
=
ÕÕ# $
database
ÕÕ% -
.
ÕÕ- .
GetComments
ÕÕ. 9
(
ÕÕ9 :
)
ÕÕ: ;
.
ÕÕ; <
Where
ÕÕ< A
(
ÕÕA B
comment
ÕÕB I
=>
ÕÕJ L
comment
ÕÕM T
.
ÕÕT U
	ArticleId
ÕÕU ^
==
ÕÕ_ a
	ArticleId
ÕÕb k
)
ÕÕk l
;
ÕÕl m
return
ŒŒ 
ListOfComments
ŒŒ %
.
ŒŒ% &
Select
ŒŒ& ,
(
ŒŒ, -
Item
ŒŒ- 1
=>
ŒŒ2 4
new
ŒŒ5 8
{
œœ 
	CommentId
–– 
=
–– 
Item
––  $
.
––$ %
ArticleCommentId
––% 5
,
––5 6
Message
—— 
=
—— 
Item
—— "
.
——" #
Comment
——# *
,
——* +
Name
““ 
=
““ 
Item
““ 
.
““  
User
““  $
?
““$ %
.
““% &
FullName
““& .
,
““. /
	ArticleId
”” 
=
”” 
Item
””  $
.
””$ %
	ArticleId
””% .
}
’’ 
)
’’ 
;
’’ 
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
	exception
ÿÿ &
)
ÿÿ& '
{
ŸŸ 
_logger
⁄⁄ 
.
⁄⁄ 
LogError
⁄⁄  
(
⁄⁄  !
HelperService
⁄⁄! .
.
⁄⁄. /
LoggerMessage
⁄⁄/ <
(
⁄⁄< =
$str
⁄⁄= M
,
⁄⁄M N
$str
⁄⁄O ^
,
⁄⁄^ _
	exception
⁄⁄` i
,
⁄⁄i j
	ArticleId
⁄⁄k t
)
⁄⁄t u
)
⁄⁄u v
;
⁄⁄v w
throw
€€ 
	exception
€€ 
;
€€  
}
‹‹ 
}
›› 	
public
·· 
bool
·· 
AddLikeToArticle
·· $
(
··$ %
ArticleLike
··% 0
Like
··1 5
)
··5 6
{
‚‚ 	
if
‚‚ 
(
‚‚ 
Like
‚‚ 
==
‚‚ 
null
‚‚ 
)
‚‚ 
throw
‚‚  
new
‚‚! $
ArgumentException
‚‚% 6
(
‚‚6 7
$str
‚‚7 Z
)
‚‚Z [
;
‚‚[ \
if
„„ 
(
„„ 
Like
„„ 
.
„„ 
	ArticleId
„„ 
<=
„„ !
$num
„„" #
)
„„# $
throw
„„% *
new
„„+ .
ArgumentException
„„/ @
(
„„@ A
$"
„„A C
$str
„„C u
{
„„u v
Like
„„v z
.
„„z {
	ArticleId„„{ Ñ
}„„Ñ Ö
"„„Ö Ü
)„„Ü á
;„„á à
if
‰‰ 
(
‰‰ 
Like
‰‰ 
.
‰‰ 
UserId
‰‰ 
<=
‰‰ 
$num
‰‰  
)
‰‰  !
throw
‰‰" '
new
‰‰( +
ArgumentException
‰‰, =
(
‰‰= >
$"
‰‰> @
$str
‰‰@ l
{
‰‰l m
Like
‰‰m q
.
‰‰q r
UserId
‰‰r x
}
‰‰x y
"
‰‰y z
)
‰‰z {
;
‰‰{ |
try
ÂÂ 
{
ÊÊ 
if
ÁÁ 
(
ÁÁ 
database
ÁÁ 
.
ÁÁ 
GetLikes
ÁÁ %
(
ÁÁ% &
)
ÁÁ& '
.
ÁÁ' (
ToList
ÁÁ( .
(
ÁÁ. /
)
ÁÁ/ 0
.
ÁÁ0 1
Find
ÁÁ1 5
(
ÁÁ5 6
item
ÁÁ6 :
=>
ÁÁ; =
item
ÁÁ> B
.
ÁÁB C
UserId
ÁÁC I
==
ÁÁJ L
Like
ÁÁM Q
.
ÁÁQ R
UserId
ÁÁR X
&&
ÁÁY [
item
ÁÁ\ `
.
ÁÁ` a
	ArticleId
ÁÁa j
==
ÁÁk m
Like
ÁÁn r
.
ÁÁr s
	ArticleId
ÁÁs |
)
ÁÁ| }
!=ÁÁ~ Ä
nullÁÁÅ Ö
)ÁÁÖ Ü
throwÁÁá å
newÁÁç ê
	ExceptionÁÁë ö
(ÁÁö õ
$strÁÁõ –
)ÁÁ– —
;ÁÁ— “
return
ÈÈ 
database
ÈÈ 
.
ÈÈ  
AddLike
ÈÈ  '
(
ÈÈ' (
Like
ÈÈ( ,
)
ÈÈ, -
;
ÈÈ- .
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
	exception
ÎÎ &
)
ÎÎ& '
{
ÏÏ 
_logger
ÌÌ 
.
ÌÌ 
LogError
ÌÌ  
(
ÌÌ  !
HelperService
ÌÌ! .
.
ÌÌ. /
LoggerMessage
ÌÌ/ <
(
ÌÌ< =
$str
ÌÌ= M
,
ÌÌM N
$str
ÌÌO c
,
ÌÌc d
	exception
ÌÌe n
,
ÌÌn o
Like
ÌÌp t
)
ÌÌt u
)
ÌÌu v
;
ÌÌv w
return
ÓÓ 
false
ÓÓ 
;
ÓÓ 
}
ÔÔ 
}
 	
public
ÛÛ 
int
ÛÛ 
GetLikesCount
ÛÛ  
(
ÛÛ  !
int
ÛÛ! $
	ArticleId
ÛÛ% .
)
ÛÛ. /
{
ÙÙ 	
if
ıı 
(
ıı 
	ArticleId
ıı 
<=
ıı 
$num
ıı 
)
ıı 
throw
ıı  %
new
ıı& )
ArgumentException
ıı* ;
(
ıı; <
$"
ıı< >
$str
ıı> p
{
ııp q
	ArticleId
ııq z
}
ıız {
"
ıı{ |
)
ıı| }
;
ıı} ~
try
ˆˆ 
{
˜˜ 
var
¯¯ 
ArticleLikes
¯¯  
=
¯¯! "
database
¯¯# +
.
¯¯+ ,
GetLikes
¯¯, 4
(
¯¯4 5
)
¯¯5 6
.
¯¯6 7
Count
¯¯7 <
(
¯¯< =
item
¯¯= A
=>
¯¯B D
item
¯¯E I
.
¯¯I J
	ArticleId
¯¯J S
==
¯¯T V
	ArticleId
¯¯W `
)
¯¯` a
;
¯¯a b
return
˘˘ 
ArticleLikes
˘˘ #
;
˘˘# $
}
˙˙ 
catch
˚˚ 
(
˚˚ 
	Exception
˚˚ 
	exception
˚˚ &
)
˚˚& '
{
¸¸ 
_logger
˝˝ 
.
˝˝ 
LogError
˝˝  
(
˝˝  !
HelperService
˝˝! .
.
˝˝. /
LoggerMessage
˝˝/ <
(
˝˝< =
$str
˝˝= M
,
˝˝M N
$str
˝˝O `
,
˝˝` a
	exception
˝˝b k
)
˝˝k l
)
˝˝l m
;
˝˝m n
throw
˛˛ 
;
˛˛ 
}
ˇˇ 
}
ÄÄ 	
}
ÉÉ 
}ÑÑ †R
gC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Services\HelperServices.cs
	namespace 	
AspireOverflow
 
. 
Services !
{ 
public 

static 
class 
HelperService %
{ 
public 
static 
string 
PropertyList )
() *
this* .
object/ 5
obj6 9
)9 :
{ 	
if 
( 
obj 
== 
null 
) 
return #
$str$ &
;& '
try 
{ 
var 

properties 
=  
obj! $
.$ %
GetType% ,
(, -
)- .
.. /
GetProperties/ <
(< =
)= >
;> ?
var 
stringBuilder !
=" #
new$ '
StringBuilder( 5
(5 6
)6 7
;7 8
foreach 
( 
var 
data !
in" $

properties% /
)/ 0
{ 
stringBuilder !
.! "

AppendLine" ,
(, -
data- 1
.1 2
Name2 6
+7 8
$str9 =
+> ?
data@ D
.D E
GetValueE M
(M N
objN Q
,Q R
nullS W
)W X
)X Y
;Y Z
} 
return 
stringBuilder $
.$ %
ToString% -
(- .
). /
;/ 0
} 
catch 
{ 
return 
$str 
; 
} 
} 	
public"" 
static"" 
string"" 
LoggerMessage"" *
(""* +
string""+ 1
RepositoryName""2 @
,""@ A
string""B H

MethodName""I S
,""S T
	Exception""U ^
	exception""_ h
,""h i
object""j p
Data""q u
=""v w
null""x |
)""| }
{## 	
return%% 
Data%% 
!=%% 
null%% 
?%%  !
$"%%" $
{%%$ %
RepositoryName%%% 3
}%%3 4
$str%%4 5
{%%5 6

MethodName%%6 @
}%%@ A
$str%%A X
{%%X Y
PropertyList%%Y e
(%%e f
Data%%f j
)%%j k
}%%k l
$str%%l {
{%%{ |
	exception	%%| Ö
.
%%Ö Ü
ToString
%%Ü é
(
%%é è
)
%%è ê
}
%%ê ë
"
%%ë í
:
%%ì î
$"'' 
{'' 
RepositoryName'' 
}'' 
$str''  
{''  !

MethodName''! +
}''+ ,
$str'', 9
{''9 :
	exception'': C
.''C D
ToString''D L
(''L M
)''M N
}''N O
"''O P
;''P Q
;''R S
}(( 	
public++ 
static++ 
string++ 
LoggerMessage++ *
(++* +
string+++ 1
RepositoryName++2 @
,++@ A
string++B H

MethodName++I S
,++S T
	Exception++U ^
	exception++_ h
,++h i
int++j m
FirstId++n u
,++u v
int++w z
?++z {
secondId	++| Ñ
)
++Ñ Ö
{,, 	
return.. 
secondId.. 
!=.. 
null.. #
?..$ %
$"..& (
{..( )
RepositoryName..) 7
}..7 8
$str..8 9
{..9 :

MethodName..: D
}..D E
$str..E \
{..\ ]
FirstId..] d
}..d e
$str..e g
{..g h
secondId..h p
}..p q
$str	..q Å
{
..Å Ç
	exception
..Ç ã
.
..ã å
ToString
..å î
(
..î ï
)
..ï ñ
}
..ñ ó
"
..ó ò
:
..ô ö
$"00 
{00 
RepositoryName00 
}00 
$str00  
{00  !

MethodName00! +
}00+ ,
$str00, B
{00B C
FirstId00C J
}00J K
$str00K [
{00[ \
	exception00\ e
.00e f
ToString00f n
(00n o
)00o p
}00p q
"00q r
;00r s
;00t u
}11 	
public44 
static44 
string44 
LoggerMessage44 *
(44* +
string44+ 1
RepositoryName442 @
,44@ A
string44B H

MethodName44I S
,44S T
	Exception44U ^
	exception44_ h
,44h i
string44j p
data44q u
)44u v
{55 	
return77 
$"77 
{77 
RepositoryName77 $
}77$ %
$str77% &
{77& '

MethodName77' 1
}771 2
$str772 I
{77I J
data77J N
}77N O
$str77O _
{77_ `
	exception77` i
.77i j
ToString77j r
(77r s
)77s t
}77t u
"77u v
;77v w
}88 	
public<< 

static<< 
MailRequest<< 
ArticleMail<< )
(<<) *
string<<* 0
RecieverEmail<<1 >
,<<> ?
string<<? E
ArticleTitle<<F R
,<<R S
string<<S Y
Subject<<Z a
,<<a b
int<<b e
ArticleStatusID<<f u
)<<u v
{== 
var>> 
mail>> 
=>> 
new>> 
MailRequest>> $
(>>$ %
)>>% &
;>>& '
mail?? 
.?? 
ToEmail?? 
=?? 
RecieverEmail?? &
;??& '
mail@@ 
.@@ 
Subject@@ 
=@@ 
Subject@@  
;@@  !
switchAA 
(AA 
ArticleStatusIDAA "
)AA" #
{AA# $
caseCC 
$numCC 
:CC 
mailCC 
.CC 
BodyCC !
=CC! "
$"CC" $
$strCC$ W
{CCW X
ArticleTitleCCX d
}CCd e
$str	CCe ≥
"
CC≥ ¥
;
CC¥ µ
returnDD 
mailDD #
;DD# $
caseGG 
$numGG 
:GG 
mailGG 
.GG 
BodyGG !
=GG! "
$"GG" $
$strGG$ W
{GGW X
ArticleTitleGGX d
}GGd e
$str	GGe ¥
"
GG¥ µ
;
GGµ ∂
returnHH 
mailHH #
;HH# $
defaultKK 
:KK 
returnKK 
mailKK  $
;KK$ %
}NN 
}QQ 	
publicUU 

staticUU 
MailRequestUU 
SpamMailUU &
(UU& '
stringUU' -
RecieverEmailUU. ;
,UU; <
stringUU< B

QueryTitleUUC M
,UUM N
stringUUN T
SubjectUUU \
,UU\ ]
intUU] `
VerifyStatusIDUUa o
)UUo p
{VV 	
varWW 
mailWW 
=WW 
newWW 
MailRequestWW $
(WW$ %
)WW% &
;WW& '
mailXX 
.XX 
ToEmailXX 
=XX 
RecieverEmailXX &
;XX& '
mailYY 
.YY 
SubjectYY 
=YY 
SubjectYY  
;YY  !
switchZZ 
(ZZ 
VerifyStatusIDZZ !
)ZZ! "
{ZZ" #
case\\ 
$num\\ 
:\\ 
mail\\ 
.\\ 
Body\\ !
=\\! "
$"\\" $
$str\\$ Y
{\\Y Z

QueryTitle\\Z d
}\\d e
$str	\\e ¨
"
\\¨ ≠
;
\\≠ Æ
return]] 
mail]] #
;]]# $
case`` 
$num`` 
:`` 
mail`` 
.`` 
Body`` !
=``! "
$"``" $
$str``$ Y
{``Y Z

QueryTitle``Z d
}``d e
$str	``e Ω
"
``Ω æ
;
``æ ø
returnaa 
mailaa #
;aa# $
casedd 
$numdd 
:dd 
maildd 
.dd 
Bodydd  
=dd  !
$"dd! #
$strdd# X
{ddX Y

QueryTitleddY c
}ddc d
$str	ddd ±
"
dd± ≤
;
dd≤ ≥
returnee 
mailee "
;ee" #
defaulthh 
:hh 
returnhh 
mailhh  $
;hh$ %
}kk 
}mm 	
publicpp 
staticpp 
MailRequestpp !
	QueryMailpp" +
(pp+ ,
stringpp, 2
RecieverEmailpp3 @
,pp@ A
stringppA G

QueryTitleppH R
,ppR S
stringppS Y
SubjectppZ a
)ppa b
{qq 	
varrr 
mailrr 
=rr 
newrr 
MailRequestrr $
(rr$ %
)rr% &
;rr& '
mailss 
.ss 
ToEmailss 
=ss 
RecieverEmailss &
;ss& '
mailtt 
.tt 
Subjecttt 
=tt 
Subjecttt  
;tt  !
mailuu 
.uu 
Bodyuu 
=uu 
$"uu 
$struu H
{uuH I

QueryTitleuuI S
}uuS T
$str	uuT î
"
uuî ï
;
uuï ñ
returnvv 
mailvv 
;vv 
}xx 	
publiczz 
staticzz 
MailRequestzz !
CommentMailzz" -
(zz- .
stringzz. 4
RecieverEmailzz5 B
,zzB C
stringzzC I
TitlezzJ O
,zzO P
stringzzP V
SubjectzzW ^
)zz^ _
{{{ 	
var|| 
mail|| 
=|| 
new|| 
MailRequest|| $
(||$ %
)||% &
;||& '
mail}} 
.}} 
ToEmail}} 
=}} 
RecieverEmail}} &
;}}& '
mail~~ 
.~~ 
Subject~~ 
=~~ 
Subject~~  
;~~  !
mail 
. 
Body 
= 
$" 
$str [
{[ \
Title\ a
}a b
$str	b ê
"
ê ë
;
ë í
return
ÄÄ 
mail
ÄÄ 
;
ÄÄ 
}
ÇÇ 	
}
ÉÉ 
}ÑÑ ç
dC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Services\MailService.cs
	namespace

 	
AspireOverflow


 
.

 
Services

 !
{

! "
public 

class 
MailService 
: 
IEmailService ,
{ 
private 
readonly 
MailSettings !
_mailSettings" /
;/ 0
public 

MailService 
( 
IOptions 
<  
MailSettings  ,
>, -
mailSettings. :
): ;
{ 
_mailSettings 
= 
mailSettings $
.$ %
Value% *
;* +
} 
public 

async 
Task 
SendEmailAsync $
($ %
MailRequest% 0
mailRequest1 <
)< =
{ 
var 
email 
= 
new 
MimeMessage 
(  
)  !
;! "
email 	
.	 

Sender
 
= 
MailboxAddress !
.! "
Parse" '
(' (
_mailSettings( 5
.5 6
Mail6 :
): ;
;; <
email 	
.	 

To
 
. 
Add 
( 
MailboxAddress 
.  
Parse  %
(% &
mailRequest& 1
.1 2
ToEmail2 9
)9 :
): ;
;; <
email 	
.	 

Subject
 
= 
mailRequest 
.  
Subject  '
;' (
var 
builder 
= 
new 
BodyBuilder !
(! "
)" #
;# $
builder 
. 
TextBody 
= 
mailRequest "
." #
Body# '
;' (
email 	
.	 

Body
 
= 
builder 
. 
ToMessageBody &
(& '
)' (
;( )
using 	
var
 
smtp 
= 
new 

SmtpClient #
(# $
)$ %
;% &
smtp 
. 	
Connect	 
( 
_mailSettings 
. 
Host #
,# $
_mailSettings% 2
.2 3
Port3 7
,7 8
SecureSocketOptions9 L
.L M
StartTlsM U
)U V
;V W
smtp   
.   	
Authenticate  	 
(   
_mailSettings   #
.  # $
Mail  $ (
,  ( )
_mailSettings  * 7
.  7 8
Password  8 @
)  @ A
;  A B
await!! 	
smtp!!
 
.!! 
	SendAsync!! 
(!! 
email!! 
)!! 
;!!  
smtp"" 
."" 	

Disconnect""	 
("" 
true"" 
)"" 
;"" 
}## 
}$$ 
}%% Á˛
eC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Services\QueryService.cs
	namespace 	
AspireOverflow
 
. 
Services !
{ 
public 

class 
QueryService 
: 
IQueryService ,
{ 
private 
static 
IQueryRepository '
database( 0
;0 1
private 
static 
ILogger 
< 
QueryService +
>+ ,
_logger- 4
;4 5
private 
MailService 
_mailService (
;( )
public 
QueryService 
( 
ILogger #
<# $
QueryService$ 0
>0 1
logger2 8
,8 9
MailService: E
mailServiceF Q
,Q R
IQueryRepositoryR b
_queryRepositoryc s
)s t
{ 	
_logger 
= 
logger 
; 
_mailService 
= 
mailService &
;& '
database 
= 
_queryRepository &
;& '
}!! 	
public$$ 
bool$$ 
CreateQuery$$ 
($$  
Query$$  %
query$$& +
)$$+ ,
{%% 	

Validation&& 
.&& 
ValidateQuery&& $
(&&$ %
query&&% *
)&&* +
;&&+ ,
try'' 
{(( 
query)) 
.)) 
	CreatedOn)) 
=))  !
DateTime))" *
.))* +
Now))+ .
;)). /
var** 
IsAddedSuccessfully** '
=**( )
database*** 2
.**2 3
AddQuery**3 ;
(**; <
query**< A
)**A B
;**B C
if++ 
(++ 
IsAddedSuccessfully++ '
)++' (
_mailService++) 5
?++5 6
.++6 7
SendEmailAsync++7 E
(++E F
HelperService++F S
.++S T
	QueryMail++T ]
(++] ^
$str++^ x
,++x y
query++z 
.	++ Ä
Title
++Ä Ö
,
++Ö Ü
$str
++á £
)
++£ §
)
++§ •
;
++• ¶
return,, 
IsAddedSuccessfully,, *
;,,* +
}-- 
catch.. 
(.. 
	Exception.. 
	exception.. &
)..& '
{// 
_logger00 
.00 
LogError00  
(00  !
HelperService00! .
.00. /
LoggerMessage00/ <
(00< =
$str00= K
,00K L
$str00M g
,00g h
	exception00i r
,00r s
query00t y
)00y z
)00z {
;00{ |
return11 
false11 
;11 
}22 
}33 	
public66 
bool66  
RemoveQueryByQueryId66 (
(66( )
int66) ,
QueryId66- 4
)664 5
{77 	
if88 
(88 
QueryId88 
<=88 
$num88 
)88 
throw88 #
new88$ '
ArgumentException88( 9
(889 :
$"88: <
$str88< j
{88j k
QueryId88k r
}88r s
"88s t
)88t u
;88u v
try99 
{:: 
return;; 
database;; 
.;;  
UpdateQuery;;  +
(;;+ ,
QueryId;;, 3
,;;3 4
IsDelete;;5 =
:;;= >
true;;? C
);;C D
;;;D E
}<< 
catch== 
(== 
	Exception== 
	exception== &
)==& '
{>> 
_logger?? 
.?? 
LogError??  
(??  !
HelperService??! .
.??. /
LoggerMessage??/ <
(??< =
$str??= K
,??K L
$str??M p
,??p q
	exception??r {
,??{ |
QueryId	??} Ñ
)
??Ñ Ö
)
??Ö Ü
;
??Ü á
returnAA 
falseAA 
;AA 
}BB 
}DD 	
publicGG 
boolGG 
MarkQueryAsSolvedGG %
(GG% &
intGG& )
QueryIdGG* 1
)GG1 2
{HH 	
ifII 
(II 
QueryIdII 
<=II 
$numII 
)II 
throwII #
newII$ '
ArgumentExceptionII( 9
(II9 :
$"II: <
$strII< j
{IIj k
QueryIdIIk r
}IIr s
"IIs t
)IIt u
;IIu v
tryJJ 
{KK 
returnLL 
databaseLL 
.LL  
UpdateQueryLL  +
(LL+ ,
QueryIdLL, 3
,LL3 4
IsSolvedLL5 =
:LL= >
trueLL? C
)LLC D
;LLD E
}MM 
catchOO 
(OO 
	ExceptionOO 
	exceptionOO &
)OO& '
{PP 
_loggerQQ 
.QQ 
LogErrorQQ  
(QQ  !
HelperServiceQQ! .
.QQ. /
LoggerMessageQQ/ <
(QQ< =
$strQQ= K
,QQK L
$strQQM n
,QQn o
	exceptionQQp y
,QQy z
QueryId	QQ{ Ç
)
QQÇ É
)
QQÉ Ñ
;
QQÑ Ö
returnSS 
falseSS 
;SS 
}TT 
}UU 	
publicWW 
ObjectWW 
GetQueryWW 
(WW 
intWW "
QueryIdWW# *
)WW* +
{XX 	
ifYY 
(YY 
QueryIdYY 
<=YY 
$numYY 
)YY 
throwYY #
newYY$ '
ArgumentExceptionYY( 9
(YY9 :
$"YY: <
$strYY< j
{YYj k
QueryIdYYk r
}YYr s
"YYs t
)YYt u
;YYu v
tryZZ 
{[[ 
var\\ 
Query\\ 
=\\ 
database\\ $
.\\$ %
GetQueryByID\\% 1
(\\1 2
QueryId\\2 9
)\\9 :
;\\: ;
return]] 
new]] 
{^^ 
QueryId__ 
=__ 
Query__ #
.__# $
QueryId__$ +
,__+ ,
Title`` 
=`` 
Query`` !
.``! "
Title``" '
,``' (
Contentaa 
=aa 
Queryaa #
.aa# $
Contentaa$ +
,aa+ ,
codebb 
=bb 
Querybb  
.bb  !
codebb! %
,bb% &
Datecc 
=cc 
Querycc  
.cc  !
	CreatedOncc! *
,cc* +

RaiserNamedd 
=dd  
Querydd! &
.dd& '
Userdd' +
.dd+ ,
FullNamedd, 4
,dd4 5
Commentsee 
=ee 
GetCommentsee *
(ee* +
QueryIdee+ 2
)ee2 3
}gg 
;gg 
}hh 
catchii 
(ii 
	Exceptionii 
	exceptionii &
)ii& '
{jj 
_loggerkk 
.kk 
LogErrorkk  
(kk  !
HelperServicekk! .
.kk. /
LoggerMessagekk/ <
(kk< =
$strkk= K
,kkK L
$strkkM d
,kkd e
	exceptionkkf o
,kko p
QueryIdkkq x
)kkx y
)kky z
;kkz {
throwll 
	exceptionll 
;ll  
}mm 
}oo 	
privaterr 
IEnumerablerr 
<rr 
Queryrr !
>rr! "

GetQueriesrr# -
(rr- .
)rr. /
{ss 	
trytt 
{uu 
varvv 
ListOfQueriesvv !
=vv" #
databasevv$ ,
.vv, -

GetQueriesvv- 7
(vv7 8
)vv8 9
;vv9 :
returnww 
ListOfQueriesww $
;ww$ %
}xx 
catchyy 
(yy 
	Exceptionyy 
	exceptionyy &
)yy& '
{zz 
_logger{{ 
.{{ 
LogError{{  
({{  !
HelperService{{! .
.{{. /
LoggerMessage{{/ <
({{< =
$str{{= K
,{{K L
$str{{M [
,{{[ \
	exception{{] f
){{f g
){{g h
;{{h i
throw|| 
	exception|| 
;||  
}}} 
} 	
public
ÅÅ 
IEnumerable
ÅÅ 
<
ÅÅ 
Object
ÅÅ !
>
ÅÅ! "
GetListOfQueries
ÅÅ# 3
(
ÅÅ3 4
)
ÅÅ4 5
{
ÇÇ 	
try
ÉÉ 
{
ÑÑ 
var
ÖÖ 
ListOfQueries
ÖÖ !
=
ÖÖ" #
database
ÖÖ$ ,
.
ÖÖ, -

GetQueries
ÖÖ- 7
(
ÖÖ7 8
)
ÖÖ8 9
;
ÖÖ9 :
return
ÜÜ 
ListOfQueries
ÜÜ $
.
ÜÜ$ %
Select
ÜÜ% +
(
ÜÜ+ ,
item
ÜÜ, 0
=>
ÜÜ1 3
new
ÜÜ4 7
{
áá 
QueryId
àà 
=
àà 
item
àà "
.
àà" #
QueryId
àà# *
,
àà* +
Title
ââ 
=
ââ 
item
ââ  
.
ââ  !
Title
ââ! &
,
ââ& '
content
ää 
=
ää 
item
ää "
.
ää" #
Content
ää# *
,
ää* +
IsSolved
ãã 
=
ãã 
item
ãã !
.
ãã! "
IsSolved
ãã" *
}
åå 
)
åå 
;
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
	exception
éé &
)
éé& '
{
èè 
_logger
êê 
.
êê 
LogError
êê  
(
êê  !
HelperService
êê! .
.
êê. /
LoggerMessage
êê/ <
(
êê< =
$str
êê= K
,
êêK L
$str
êêM [
,
êê[ \
	exception
êê] f
)
êêf g
)
êêg h
;
êêh i
throw
ëë 
	exception
ëë 
;
ëë  
}
íí 
}
îî 	
public
òò 
IEnumerable
òò 
<
òò 
Object
òò !
>
òò! "
GetLatestQueries
òò# 3
(
òò3 4
)
òò4 5
{
ôô 	
try
öö 
{
õõ 
var
úú 
ListOfQueries
úú !
=
úú" #

GetQueries
úú$ .
(
úú. /
)
úú/ 0
.
úú0 1
OrderByDescending
úú1 B
(
úúB C
query
úúC H
=>
úúI K
query
úúL Q
.
úúQ R
	CreatedOn
úúR [
)
úú[ \
;
úú\ ]
return
ûû 
ListOfQueries
ûû $
.
ûû$ %
Select
ûû% +
(
ûû+ ,
item
ûû, 0
=>
ûû1 3
new
ûû4 7
{
üü 
QueryId
†† 
=
†† 
item
†† "
.
††" #
QueryId
††# *
,
††* +
Title
°° 
=
°° 
item
°°  
.
°°  !
Title
°°! &
,
°°& '
content
¢¢ 
=
¢¢ 
item
¢¢ "
.
¢¢" #
Content
¢¢# *
,
¢¢* +
IsSolved
££ 
=
££ 
item
££ #
.
££# $
IsSolved
££$ ,
}
§§ 
)
§§ 
;
§§ 
}
•• 
catch
ßß 
(
ßß 
	Exception
ßß 
	exception
ßß &
)
ßß& '
{
®® 
_logger
©© 
.
©© 
LogError
©©  
(
©©  !
HelperService
©©! .
.
©©. /
LoggerMessage
©©/ <
(
©©< =
$str
©©= K
,
©©K L
$str
©©M a
,
©©a b
	exception
©©c l
)
©©l m
)
©©m n
;
©©n o
throw
™™ 
	exception
™™ 
;
™™  
}
´´ 
}
¨¨ 	
public
∞∞ 
IEnumerable
∞∞ 
<
∞∞ 
Object
∞∞ !
>
∞∞! " 
GetTrendingQueries
∞∞# 5
(
∞∞5 6
)
∞∞6 7
{
±± 	
try
≤≤ 
{
≥≥ 
var
µµ 
data
µµ 
=
µµ 
(
µµ 
database
µµ $
.
µµ$ %
GetComments
µµ% 0
(
µµ0 1
)
µµ1 2
.
µµ2 3
GroupBy
µµ3 :
(
µµ: ;
item
µµ; ?
=>
µµ@ B
item
µµC G
.
µµG H
QueryId
µµH O
)
µµO P
)
µµP Q
.
µµQ R
OrderByDescending
µµR c
(
µµc d
item
µµd h
=>
µµi k
item
µµl p
.
µµp q
Count
µµq v
(
µµv w
)
µµw x
)
µµx y
;
µµy z
var
∑∑ 
ListOfQueryId
∑∑ !
=
∑∑" #
(
∑∑$ %
from
∑∑% )
item
∑∑* .
in
∑∑/ 1
data
∑∑2 6
select
∑∑7 =
item
∑∑> B
.
∑∑B C
First
∑∑C H
(
∑∑H I
)
∑∑I J
.
∑∑J K
QueryId
∑∑K R
)
∑∑R S
.
∑∑S T
ToList
∑∑T Z
(
∑∑Z [
)
∑∑[ \
;
∑∑\ ]
var
∏∏ 
ListOfQueries
∏∏ !
=
∏∏" #

GetQueries
∏∏$ .
(
∏∏. /
)
∏∏/ 0
.
∏∏0 1
Where
∏∏1 6
(
∏∏6 7
item
∏∏7 ;
=>
∏∏< >
item
∏∏? C
.
∏∏C D
IsSolved
∏∏D L
==
∏∏M O
false
∏∏P U
)
∏∏U V
.
∏∏V W
ToList
∏∏W ]
(
∏∏] ^
)
∏∏^ _
;
∏∏_ `
var
ππ 
TrendingQueries
ππ #
=
ππ$ %
new
ππ& )
List
ππ* .
<
ππ. /
Query
ππ/ 4
>
ππ4 5
(
ππ5 6
)
ππ6 7
;
ππ7 8
foreach
∫∫ 
(
∫∫ 
var
∫∫ 
id
∫∫ 
in
∫∫  "
ListOfQueryId
∫∫# 0
)
∫∫0 1
{
ªª 
TrendingQueries
ºº #
.
ºº# $
Add
ºº$ '
(
ºº' (
ListOfQueries
ºº( 5
.
ºº5 6
Find
ºº6 :
(
ºº: ;
item
ºº; ?
=>
ºº@ B
item
ººC G
.
ººG H
QueryId
ººH O
==
ººP R
id
ººS U
)
ººU V
)
ººV W
;
ººW X
}
ΩΩ 
return
øø 
TrendingQueries
øø &
.
øø& '
Select
øø' -
(
øø- .
item
øø. 2
=>
øø3 5
new
øø6 9
{
¿¿ 
QueryId
¡¡ 
=
¡¡ 
item
¡¡ "
.
¡¡" #
QueryId
¡¡# *
,
¡¡* +
Title
¬¬ 
=
¬¬ 
item
¬¬  
.
¬¬  !
Title
¬¬! &
,
¬¬& '
content
√√ 
=
√√ 
item
√√ "
.
√√" #
Content
√√# *
,
√√* +
IsSolved
ƒƒ 
=
ƒƒ 
item
ƒƒ #
.
ƒƒ# $
IsSolved
ƒƒ$ ,
}
≈≈ 
)
≈≈ 
;
≈≈ 
}
∆∆ 
catch
»» 
(
»» 
	Exception
»» 
	exception
»» &
)
»»& '
{
…… 
_logger
   
.
   
LogError
    
(
    !
HelperService
  ! .
.
  . /
LoggerMessage
  / <
(
  < =
$str
  = K
,
  K L
$str
  M c
,
  c d
	exception
  e n
)
  n o
)
  o p
;
  p q
throw
ÀÀ 
	exception
ÀÀ 
;
ÀÀ  
}
ÃÃ 
}
ÕÕ 	
public
—— 
IEnumerable
—— 
<
—— 
Object
—— !
>
——! " 
GetQueriesByUserId
——# 5
(
——5 6
int
——6 9
UserId
——: @
)
——@ A
{
““ 	
if
”” 
(
”” 
UserId
”” 
<=
”” 
$num
”” 
)
”” 
throw
”” "
new
””# &
ArgumentException
””' 8
(
””8 9
$"
””9 ;
$str
””; g
{
””g h
UserId
””h n
}
””n o
"
””o p
)
””p q
;
””q r
try
‘‘ 
{
’’ 
var
÷÷ 
ListOfQueries
÷÷ !
=
÷÷" #

GetQueries
÷÷$ .
(
÷÷. /
)
÷÷/ 0
.
÷÷0 1
Where
÷÷1 6
(
÷÷6 7
query
÷÷7 <
=>
÷÷= ?
query
÷÷@ E
.
÷÷E F
	CreatedBy
÷÷F O
==
÷÷P R
UserId
÷÷S Y
)
÷÷Y Z
;
÷÷Z [
return
ÿÿ 
ListOfQueries
ÿÿ $
.
ÿÿ$ %
Select
ÿÿ% +
(
ÿÿ+ ,
item
ÿÿ, 0
=>
ÿÿ1 3
new
ÿÿ4 7
{
ŸŸ 
QueryId
⁄⁄ 
=
⁄⁄ 
item
⁄⁄ "
.
⁄⁄" #
QueryId
⁄⁄# *
,
⁄⁄* +
Title
€€ 
=
€€ 
item
€€  
.
€€  !
Title
€€! &
,
€€& '
content
‹‹ 
=
‹‹ 
item
‹‹ "
.
‹‹" #
Content
‹‹# *
,
‹‹* +
IsSolved
›› 
=
›› 
item
›› #
.
››# $
IsSolved
››$ ,
}
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 
catch
‡‡ 
(
‡‡ 
	Exception
‡‡ 
	exception
‡‡ &
)
‡‡& '
{
·· 
_logger
‚‚ 
.
‚‚ 
LogError
‚‚  
(
‚‚  !
HelperService
‚‚! .
.
‚‚. /
LoggerMessage
‚‚/ <
(
‚‚< =
$str
‚‚= K
,
‚‚K L
$str
‚‚M m
,
‚‚m n
	exception
‚‚o x
,
‚‚x y
UserId‚‚z Ä
)‚‚Ä Å
)‚‚Å Ç
;‚‚Ç É
throw
„„ 
	exception
„„ 
;
„„  
}
‰‰ 
}
ÊÊ 	
public
ÈÈ 
IEnumerable
ÈÈ 
<
ÈÈ 
Object
ÈÈ !
>
ÈÈ! "
GetQueriesByTitle
ÈÈ# 4
(
ÈÈ4 5
String
ÈÈ5 ;
Title
ÈÈ< A
)
ÈÈA B
{
ÍÍ 	
if
ÎÎ 
(
ÎÎ 
String
ÎÎ 
.
ÎÎ 
IsNullOrEmpty
ÎÎ $
(
ÎÎ$ %
Title
ÎÎ% *
)
ÎÎ* +
)
ÎÎ+ ,
throw
ÎÎ- 2
new
ÎÎ3 6#
ArgumentNullException
ÎÎ7 L
(
ÎÎL M
$str
ÎÎM n
)
ÎÎn o
;
ÎÎo p
try
ÏÏ 
{
ÌÌ 
var
ÓÓ 
ListOfQueries
ÓÓ !
=
ÓÓ" #

GetQueries
ÓÓ$ .
(
ÓÓ. /
)
ÓÓ/ 0
.
ÓÓ0 1
Where
ÓÓ1 6
(
ÓÓ6 7
query
ÓÓ7 <
=>
ÓÓ= ?
query
ÓÓ@ E
.
ÓÓE F
Title
ÓÓF K
.
ÓÓK L
Contains
ÓÓL T
(
ÓÓT U
Title
ÓÓU Z
)
ÓÓZ [
)
ÓÓ[ \
;
ÓÓ\ ]
return
ÔÔ 
ListOfQueries
ÔÔ $
.
ÔÔ$ %
Select
ÔÔ% +
(
ÔÔ+ ,
item
ÔÔ, 0
=>
ÔÔ1 3
new
ÔÔ4 7
{
 
QueryId
ÒÒ 
=
ÒÒ 
item
ÒÒ "
.
ÒÒ" #
QueryId
ÒÒ# *
,
ÒÒ* +
Title
ÚÚ 
=
ÚÚ 
item
ÚÚ  
.
ÚÚ  !
Title
ÚÚ! &
,
ÚÚ& '
content
ÛÛ 
=
ÛÛ 
item
ÛÛ "
.
ÛÛ" #
Content
ÛÛ# *
,
ÛÛ* +
IsSolved
ÙÙ 
=
ÙÙ 
item
ÙÙ #
.
ÙÙ# $
IsSolved
ÙÙ$ ,
}
ıı 
)
ıı 
;
ıı 
}
˜˜ 
catch
¯¯ 
(
¯¯ 
	Exception
¯¯ 
	exception
¯¯ &
)
¯¯& '
{
˘˘ 
_logger
˙˙ 
.
˙˙ 
LogError
˙˙  
(
˙˙  !
HelperService
˙˙! .
.
˙˙. /
LoggerMessage
˙˙/ <
(
˙˙< =
$str
˙˙= K
,
˙˙K L
$str
˙˙M n
,
˙˙n o
	exception
˙˙p y
,
˙˙y z
Title˙˙{ Ä
)˙˙Ä Å
)˙˙Å Ç
;˙˙Ç É
throw
˚˚ 
	exception
˚˚ 
;
˚˚  
}
¸¸ 
}
˝˝ 	
public
ÄÄ 
IEnumerable
ÄÄ 
<
ÄÄ 
Object
ÄÄ !
>
ÄÄ! "

GetQueries
ÄÄ# -
(
ÄÄ- .
bool
ÄÄ. 2
IsSolved
ÄÄ3 ;
)
ÄÄ; <
{
ÅÅ 	
try
ÇÇ 
{
ÉÉ 
var
ÑÑ 
ListOfQueries
ÑÑ !
=
ÑÑ" #

GetQueries
ÑÑ$ .
(
ÑÑ. /
)
ÑÑ/ 0
.
ÑÑ0 1
Where
ÑÑ1 6
(
ÑÑ6 7
query
ÑÑ7 <
=>
ÑÑ= ?
query
ÑÑ@ E
.
ÑÑE F
IsSolved
ÑÑF N
==
ÑÑO Q
IsSolved
ÑÑR Z
)
ÑÑZ [
;
ÑÑ[ \
return
ÖÖ 
ListOfQueries
ÖÖ $
.
ÖÖ$ %
Select
ÖÖ% +
(
ÖÖ+ ,
item
ÖÖ, 0
=>
ÖÖ1 3
new
ÖÖ4 7
{
ÜÜ 
QueryId
áá 
=
áá 
item
áá "
.
áá" #
QueryId
áá# *
,
áá* +
Title
àà 
=
àà 
item
àà  
.
àà  !
Title
àà! &
,
àà& '
content
ââ 
=
ââ 
item
ââ "
.
ââ" #
Content
ââ# *
,
ââ* +
IsSolved
ää 
=
ää 
item
ää #
.
ää# $
IsSolved
ää$ ,
}
ãã 
)
ãã 
;
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç 
	exception
çç &
)
çç& '
{
éé 
_logger
èè 
.
èè 
LogError
èè  
(
èè  !
HelperService
èè! .
.
èè. /
LoggerMessage
èè/ <
(
èè< =
$str
èè= K
,
èèK L
$str
èèM h
,
èèh i
	exception
èèj s
,
èès t
IsSolved
èèu }
)
èè} ~
)
èè~ 
;èè Ä
throw
êê 
	exception
êê 
;
êê  
}
ëë 
}
íí 	
public
ïï 
bool
ïï 
CreateComment
ïï !
(
ïï! "
QueryComment
ïï" .
comment
ïï/ 6
)
ïï6 7
{
ññ 	

Validation
óó 
.
óó 
ValidateComment
óó &
(
óó& '
comment
óó' .
)
óó. /
;
óó/ 0
try
òò 
{
ôô 
return
öö 
database
öö 
.
öö  

AddComment
öö  *
(
öö* +
comment
öö+ 2
)
öö2 3
;
öö3 4
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
	exception
úú &
)
úú& '
{
ùù 
_logger
ûû 
.
ûû 
LogError
ûû  
(
ûû  !
HelperService
ûû! .
.
ûû. /
LoggerMessage
ûû/ <
(
ûû< =
$str
ûû= K
,
ûûK L
$str
ûûM r
,
ûûr s
	exception
ûût }
,
ûû} ~
commentûû Ü
)ûûÜ á
)ûûá à
;ûûà â
return
üü 
false
üü 
;
üü 
}
†† 
}
°° 	
public
££ 
IEnumerable
££ 
<
££ 
Object
££ !
>
££! "
GetComments
££# .
(
££. /
int
££/ 2
QueryId
££3 :
)
££: ;
{
§§ 	
if
•• 
(
•• 
QueryId
•• 
<=
•• 
$num
•• 
)
•• 
throw
•• #
new
••$ '
ArgumentException
••( 9
(
••9 :
$"
••: <
$str
••< j
{
••j k
QueryId
••k r
}
••r s
"
••s t
)
••t u
;
••u v
try
¶¶ 
{
ßß 
var
®® 
ListOfComments
®® "
=
®®# $
database
®®% -
.
®®- .
GetComments
®®. 9
(
®®9 :
)
®®: ;
.
®®; <
Where
®®< A
(
®®A B
comment
®®B I
=>
®®J L
comment
®®M T
.
®®T U
QueryId
®®U \
==
®®] _
QueryId
®®` g
)
®®g h
;
®®h i
return
©© 
ListOfComments
©© %
.
©©% &
Select
©©& ,
(
©©, -
item
©©- 1
=>
©©2 4
new
©©5 8
{
™™ 
	CommentId
´´ 
=
´´ 
item
´´  $
.
´´$ %
QueryCommentId
´´% 3
,
´´3 4
Message
¨¨ 
=
¨¨ 
item
¨¨ "
.
¨¨" #
Comment
¨¨# *
,
¨¨* +
Name
≠≠ 
=
≠≠ 
item
≠≠ 
.
≠≠  
User
≠≠  $
?
≠≠$ %
.
≠≠% &
FullName
≠≠& .
,
≠≠. /
QueryId
ÆÆ 
=
ÆÆ 
item
ÆÆ "
.
ÆÆ" #
QueryId
ÆÆ# *
}
ØØ 
)
ØØ 
;
ØØ 
}
±± 
catch
≤≤ 
(
≤≤ 
	Exception
≤≤ 
	exception
≤≤ &
)
≤≤& '
{
≥≥ 
_logger
¥¥ 
.
¥¥ 
LogError
¥¥  
(
¥¥  !
HelperService
¥¥! .
.
¥¥. /
LoggerMessage
¥¥/ <
(
¥¥< =
$str
¥¥= K
,
¥¥K L
$str
¥¥M g
,
¥¥g h
	exception
¥¥i r
,
¥¥r s
QueryId
¥¥t {
)
¥¥{ |
)
¥¥| }
;
¥¥} ~
throw
µµ 
	exception
µµ 
;
µµ  
}
∂∂ 
}
∏∏ 	
public
ºº 
bool
ºº 
ChangeSpamStatus
ºº 
(
ºº 
int
ºº !
QueryId
ºº" )
,
ºº) *
int
ºº+ .
VerifyStatusID
ºº/ =
)
ºº= >
{
ΩΩ 	
if
ææ 
(
ææ 
QueryId
ææ 
<=
ææ 
$num
ææ 
)
ææ 
throw
ææ #
new
ææ$ '
ArgumentException
ææ( 9
(
ææ9 :
$"
ææ: <
$str
ææ< k
{
ææk l
QueryId
ææl s
}
ææs t
"
ææt u
)
ææu v
;
ææv w
if
øø 
(
øø 
VerifyStatusID
øø 
<=
øø  
$num
øø! "
||
øø# %
VerifyStatusID
øø& 4
>
øø5 6
$num
øø7 8
)
øø8 9
throw
øø9 >
new
øø? B
ArgumentException
øøC T
(
øøT U
$"
øøU W
$strøøW £
{øø£ §
VerifyStatusIDøø§ ≤
}øø≤ ≥
"øø≥ ¥
)øø¥ µ
;øøµ ∂
try
¿¿ 
{
¡¡ 
var
¬¬ "
IsChangeSuccessfully
¬¬ (
=
¬¬) *
database
¬¬+ 3
.
¬¬3 4

UpdateSpam
¬¬4 >
(
¬¬> ?
QueryId
¬¬? F
,
¬¬F G
VerifyStatusID
¬¬I W
)
¬¬W X
;
¬¬X Y
if
√√ 
(
√√ "
IsChangeSuccessfully
√√ (
)
√√( )
_mailService
√√* 6
?
√√6 7
.
√√7 8
SendEmailAsync
√√8 F
(
√√F G
HelperService
√√G T
.
√√T U
SpamMail
√√U ]
(
√√] ^
$str
√√^ x
,
√√x y
$str√√y Ä
,√√Ä Å
$str√√Ç â
,√√ä ã
$num√√å ç
)√√ç é
)√√é è
;√√è ê
return
ƒƒ "
IsChangeSuccessfully
ƒƒ +
;
ƒƒ+ ,
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
	exception
∆∆ &
)
∆∆& '
{
«« 
_logger
»» 
.
»» 
LogError
»»  
(
»»  !
HelperService
»»! .
.
»». /
LoggerMessage
»»/ <
(
»»< =
$"
»»= ?
$str
»»? K
"
»»K L
,
»»L M
$str»»N Å
,»»Å Ç
	exception»»É å
,»»å ç
QueryId»»é ï
,»»ï ñ
VerifyStatusID»»ñ §
)»»§ •
)»»• ¶
;»»¶ ß
throw
…… 
	exception
…… 
;
……  
}
   
}
ÀÀ 	
public
ŒŒ 
bool
ŒŒ 
AddSpam
ŒŒ 
(
ŒŒ 
Spam
ŒŒ  
spam
ŒŒ! %
)
ŒŒ% &
{
œœ 	

Validation
––	 
.
–– 
ValidateSpam
––  
(
––  !
spam
––! %
)
––% &
;
––& '
try
—— 
{
““ 
return
”” 
database
”” 
.
””  
AddSpam
””  '
(
””' (
spam
””( ,
)
””, -
;
””- .
}
‘‘ 
catch
’’ 
(
’’ 
	Exception
’’ 
	exception
’’ &
)
’’& '
{
÷÷ 
_logger
◊◊ 
.
◊◊ 
LogError
◊◊  
(
◊◊  !
HelperService
◊◊! .
.
◊◊. /
LoggerMessage
◊◊/ <
(
◊◊< =
$str
◊◊= K
,
◊◊K L
$str
◊◊M o
,
◊◊o p
	exception
◊◊q z
,
◊◊z {
spam◊◊| Ä
)◊◊Ä Å
)◊◊Å Ç
;◊◊Ç É
return
ÿÿ 
false
ÿÿ 
;
ÿÿ 
}
ŸŸ 
}
⁄⁄ 	
public
›› 
IEnumerable
›› 
<
›› 
object
›› !
>
››! "
GetSpams
››# +
(
››+ ,
int
››, /
VerifyStatusID
››0 >
)
››> ?
{
ﬁﬁ 	
if
ﬂﬂ 
(
ﬂﬂ 
VerifyStatusID
ﬂﬂ 
<=
ﬂﬂ  
$num
ﬂﬂ  !
||
ﬂﬂ" $
VerifyStatusID
ﬂﬂ% 3
>
ﬂﬂ4 5
$num
ﬂﬂ6 7
)
ﬂﬂ7 8
throw
ﬂﬂ9 >
new
ﬂﬂ? B
ArgumentException
ﬂﬂC T
(
ﬂﬂT U
$strﬂﬂU ü
)ﬂﬂü †
;ﬂﬂ† °
try
‡‡ 
{
·· 
var
‚‚ 
Spams
‚‚ 
=
‚‚ 
database
‚‚ $
.
‚‚$ %
GetSpams
‚‚% -
(
‚‚- .
)
‚‚. /
.
‚‚/ 0
Where
‚‚0 5
(
‚‚5 6
item
‚‚6 :
=>
‚‚; =
item
‚‚= A
.
‚‚A B
VerifyStatusID
‚‚B P
==
‚‚P R
VerifyStatusID
‚‚R `
)
‚‚` a
.
‚‚a b
GroupBy
‚‚b i
(
‚‚i j
item
‚‚j n
=>
‚‚o q
item
‚‚r v
.
‚‚v w
QueryId
‚‚w ~
)
‚‚~ 
.‚‚ Ä!
OrderByDescending‚‚Ä ë
(‚‚ë í
item‚‚í ñ
=>‚‚ñ ò
item‚‚ò ú
.‚‚ú ù
Count‚‚ù ¢
(‚‚¢ £
)‚‚£ §
)‚‚§ •
.‚‚• ¶
Select‚‚¶ ¨
(‚‚¨ ≠
item‚‚≠ ±
=>‚‚≤ ¥
new‚‚¥ ∑
{‚‚∑ ∏
ListOfSpams
„„ 
=
„„ 
item
„„ !
.
„„! "
Select
„„" (
(
„„( )
spam
„„) -
=>
„„. 0
new
„„0 3
{
„„4 5
Name
‰‰ 
=
‰‰ 
spam
‰‰ 
.
‰‰ 
User
‰‰ #
?
‰‰# $
.
‰‰$ %
FullName
‰‰% -
,
‰‰- .
Reason
ÂÂ 
=
ÂÂ 
spam
ÂÂ 
.
ÂÂ  
Reason
ÂÂ  &
}
ÊÊ 
)
ÊÊ 
,
ÊÊ 
Query
ÁÁ 
=
ÁÁ 
new
ÁÁ 
{
ÁÁ 
QueryId
ËË 
=
ËË 
item
ËË  
.
ËË  !
First
ËË! &
(
ËË& '
)
ËË' (
.
ËË( )
QueryId
ËË) 0
,
ËË0 1
Content
ÈÈ 
=
ÈÈ 
item
ÈÈ  
.
ÈÈ  !
First
ÈÈ! &
(
ÈÈ& '
)
ÈÈ' (
.
ÈÈ( )
Query
ÈÈ) .
?
ÈÈ. /
.
ÈÈ/ 0
Content
ÈÈ0 7
,
ÈÈ7 8
Title
ÍÍ 
=
ÍÍ 
item
ÍÍ 
.
ÍÍ 
First
ÍÍ $
(
ÍÍ$ %
)
ÍÍ% &
.
ÍÍ& '
Query
ÍÍ' ,
?
ÍÍ, -
.
ÍÍ- .
Title
ÍÍ. 3
}
ÎÎ 
}
ÎÎ 
)
ÎÎ 
;
ÎÎ 
return
ÏÏ 
Spams
ÏÏ 
;
ÏÏ 
}
ÌÌ 
catch
ÓÓ 
(
ÓÓ 
	Exception
ÓÓ 
	exception
ÓÓ &
)
ÓÓ& '
{
ÔÔ 
_logger
 
.
 
LogError
  
(
  !
HelperService
! .
.
. /
LoggerMessage
/ <
(
< =
$str
= K
,
K L
$str
M Y
,
Y Z
	exception
[ d
)
d e
)
e f
;
f g
throw
ÒÒ 
;
ÒÒ 
}
ÚÚ 
}
ÛÛ 	
}
ÙÙ 
}ıı –8
eC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Services\TokenService.cs
	namespace		 	
AspireOverflow		
 
.		 
Services		 !
{

 
public 

class 
TokenService 
: 
ITokenService  -
{ 
private 
IConfiguration 
_configuration -
;- .
private 
IUserService 
_userService )
;) *
private 
ILogger 
< 
TokenService $
>$ %
_logger& -
;- .
public 
TokenService 
( 
IConfiguration *
configuration+ 8
,8 9
IUserService: F
userServiceG R
,R S
ILoggerT [
<[ \
TokenService\ h
>h i
loggerj p
)p q
{ 	
_configuration 
= 
configuration *
;* +
_userService 
= 
userService &
;& '
_logger 
= 
logger 
; 
} 	
public 
object 
GenerateToken #
(# $
Login$ )
Credentials* 5
)5 6
{ 	
if 
( 
Credentials 
== 
null "
)# $
throw$ )
new* -
ArgumentException. ?
(? @
)@ A
;A B
if 
( 
! 

Validation 
. #
ValidateUserCredentials 2
(2 3
Credentials3 >
.> ?
Email? D
,D E
CredentialsE P
.P Q
PasswordQ Y
)Y Z
)Z [
throw\ a
newb e
ArgumentExceptionf w
(w x
$str	x è
)
è ê
;
ê ë
var 
user 
= 
_userService #
.# $
GetUser$ +
(+ ,
Credentials, 7
.7 8
Email8 =
,= >
Credentials? J
.J K
PasswordK S
)S T
;T U
if 
( 
user 
== 
null 
) 
throw #
new$ '!
ArgumentNullException( =
(= >
$str> Z
)Z [
;[ \
try 
{   
var"" 
claims"" 
="" 
new""  
[""  !
]""! "
{""# $
new## 
Claim## !
(##! "#
JwtRegisteredClaimNames##" 9
.##9 :
Sub##: =
,##= >
_configuration##? M
[##M N
$str##N [
]##[ \
)##\ ]
,##] ^
new$$ 
Claim$$ !
($$! "#
JwtRegisteredClaimNames$$" 9
.$$9 :
Jti$$: =
,$$= >
Guid$$? C
.$$C D
NewGuid$$D K
($$K L
)$$L M
.$$M N
ToString$$N V
($$V W
)$$W X
)$$X Y
,$$Y Z
new%% 
Claim%% !
(%%! "#
JwtRegisteredClaimNames%%" 9
.%%9 :
Iat%%: =
,%%= >
DateTime%%? G
.%%G H
UtcNow%%H N
.%%N O
ToString%%O W
(%%W X
)%%X Y
)%%Y Z
,%%Z [
new&& 
Claim&& !
(&&! "

ClaimTypes&&" ,
.&&, -
Email&&- 2
,&&2 3
user&&3 7
.&&7 8
EmailAddress&&8 D
)&&D E
,&&E F
new'' 
Claim'' !
(''! "
$str''" *
,''* +
user''+ /
.''/ 0
UserId''0 6
.''6 7
ToString''7 ?
(''? @
)''@ A
)''A B
,''B C
new(( 
Claim(( !
(((! "

ClaimTypes((" ,
.((, -
Role((- 1
,((1 2
user((2 6
.((6 7

UserRoleId((7 A
.((A B
ToString((B J
(((J K
)((K L
)((L M
,((M N
new)) 
Claim)) !
())! "
$str))" .
,)). /
user))/ 3
.))3 4

IsReviewer))4 >
.))> ?
ToString))? G
())G H
)))H I
)))I J
}** 
;** 
var,, 
key,, 
=,, 
new,,  
SymmetricSecurityKey,, 2
(,,2 3
Encoding,,3 ;
.,,; <
UTF8,,< @
.,,@ A
GetBytes,,A I
(,,I J
_configuration,,J X
[,,X Y
$str,,Y b
],,b c
),,c d
),,d e
;,,e f
var-- 
signIn-- 
=-- 
new--  
SigningCredentials--! 3
(--3 4
key--4 7
,--7 8
SecurityAlgorithms--9 K
.--K L

HmacSha256--L V
)--V W
;--W X
var.. 
token.. 
=.. 
new.. 
JwtSecurityToken..  0
(..0 1
_configuration// "
[//" #
$str//# /
]/// 0
,//0 1
_configuration00 "
[00" #
$str00# 1
]001 2
,002 3
claims11 
,11 
expires22 
:22 
DateTime22 %
.22% &
UtcNow22& ,
.22, -

AddMinutes22- 7
(227 8
$num228 ;
)22; <
,22< =
signingCredentials33 &
:33& '
signIn33( .
)33. /
;33/ 0
var55 
Result55 
=55 
new55  
{66 
token77 
=77 
new77 #
JwtSecurityTokenHandler77  7
(777 8
)778 9
.779 :

WriteToken77: D
(77D E
token77E J
)77J K
,77K L
ExpiryInMinutes88 #
=88$ %
$num88& )
,88) *
IsAdmin99 
=99 
user99 "
.99" #

UserRoleId99# -
==99. 0
$num991 2
?993 4
true995 9
:99: ;
false99< A
,99A B

IsReviewer:: 
=::  
user::! %
.::% &

IsReviewer::& 0
,::0 1

IsVerified;; 
=;;  
user;;! %
.;;% &
VerifyStatus;;& 2
?;;2 3
.;;3 4
Name;;4 8
}<< 
;<< 
return>> 
Result>> 
;>> 
}@@ 
catchAA 
(AA 
	ExceptionAA 
	exceptionAA &
)AA& '
{BB 
_loggerCC 
.CC 
LogErrorCC  
(CC  !
HelperServiceCC! .
.CC. /
LoggerMessageCC/ <
(CC< =
$strCC= K
,CCK L
$strCCM |
,CC| }
	exception	CC~ á
,
CCá à
Credentials
CCâ î
)
CCî ï
)
CCï ñ
;
CCñ ó
throwDD 
	exceptionDD 
;DD  
}FF 
}GG 	
}HH 
}II ‘€
dC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Services\UserService.cs
	namespace		 	
AspireOverflow		
 
.		 
Services		 !
{

 
public 

class 
UserService 
: 
IUserService +
{ 
private 
static 
IUserRepository &
database' /
;/ 0
private 
static 
ILogger 
< 
UserService *
>* +
_logger, 3
;3 4
public 
UserService 
( 
ILogger "
<" #
UserService# .
>. /
logger0 6
,6 7
IUserRepository8 G
_userRepositoryH W
)W X
{ 	
_logger 
= 
logger 
; 
database 
= 
_userRepository &
;& '
} 	
public 
bool 

CreateUser 
( 
User #
user$ (
)( )
{ 	

Validation 
. 
ValidateUser #
(# $
user$ (
)( )
;) *
try 
{ 
user 
. 
Password 
= !
PasswordHasherFactory  5
.5 6$
GetPasswordHasherFactory6 N
(N O
)O P
.P Q
HashPasswordQ ]
(] ^
user^ b
,b c
userd h
.h i
Passwordi q
)q r
;r s
return   
database   
.    

CreateUser    *
(  * +
user  + /
)  / 0
;  0 1
}!! 
catch"" 
("" 
ValidationException"" &
	exception""' 0
)""0 1
{## 
_logger$$ 
.$$ 
LogError$$  
($$  !
HelperService$$! .
.$$. /
LoggerMessage$$/ <
($$< =
$str$$= J
,$$J K
$str$$L c
,$$c d
	exception$$e n
,$$n o
user$$p t
)$$t u
)$$u v
;$$v w
throw%% 
	exception%% 
;%%  
}&& 
catch'' 
('' 
	Exception'' 
	exception'' &
)''& '
{(( 
_logger)) 
.)) 
LogError))  
())  !
HelperService))! .
.)). /
LoggerMessage))/ <
())< =
$str))= J
,))J K
$str))L c
,))c d
	exception))e n
,))n o
user))p t
)))t u
)))u v
;))v w
return** 
false** 
;** 
}++ 
},, 	
public.. 
bool.. 

RemoveUser.. 
(.. 
int.. "
UserId..# )
)..) *
{// 	
if00 
(00 
UserId00 
<=00 
$num00 
)00 
throw00 "
new00# &
ArgumentException00' 8
(008 9
$"009 ;
$str00; g
{00g h
UserId00h n
}00n o
"00o p
)00p q
;00q r
try11 
{22 
return33 
database33 
.33  

RemoveUser33  *
(33* +
UserId33+ 1
)331 2
;332 3
}44 
catch55 
(55 
	Exception55 
	exception55 &
)55& '
{66 
_logger77 
.77 
LogError77  
(77  !
HelperService77! .
.77. /
LoggerMessage77/ <
(77< =
$str77= J
,77J K
$str77L d
,77d e
	exception77f o
,77o p
UserId77q w
)77w x
)77x y
;77y z
return88 
false88 
;88 
}99 
};; 	
public== 
bool== "
UpdateUserByIsReviewer== *
(==* +
int==+ .
UserId==/ 5
,==5 6
bool==7 ;

IsReviewer==< F
)==F G
{>> 	
if?? 
(?? 
UserId?? 
<=?? 
$num?? 
)?? 
throw?? "
new??# &
ArgumentException??' 8
(??8 9
$"??9 ;
$str??; g
{??g h
UserId??h n
}??n o
"??o p
)??p q
;??q r
try@@ 
{AA 
returnBB 
databaseBB 
.BB   
UpdateUserByReviewerBB  4
(BB4 5
UserIdBB5 ;
,BB; <

IsReviewerBB= G
)BBG H
;BBH I
}DD 
catchEE 
(EE 
	ExceptionEE 
	exceptionEE &
)EE& '
{FF 
_loggerGG 
.GG 
LogErrorGG  
(GG  !
HelperServiceGG! .
.GG. /
LoggerMessageGG/ <
(GG< =
$strGG= J
,GGJ K
$str	GGL Ä
,
GGÄ Å
	exception
GGÇ ã
,
GGã å
UserId
GGç ì
)
GGì î
)
GGî ï
;
GGï ñ
returnHH 
falseHH 
;HH 
}II 
}LL 	
publicNN 
UserNN 
GetUserNN 
(NN 
stringNN "
EmailNN# (
,NN( )
stringNN* 0
PasswordNN1 9
)NN9 :
{OO 	
ifPP 
(PP 
EmailPP 
==PP 
nullPP 
||PP  
PasswordPP! )
==PP* ,
nullPP- 1
)PP1 2
throwPP3 8
newPP9 <
ArgumentExceptionPP= N
(PPN O
$strPPO q
)PPq r
;PPr s
tryQQ 
{RR 
varSS 
HasherSS 
=SS !
PasswordHasherFactorySS 2
.SS2 3$
GetPasswordHasherFactorySS3 K
(SSK L
)SSL M
;SSM N
varTT 
UserTT 
=TT 
GetUsersTT #
(TT# $
)TT$ %
.TT% &
ToListTT& ,
(TT, -
)TT- .
.TT. /
FindTT/ 3
(TT3 4
userTT4 8
=>TT9 ;
userTT< @
.TT@ A
EmailAddressTTA M
==TTN P
EmailTTQ V
)TTV W
;TTW X
ifUU 
(UU 
UserUU 
==UU 
nullUU  
)UU  !
throwUU" '
newUU( +
ValidationExceptionUU, ?
(UU? @
$strUU@ O
)UUO P
;UUP Q
returnVV 
HasherVV 
.VV  
VerifyHashedPasswordVV 2
(VV2 3
UserVV3 7
,VV7 8
UserVV9 =
.VV= >
PasswordVV> F
,VVF G
PasswordVVH P
)VVP Q
==VVR T&
PasswordVerificationResultVVU o
.VVo p
SuccessVVp w
?VVx y
UserVVz ~
:	VV Ä
throw
VVÅ Ü
new
VVá ä"
InvalidDataException
VVã ü
(
VVü †
$str
VV† ∏
)
VV∏ π
;
VVπ ∫
}WW 
catchXX 
(XX 
	ExceptionXX 
	exceptionXX &
)XX& '
{YY 
_loggerZZ 
.ZZ 
LogErrorZZ  
(ZZ  !
HelperServiceZZ! .
.ZZ. /
LoggerMessageZZ/ <
(ZZ< =
$strZZ= O
,ZZO P
$strZZQ y
,ZZy z
	exception	ZZ{ Ñ
,
ZZÑ Ö
Email
ZZÜ ã
)
ZZã å
)
ZZå ç
;
ZZç é
throw\\ 
	exception\\ 
;\\  
}]] 
}^^ 	
public`` 
object`` 
GetUserByID`` !
(``! "
int``" %
UserId``& ,
)``, -
{aa 	
ifbb 
(bb 
UserIdbb 
<=bb 
$numbb 
)bb 
throwbb "
newbb# &
ArgumentExceptionbb' 8
(bb8 9
$"bb9 ;
$strbb; g
{bbg h
UserIdbbh n
}bbn o
"bbo p
)bbp q
;bbq r
trycc 
{dd 
varee 
Useree 
=ee 
databaseee #
.ee# $
GetUserByIDee$ /
(ee/ 0
UserIdee0 6
)ee6 7
;ee7 8
returnff 
newff 
{gg 
UserIdhh 
=hh 
Userhh !
.hh! "
UserIdhh" (
,hh( )
fullNameii 
=ii 
Userii #
.ii# $
FullNameii$ ,
,ii, -

EmployeeIdjj 
=jj  
Userjj! %
.jj% &
	AceNumberjj& /
,jj/ 0
emailkk 
=kk 
Userkk  
.kk  !
EmailAddresskk! -
,kk- .
DateOfBirthll 
=ll  !
Userll" &
.ll& '
DateOfBirthll' 2
,ll2 3
Designationmm 
=mm  !
Usermm" &
.mm& '
Designationmm' 2
?mm2 3
.mm3 4
DesignationNamemm4 C
,mmC D

Departmentnn 
=nn  
GetDepartmentByIDnn! 2
(nn2 3
Usernn3 7
.nn7 8
DesignationIdnn8 E
)nnE F
,nnF G
Genderoo 
=oo 
Useroo !
.oo! "
Genderoo" (
?oo( )
.oo) *
Nameoo* .
,oo. /

IsReviewerpp 
=pp  
Userpp! %
.pp% &

IsReviewerpp& 0
}rr 
;rr 
}ss 
catchtt 
(tt 
	Exceptiontt 
	exceptiontt &
)tt& '
{uu 
_loggervv 
.vv 
LogErrorvv  
(vv  !
HelperServicevv! .
.vv. /
LoggerMessagevv/ <
(vv< =
$strvv= J
,vvJ K
$strvvL f
,vvf g
	exceptionvvh q
,vvq r
UserIdvvs y
)vvy z
)vvz {
;vv{ |
throwww 
;ww 
}xx 
}yy 	
publiczz 
IEnumerablezz 
<zz 
Userzz 
>zz  
GetUserszz! )
(zz) *
)zz* +
{{{ 	
try|| 
{}} 
return~~ 
database~~ 
.~~  
GetUsers~~  (
(~~( )
)~~) *
;~~* +
} 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
	exception
ÄÄ &
)
ÄÄ& '
{
ÅÅ 
_logger
ÇÇ 
.
ÇÇ 
LogError
ÇÇ  
(
ÇÇ  !
HelperService
ÇÇ! .
.
ÇÇ. /
LoggerMessage
ÇÇ/ <
(
ÇÇ< =
$str
ÇÇ= J
,
ÇÇJ K
$str
ÇÇL X
,
ÇÇX Y
	exception
ÇÇZ c
)
ÇÇc d
)
ÇÇd e
;
ÇÇe f
throw
ÉÉ 
;
ÉÉ 
}
ÑÑ 
}
ÖÖ 	
public
áá 
IEnumerable
áá 
<
áá 
Object
áá !
>
áá! "$
GetUsersByVerifyStatus
áá# 9
(
áá9 :
int
áá: =
VerifyStatusID
áá> L
)
ááL M
{
àà 	
if
ââ 
(
ââ 
VerifyStatusID
ââ 
<=
ââ !
$num
ââ" #
||
ââ$ &
VerifyStatusID
ââ' 5
>
ââ6 7
$num
ââ8 9
)
ââ9 :
throw
ââ; @
new
ââA D
ArgumentException
ââE V
(
ââV W
$strââW é
)ââé è
;ââè ê
try
ää 
{
ãã 
return
åå 
GetUsers
åå 
(
åå  
)
åå  !
.
åå! "
Where
åå" '
(
åå' (
User
åå( ,
=>
åå- /
User
åå0 4
.
åå4 5
VerifyStatusID
åå5 C
==
ååD F
VerifyStatusID
ååG U
)
ååU V
.
ååV W
Select
ååW ]
(
åå] ^
User
åå^ b
=>
ååc e
new
ååf i
{
çç 
UserId
éé 
=
éé 
User
éé !
.
éé! "
UserId
éé" (
,
éé( )
fullName
èè 
=
èè 
User
èè #
.
èè# $
FullName
èè$ ,
,
èè, -

EmployeeId
êê 
=
êê  
User
êê! %
.
êê% &
	AceNumber
êê& /
,
êê/ 0
Email
ëë 
=
ëë 
User
ëë  
.
ëë  !
EmailAddress
ëë! -
,
ëë- .
DateOfBirth
íí 
=
íí  !
User
íí" &
.
íí& '
DateOfBirth
íí' 2
,
íí2 3
Designation
ìì 
=
ìì  !
User
ìì" &
.
ìì& '
Designation
ìì' 2
?
ìì2 3
.
ìì3 4
DesignationName
ìì4 C
,
ììC D

Department
îî 
=
îî  
GetDepartmentByID
îî! 2
(
îî2 3
User
îî3 7
.
îî7 8
DesignationId
îî8 E
)
îîE F
,
îîF G
Gender
ïï 
=
ïï 
User
ïï !
.
ïï! "
Gender
ïï" (
?
ïï( )
.
ïï) *
Name
ïï* .
,
ïï. /

IsReviewer
ññ 
=
ññ  
User
ññ! %
.
ññ% &

IsReviewer
ññ& 0
}
òò 
)
òò 
;
òò 
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
	exception
öö &
)
öö& '
{
õõ 
_logger
úú 
.
úú 
LogError
úú  
(
úú  !
HelperService
úú! .
.
úú. /
LoggerMessage
úú/ <
(
úú< =
$str
úú= J
,
úúJ K
$str
úúL x
,
úúx y
	exceptionúúz É
,úúÉ Ñ
VerifyStatusIDúúÖ ì
)úúì î
)úúî ï
;úúï ñ
throw
ùù 
;
ùù 
}
ûû 
}
üü 	
public
££ 
IEnumerable
££ 
<
££ 
Object
££ !
>
££! ""
GetUsersByUserRoleID
££# 7
(
££7 8
int
££8 ;

UserRoleID
££< F
)
££F G
{
§§ 	
if
•• 
(
•• 

UserRoleID
•• 
<=
•• 
$num
•• 
||
••  "

UserRoleID
••# -
>
••. /
$num
••0 1
)
••1 2
throw
••3 8
new
••9 <
ArgumentException
••= N
(
••N O
$"
••O Q
$str••Q Ü
{••Ü á

UserRoleID••á ë
}••ë í
"••í ì
)••ì î
;••î ï
try
¶¶ 
{
ßß 
return
®® 
GetUsers
®® 
(
®®  
)
®®  !
.
®®! "
Where
®®" '
(
®®' (
user
®®( ,
=>
®®- /
user
®®0 4
.
®®4 5

UserRoleId
®®5 ?
==
®®@ B

UserRoleID
®®C M
&&
®®N P
user
®®Q U
.
®®U V
VerifyStatusID
®®V d
==
®®e g
$num
®®h i
)
®®i j
.
®®j k
Select
®®k q
(
®®q r
User
®®r v
=>
®®w y
new
®®z }
{
©© 
UserId
™™ 
=
™™ 
User
™™ !
.
™™! "
UserId
™™" (
,
™™( )
fullName
´´ 
=
´´ 
User
´´ #
.
´´# $
FullName
´´$ ,
,
´´, -

EmployeeId
¨¨ 
=
¨¨  
User
¨¨! %
.
¨¨% &
	AceNumber
¨¨& /
,
¨¨/ 0
Email
≠≠ 
=
≠≠ 
User
≠≠  
.
≠≠  !
EmailAddress
≠≠! -
,
≠≠- .
DateOfBirth
ÆÆ 
=
ÆÆ  !
User
ÆÆ" &
.
ÆÆ& '
DateOfBirth
ÆÆ' 2
,
ÆÆ2 3
Designation
ØØ 
=
ØØ  !
User
ØØ" &
.
ØØ& '
Designation
ØØ' 2
?
ØØ2 3
.
ØØ3 4
DesignationName
ØØ4 C
,
ØØC D

Department
∞∞ 
=
∞∞  
GetDepartmentByID
∞∞! 2
(
∞∞2 3
User
∞∞3 7
.
∞∞7 8
DesignationId
∞∞8 E
)
∞∞E F
,
∞∞F G
Gender
±± 
=
±± 
User
±± !
.
±±! "
Gender
±±" (
?
±±( )
.
±±) *
Name
±±* .
,
±±. /

IsReviewer
≤≤ 
=
≤≤  
User
≤≤! %
.
≤≤% &

IsReviewer
≤≤& 0
}
¥¥ 
)
¥¥ 
;
¥¥ 
}
µµ 
catch
∂∂ 
(
∂∂ 
	Exception
∂∂ 
	exception
∂∂ &
)
∂∂& '
{
∑∑ 
_logger
∏∏ 
.
∏∏ 
LogError
∏∏  
(
∏∏  !
HelperService
∏∏! .
.
∏∏. /
LoggerMessage
∏∏/ <
(
∏∏< =
$str
∏∏= J
,
∏∏J K
$str
∏∏L r
,
∏∏r s
	exception
∏∏t }
,
∏∏} ~

UserRoleID∏∏ â
)∏∏â ä
)∏∏ä ã
;∏∏ã å
throw
∫∫ 
;
∫∫ 
}
ªª 
}
ΩΩ 	
public
øø 
bool
øø *
ChangeUserVerificationStatus
øø 0
(
øø0 1
int
øø1 4
UserId
øø5 ;
,
øø; <
int
øø= @
VerifyStatusID
øøA O
)
øøO P
{
¿¿ 	
if
¡¡ 
(
¡¡ 
UserId
¡¡ 
<=
¡¡ 
$num
¡¡ 
)
¡¡ 
throw
¡¡ "
new
¡¡# &
ArgumentException
¡¡' 8
(
¡¡8 9
$"
¡¡9 ;
$str
¡¡; h
{
¡¡h i
UserId
¡¡i o
}
¡¡o p
"
¡¡p q
)
¡¡q r
;
¡¡r s
if
¬¬ 
(
¬¬ 
VerifyStatusID
¬¬ 
<=
¬¬ !
$num
¬¬" #
||
¬¬$ &
VerifyStatusID
¬¬' 5
>
¬¬6 7
$num
¬¬8 9
)
¬¬9 :
throw
¬¬; @
new
¬¬A D
ArgumentException
¬¬E V
(
¬¬V W
$"
¬¬W Y
$str¬¬Y ó
{¬¬ó ò
VerifyStatusID¬¬ò ¶
}¬¬¶ ß
"¬¬ß ®
)¬¬® ©
;¬¬© ™
try
√√ 
{
ƒƒ 
return
≈≈ 
database
≈≈ 
.
≈≈  &
UpdateUserByVerifyStatus
≈≈  8
(
≈≈8 9
UserId
≈≈9 ?
,
≈≈? @
VerifyStatusID
≈≈A O
)
≈≈O P
;
≈≈P Q
}
∆∆ 
catch
«« 
(
«« 
	Exception
«« 
	exception
«« &
)
««& '
{
»» 
_logger
…… 
.
…… 
LogError
……  
(
……  !
HelperService
……! .
.
……. /
LoggerMessage
……/ <
(
……< =
$str
……= J
,
……J K
$str……L ä
,……ä ã
	exception……å ï
,……ï ñ
$"……ó ô
$str……ô †
{……† °
UserId……° ß
}……ß ®
$str……® ∏
{……∏ π
VerifyStatusID……π «
}……« »
"……» …
)………  
)……  À
;……À Ã
throw
   
	exception
   
;
    
}
ÀÀ 
}
ÃÃ 	
public
–– 
IEnumerable
–– 
<
–– 
Object
–– !
>
––! ""
GetUsersByIsReviewer
––# 7
(
––7 8
bool
––8 <

IsReviewer
––= G
)
––G H
{
—— 	
try
““ 
{
”” 
return
‘‘ 
GetUsers
‘‘ 
(
‘‘  
)
‘‘  !
.
‘‘! "
Where
‘‘" '
(
‘‘' (
user
‘‘( ,
=>
‘‘- /
user
‘‘0 4
.
‘‘4 5

IsReviewer
‘‘5 ?
==
‘‘@ B

IsReviewer
‘‘C M
&&
‘‘N P
user
‘‘Q U
.
‘‘U V
VerifyStatusID
‘‘V d
==
‘‘e g
$num
‘‘h i
)
‘‘i j
.
‘‘j k
Select
‘‘k q
(
‘‘q r
User
‘‘r v
=>
‘‘w y
new
‘‘z }
{
’’ 
UserId
÷÷ 
=
÷÷ 
User
÷÷ !
.
÷÷! "
UserId
÷÷" (
,
÷÷( )
Name
◊◊ 
=
◊◊ 
User
◊◊ 
.
◊◊  
FullName
◊◊  (
,
◊◊( )

EmployeeId
ÿÿ 
=
ÿÿ  
User
ÿÿ! %
.
ÿÿ% &
	AceNumber
ÿÿ& /
,
ÿÿ/ 0
Email
ŸŸ 
=
ŸŸ 
User
ŸŸ  
.
ŸŸ  !
EmailAddress
ŸŸ! -
,
ŸŸ- .
DateOfBirth
⁄⁄ 
=
⁄⁄  !
User
⁄⁄" &
.
⁄⁄& '
DateOfBirth
⁄⁄' 2
,
⁄⁄2 3
Designation
€€ 
=
€€  !
User
€€" &
.
€€& '
Designation
€€' 2
?
€€2 3
.
€€3 4
DesignationName
€€4 C
,
€€C D

Department
‹‹ 
=
‹‹  
GetDepartmentByID
‹‹! 2
(
‹‹2 3
User
‹‹3 7
.
‹‹7 8
DesignationId
‹‹8 E
)
‹‹E F
,
‹‹F G
Gender
›› 
=
›› 
User
›› !
.
››! "
Gender
››" (
?
››( )
.
››) *
Name
››* .
,
››. /

IsReviewer
ﬁﬁ 
=
ﬁﬁ  
User
ﬁﬁ! %
.
ﬁﬁ% &

IsReviewer
ﬁﬁ& 0
}
‡‡ 
)
‡‡ 
;
‡‡ 
}
·· 
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
	exception
‚‚ &
)
‚‚& '
{
„„ 
_logger
‰‰ 
.
‰‰ 
LogError
‰‰  
(
‰‰  !
HelperService
‰‰! .
.
‰‰. /
LoggerMessage
‰‰/ <
(
‰‰< =
$str
‰‰= J
,
‰‰J K
$str
‰‰L s
,
‰‰s t
	exception
‰‰u ~
,
‰‰~ 

IsReviewer‰‰Ä ä
)‰‰ä ã
)‰‰ã å
;‰‰å ç
throw
ÂÂ 
;
ÂÂ 
}
ÊÊ 
}
ÁÁ 	
private
ÍÍ 
string
ÍÍ 
GetDepartmentByID
ÍÍ (
(
ÍÍ( )
int
ÍÍ) ,
DepartmentId
ÍÍ- 9
)
ÍÍ9 :
{
ÎÎ 	
if
ÏÏ 
(
ÏÏ 
DepartmentId
ÏÏ 
<=
ÏÏ 
$num
ÏÏ  !
)
ÏÏ! "
throw
ÏÏ# (
new
ÏÏ) ,
ArgumentException
ÏÏ- >
(
ÏÏ> ?
$"
ÏÏ? A
$str
ÏÏA s
{
ÏÏs t
DepartmentIdÏÏt Ä
}ÏÏÄ Å
"ÏÏÅ Ç
)ÏÏÇ É
;ÏÏÉ Ñ
try
ÌÌ 
{
ÓÓ 
var
ÔÔ 

department
ÔÔ 
=
ÔÔ  
database
ÔÔ! )
.
ÔÔ) *
GetDepartments
ÔÔ* 8
(
ÔÔ8 9
)
ÔÔ9 :
.
ÔÔ: ;
Where
ÔÔ; @
(
ÔÔ@ A
item
ÔÔA E
=>
ÔÔF H
item
ÔÔI M
.
ÔÔM N
DepartmentId
ÔÔN Z
==
ÔÔ[ ]
DepartmentId
ÔÔ^ j
)
ÔÔj k
.
ÔÔk l
First
ÔÔl q
(
ÔÔq r
)
ÔÔr s
;
ÔÔs t
return
 

department
 !
.
! "
DepartmentName
" 0
;
0 1
}
ÚÚ 
catch
ÛÛ 
(
ÛÛ 
	Exception
ÛÛ 
	exception
ÛÛ &
)
ÛÛ& '
{
ÙÙ 
_logger
ıı 
.
ıı 
LogError
ıı  
(
ıı  !
HelperService
ıı! .
.
ıı. /
LoggerMessage
ıı/ <
(
ıı< =
$str
ıı= J
,
ııJ K
$str
ııL q
,
ııq r
	exception
ııs |
,
ıı| }
DepartmentIdıı~ ä
)ııä ã
)ııã å
;ııå ç
throw
ˆˆ 
;
ˆˆ 
}
˜˜ 
}
¯¯ 	
public
˙˙ 
IEnumerable
˙˙ 
<
˙˙ 
Object
˙˙ !
>
˙˙! "

GetGenders
˙˙# -
(
˙˙- .
)
˙˙. /
{
˚˚ 	
try
¸¸ 
{
˝˝ 
var
˛˛ 
Genders
˛˛ 
=
˛˛ 
database
˛˛ &
.
˛˛& '

GetGenders
˛˛' 1
(
˛˛1 2
)
˛˛2 3
.
˛˛3 4
Select
˛˛4 :
(
˛˛: ;
item
˛˛; ?
=>
˛˛@ B
new
˛˛C F
{
ˇˇ 
GenderId
ÄÄ 
=
ÄÄ 
item
ÄÄ #
.
ÄÄ# $
GenderId
ÄÄ$ ,
,
ÄÄ, -
Name
ÅÅ 
=
ÅÅ 
item
ÅÅ 
.
ÅÅ  
Name
ÅÅ  $
}
ÇÇ 
)
ÇÇ 
;
ÇÇ 
return
ÉÉ 
Genders
ÉÉ 
;
ÉÉ 
}
ÑÑ 
catch
ÖÖ 
(
ÖÖ 
	Exception
ÖÖ 
	exception
ÖÖ &
)
ÖÖ& '
{
ÜÜ 
_logger
áá 
.
áá 
LogError
áá  
(
áá  !
HelperService
áá! .
.
áá. /
LoggerMessage
áá/ <
(
áá< =
$str
áá= J
,
ááJ K
$str
ááL [
,
áá[ \
	exception
áá] f
)
ááf g
)
áág h
;
ááh i
throw
àà 
	exception
àà 
;
àà  
}
ââ 
}
ää 	
public
åå 
IEnumerable
åå 
<
åå 
Object
åå !
>
åå! "
GetDesignations
åå# 2
(
åå2 3
)
åå3 4
{
çç 	
try
éé 
{
èè 
var
êê 
designations
êê  
=
êê! "
database
êê# +
.
êê+ ,
GetDesignations
êê, ;
(
êê; <
)
êê< =
.
êê= >
Select
êê> D
(
êêD E
item
êêE I
=>
êêJ L
new
êêM P
{
ëë 
DesignationId
íí !
=
íí" #
item
íí$ (
.
íí( )
DesignationId
íí) 6
,
íí6 7
Name
ìì 
=
ìì 
item
ìì 
.
ìì  
DesignationName
ìì  /
,
ìì/ 0
DepartmentId
îî  
=
îî! "
item
îî# '
.
îî' (
DepartmentId
îî( 4
}
ïï 
)
ïï 
;
ïï 
return
ññ 
designations
ññ #
;
ññ# $
}
óó 
catch
òò 
(
òò 
	Exception
òò 
	exception
òò &
)
òò& '
{
ôô 
_logger
öö 
.
öö 
LogError
öö  
(
öö  !
HelperService
öö! .
.
öö. /
LoggerMessage
öö/ <
(
öö< =
$str
öö= J
,
ööJ K
$str
ööL `
,
öö` a
	exception
ööb k
)
öök l
)
ööl m
;
ööm n
throw
õõ 
	exception
õõ 
;
õõ  
}
úú 
}
ùù 	
public
üü 
IEnumerable
üü 
<
üü 
object
üü !
>
üü! "
GetDepartments
üü# 1
(
üü1 2
)
üü2 3
{
†† 	
try
°° 
{
¢¢ 
var
££ 
Departments
££ 
=
££  !
database
££" *
.
££* +
GetDepartments
££+ 9
(
££9 :
)
££: ;
.
££; <
Select
££< B
(
££B C
item
££C G
=>
££H J
new
££K N
{
§§ 
DepartmentId
••  
=
••! "
item
••# '
.
••' (
DepartmentId
••( 4
,
••4 5
Name
¶¶ 
=
¶¶ 
item
¶¶ 
.
¶¶  
DepartmentName
¶¶  .
}
ßß 
)
ßß 
;
ßß 
return
®® 
Departments
®® "
;
®®" #
}
©© 
catch
™™ 
(
™™ 
	Exception
™™ 
	exception
™™ &
)
™™& '
{
´´ 
_logger
¨¨ 
.
¨¨ 
LogError
¨¨  
(
¨¨  !
HelperService
¨¨! .
.
¨¨. /
LoggerMessage
¨¨/ <
(
¨¨< =
$str
¨¨= M
,
¨¨M N
$str
¨¨O b
,
¨¨b c
	exception
¨¨d m
)
¨¨m n
)
¨¨n o
;
¨¨o p
throw
≠≠ 
	exception
≠≠ 
;
≠≠  
}
ÆÆ 
}
ØØ 	
}
≥≥ 
}µµ ˚g
nC:\Users\ponvizhi.uday\Documents\GitHub\Project\Aurora\Source\AspireOverflow\Services\Validation\Validation.cs
	namespace 	
AspireOverflow
 
. 
Services !
{ 
public 

class 

Validation 
{		 
public 
static 
bool 
ValidateQuery (
(( )
Query) .
query/ 4
)4 5
{ 	
if 
( 
query 
== 
null 
) 
throw $
new% (
ValidationException) <
(< =
$str= W
)W X
;X Y
else 
if 
( 
query 
. 
	CreatedBy $
<=% '
$num( )
)) *
throw+ 0
new1 4
ValidationException5 H
(H I
$strI o
)o p
;p q
else 
if 
( 
String 
. 
IsNullOrEmpty )
() *
query* /
./ 0
Title0 5
)5 6
)6 7
throw8 =
new> A
ValidationExceptionB U
(U V
$strV u
)u v
;v w
else 
if 
( 
String 
. 
IsNullOrEmpty )
() *
query* /
./ 0
Content0 7
)7 8
)8 9
throw: ?
new@ C
ValidationExceptionD W
(W X
$strX y
)y z
;z {
else 
if 
( 
query 
. 
Title  
.  !
Length! '
>( )
$num* ,
), -
throw. 3
new4 7
ValidationException8 K
(K L
$strL x
)x y
;y z
else 
if 
( 
query 
. 
IsActive #
!=$ &
true' +
)+ ,
throw- 2
new3 6
ValidationException7 J
(J K
$strK b
)b c
;c d
else 
if 
( 
query 
. 
IsSolved #
!=$ &
false' ,
), -
throw. 3
new4 7
ValidationException8 K
(K L
$strL d
)d e
;e f
else 
return 
true 
; 
} 	
public 
static 
bool 
ValidateComment *
(* +
QueryComment+ 7
Comment8 ?
)? @
{ 	
if 
( 
Comment 
== 
null 
)  
throw! &
new' *
ValidationException+ >
(> ?
$str? [
)[ \
;\ ]
else   
if   
(   
Comment   
.   
	CreatedBy   &
<=  ' )
$num  * +
)  + ,
throw  - 2
new  3 6
ValidationException  7 J
(  J K
$str  K n
)  n o
;  o p
else!! 
if!! 
(!! 
Comment!! 
.!! 
QueryId!! $
<=!!% '
$num!!( )
)!!) *
throw!!+ 0
new!!1 4
ValidationException!!5 H
(!!H I
$str!!I k
)!!k l
;!!l m
else"" 
if"" 
("" 
String"" 
."" 
IsNullOrEmpty"" )
("") *
Comment""* 1
.""1 2
Comment""2 9
)""9 :
)"": ;
throw""< A
new""B E
ValidationException""F Y
(""Y Z
$str""Z {
)""{ |
;""| }
else$$ 
return$$ 
true$$ 
;$$ 
}%% 	
public'' 
static'' 
bool'' 
ValidateArticle'' *
(''* +
Article''+ 2
article''3 :
)'': ;
{(( 	
if++ 
(++ 
article++ 
==++ 
null++ 
)++  
throw++! &
new++' *
ValidationException+++ >
(++> ?
$str++? [
)++[ \
;++\ ]
else,, 
if,, 
(,, 
article,, 
.,, 
	CreatedBy,, &
<=,,' )
$num,,* +
),,+ ,
throw,,- 2
new,,3 6
ValidationException,,7 J
(,,J K
$str,,K q
),,q r
;,,r s
else-- 
if-- 
(-- 
String-- 
.-- 
IsNullOrEmpty-- )
(--) *
article--* 1
.--1 2
Title--2 7
)--7 8
)--8 9
throw--: ?
new--@ C
ValidationException--D W
(--W X
$str--X w
)--w x
;--x y
else.. 
if.. 
(.. 
String.. 
... 
IsNullOrEmpty.. )
(..) *
article..* 1
...1 2
Content..2 9
)..9 :
)..: ;
throw..< A
new..B E
ValidationException..F Y
(..Y Z
$str..Z {
)..{ |
;..| }
else// 
if// 
(// 
article// 
.// 
Title// "
.//" #
Length//# )
>//* +
$num//, /
)/// 0
throw//1 6
new//7 :
ValidationException//; N
(//N O
$str//O |
)//| }
;//} ~
else00 
if00 
(00 
article00 
.00 
ArticleStatusID00 ,
<=00- /
$num000 1
&&002 4
article005 <
.00< =
ArticleStatusID00= L
>00M N
$num00O P
)00P Q
throw00R W
new00X [
ValidationException00\ o
(00o p
$str	00p ï
)
00ï ñ
;
00ñ ó
else11 
return11 
true11 
;11 
}22 	
public44 
static44 
bool44 "
ValidateArticleComment44 1
(441 2
ArticleComment442 @
Comment44A H
)44H I
{55 	
if88 
(88 
Comment88 
==88 
null88 
)88  
throw88! &
new88' *
ValidationException88+ >
(88> ?
$str88? [
)88[ \
;88\ ]
else99 
if99 
(99 
Comment99 
.99 
	CreatedBy99 &
<=99' )
$num99* +
)99+ ,
throw99- 2
new993 6
ValidationException997 J
(99J K
$str99K n
)99n o
;99o p
else:: 
if:: 
(:: 
Comment:: 
.:: 
	ArticleId:: &
<=::' )
$num::* +
)::+ ,
throw::- 2
new::3 6
ValidationException::7 J
(::J K
$str::K o
)::o p
;::p q
else;; 
if;; 
(;; 
String;; 
.;; 
IsNullOrEmpty;; )
(;;) *
Comment;;* 1
.;;1 2
Comment;;2 9
);;9 :
);;: ;
throw;;< A
new;;B E
ValidationException;;F Y
(;;Y Z
$str;;Z {
);;{ |
;;;| }
else== 
return== 
true== 
;== 
}>> 	
publicDD 
staticDD 
boolDD 
ValidateUserDD '
(DD' (
UserDD( ,
userDD- 1
)DD1 2
{EE 	
ifII 
(II 
userII 
==II 
nullII 
)II 
throwII #
newII$ '
ValidationExceptionII( ;
(II; <
$strII< U
)IIU V
;IIV W
elseJJ 
ifJJ 
(JJ 
userJJ 
.JJ 
VerifyStatusIDJJ (
!=JJ) +
$numJJ, -
)JJ- .
throwJJ/ 4
newJJ5 8
ValidationExceptionJJ9 L
(JJL M
$"JJM O
$strJJO v
{JJv w
userJJw {
.JJ{ |
VerifyStatusID	JJ| ä
}
JJä ã
"
JJã å
)
JJå ç
;
JJç é
elseKK 
ifKK 
(KK 
userKK 
.KK 

IsReviewerKK $
!=KK% '
falseKK( -
)KK- .
throwKK/ 4
newKK5 8
ValidationExceptionKK9 L
(KKL M
$"KKM O
$strKKO g
"KKg h
)KKh i
;KKi j
elseLL 
ifLL 
(LL 
userLL 
.LL 
GenderIdLL "
<=LL# %
$numLL& '
&&LL( *
userLL+ /
.LL/ 0
GenderIdLL0 8
>LL9 :
$numLL; <
)LL< =
throwLL> C
newLLD G
ValidationExceptionLLH [
(LL[ \
$"LL\ ^
$strLL^ v
"LLv w
)LLw x
;LLx y
elseMM 
ifMM 
(MM 
userMM 
.MM 

UserRoleIdMM $
!=MM% '
$numMM( )
)MM) *
throwMM+ 0
newMM1 4
ValidationExceptionMM5 H
(MMH I
$"MMI K
$strMMK r
{MMr s
userMMs w
.MMw x

UserRoleId	MMx Ç
}
MMÇ É
"
MMÉ Ñ
)
MMÑ Ö
;
MMÖ Ü
elseNN 
ifNN 
(NN 
!NN #
ValidateUserCredentialsNN ,
(NN, -
userNN- 1
.NN1 2
EmailAddressNN2 >
,NN> ?
userNN? C
.NNC D
PasswordNND L
)NNL M
)NNM N
returnNNO U
falseNNV [
;NN[ \
elseOO 
returnOO 
trueOO 
;OO 
}PP 	
publicTT 
staticTT 
boolTT 
ValidateSpamTT '
(TT' (
SpamTT( ,
spamTT- 1
)TT1 2
{UU 	
ifVV 
(VV 
spamVV 
==VV 
nullVV 
)VV 
throwVV #
newVV$ '
ValidationExceptionVV( ;
(VV; <
$strVV< U
)VVU V
;VVV W
elseWW 
ifWW 
(WW 
spamWW 
.WW 
QueryIdWW !
<=WW" $
$numWW% &
)WW& '
throwWW( -
newWW. 1
ValidationExceptionWW2 E
(WWE F
$strWWF g
)WWg h
;WWh i
elseXX 
ifXX 
(XX 
spamXX 
.XX 
UserIdXX  
<=XX! #
$numXX$ %
)XX% &
throwXX' ,
newXX- 0
ValidationExceptionXX1 D
(XXD E
$strXXE d
)XXd e
;XXe f
elseYY 
ifYY 
(YY 
spamYY 
.YY 
VerifyStatusIDYY (
<=YY) +
$numYY, -
&&YY. 0
spamYY1 5
.YY5 6
VerifyStatusIDYY6 D
>YYE F
$numYYG H
)YYH I
throwZZ 
newZZ 
ValidationExceptionZZ )
(ZZ) *
$strZZ* T
)ZZT U
;ZZU V
else[[ 
if[[ 
([[ 
String[[ 
.[[ 
IsNullOrEmpty[[ )
([[) *
spam[[* .
.[[. /
Reason[[/ 5
)[[5 6
)[[6 7
throw[[8 =
new[[> A
ValidationException[[B U
([[U V
$str[[V {
)[[{ |
;[[| }
else\\ 
return\\ 
true\\ 
;\\ 
}]] 	
public^^ 
static^^ 
bool^^ #
ValidateUserCredentials^^ +
(^^+ ,
String^^, 2
Email^^3 8
,^^8 9
String^^9 ?
Password^^@ H
)^^I J
{__ 	
var`` 
mail`` 
=`` 
new`` 
Regex``  
(``  !
$str``! D
)``D E
;``E F
varaa 
passwordaa 
=aa 
newaa 
Regexaa $
(aa$ %
$straa% e
)aae f
;aaf g
ifbb 
(bb 
!bb 
mailbb 
.bb 
IsMatchbb 
(bb 
Emailbb #
)bb# $
)bb$ %
throwbb& +
newbb, /
ValidationExceptionbb0 C
(bbC D
$"bbD F
$strbbF m
{bbm n
Emailbbo t
}bbu v
"bbv w
)bbw x
;bbx y
elsecc 
ifcc 
(cc 
!cc 
passwordcc 
.cc 
IsMatchcc %
(cc% &
Passwordcc& .
)cc. /
)cc/ 0
throwcc0 5
newcc6 9
ValidationExceptioncc: M
(ccM N
$"ccN P
$str	ccP ö
{
ccö õ
Password
ccõ £
}
cc£ §
"
cc§ •
)
cc• ¶
;
cc¶ ß
elsedd 
returndd 
truedd 
;dd 
}ee 	
}ii 
}mm 